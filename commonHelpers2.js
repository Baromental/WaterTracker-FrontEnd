import{a as gt,c as y,R as e,r as m,b as ce,B as A,d as le,e as k,f as je,u as T,g as E,h as ie,i as me,j as _e,N as Ue,O as ht,L as Pe,o as ke,k as wt,I as Et,l as re,m as ue,C as $e,F as ft,n as Ae,D as bt,p as vt,A as Oe,q as Nt,G as yt,s as kt,t as Ve,v as He,w as $t,x as Y,y as Ct,z as Rt,E as Lt,H as St,P as Pt,J as Wt,K as Mt,M as xt,Q as Tt,S as qt,T as Bt,U as It,V as Ft,W as Dt,X as zt}from"./assets/vendor-95f466c4.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const N=gt.create({baseURL:"https://water-tracker-backend-oo69.onrender.com/api/"}),Ce=a=>{N.defaults.headers.common.Authorization=`Bearer ${a}`},jt=()=>{N.defaults.headers.common.Authorization=""},U=["january","february","march","april","may","june","july","august","september","october","november","december"],Ge=y("addWater",async(a,t)=>{try{const{data:n}=await N.post("water",a);return t.dispatch(H()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ye=y("editWater",async(a,t)=>{const{amount:n,date:r,id:s}=a;try{const{data:o}=await N.patch(`water/${s}`,{amount:n,date:r});return t.dispatch(H()),o}catch(o){return t.rejectWithValue(o.response.data.message)}}),Ke=y("deleteWater",async(a,t)=>{try{const{data:n}=await N.delete(`water/${a.id}`);return t.dispatch(H()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Qe=y("fetchWaterDataToday",async(a,t)=>{try{const{data:n}=await N.get("water/today");return n}catch(n){return t.rejectWithValue(n.response.data.message)}}),H=y("fetchWaterDataMonth",async({year:a=new Date().getFullYear(),month:t=U[new Date().getMonth()]}={},n)=>{try{const{data:r}=await N.get(`water/${a}/${t}`);return r}catch(r){return n.rejectWithValue(r.response.data.message)}}),Je=y("register",async(a,t)=>{try{const{data:n}=await N.post("auth/register",a);return Ce(n.token),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Xe=y("login",async(a,t)=>{try{const{data:n}=await N.post("auth/login",a);return console.log(n),Ce(n.token),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ze=y("logout",async(a,t)=>{try{const{data:n}=await N.post("auth/logout");return jt(),n}catch(n){return t.rejectWithValue(n.message)}}),se=y("refresh",async(a,t)=>{const n=t.getState().auth.token;if(!n)return t.rejectWithValue("Token is not exist!");try{Ce(n);const{data:r}=await N.get("user/current");return r}catch(r){return t.rejectWithValue(r.message)}});y("getWaterRate",async(a,t)=>{try{const{data:n}=await N.get("user/current");return n}catch(n){return t.rejectWithValue(n.message)}});const et=y("updateUser",async(a,t)=>{try{const{data:n}=await N.patch("user/setting",a);return n}catch(n){return t.rejectWithValue(n.response.data.message)}}),tt=y("updateAvatar",async(a,t)=>{try{const n=await N.patch("user/avatars",a,{headers:{"Content-Type":"multipart/form-data"}});return console.log(n),n.data}catch(n){return t.rejectWithValue(n.response.data.message)}}),ye=y("updateWaterRate",async(a,t)=>{try{const{data:n}=await N.patch("user/waterRate",a);return t.dispatch(H()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ut="_overlay_1y9mq_1",At="_modal_1y9mq_13",Ot="_closeButton_1y9mq_25",Ee={overlay:Ut,modal:At,closeButton:Ot},v="/watertracker-frontend/assets/sprite-d6eb1314.svg",Vt="_label_1vnkl_1",fe={label:Vt},We=({name:a,id:t,defaultChecked:n,value:r,label:s,register:o,onChange:c})=>e.createElement("div",{className:fe.wrap},e.createElement("input",{id:t,className:fe.input,...o(`${a}`),name:a,value:r,onChange:c,type:"radio",defaultChecked:n}),e.createElement("label",{htmlFor:t,className:fe.label},s)),Ht="_wrap_dupkw_1",Gt="_label_dupkw_5",Yt="_input_dupkw_13",Kt="_error_dupkw_47",Z={wrap:Ht,label:Gt,input:Yt,error:Kt},Me=({name:a,id:t,type:n,value:r,label:s,placeholder:o,register:c,onChange:i,error:l})=>e.createElement("div",{className:Z.wrap},e.createElement("label",{htmlFor:t,className:Z.label},s),e.createElement("input",{id:t,className:Z.input,...c(`${a}`),name:a,type:n,value:r,placeholder:o,onChange:i,autoComplete:"off"}),l&&e.createElement("span",{className:Z.error},l)),Qt="_wrap_hxh8f_1",Jt="_label_hxh8f_5",Xt="_wrapInput_hxh8f_13",Zt="_eye_hxh8f_18",ea="_icon_hxh8f_24",ta="_input_hxh8f_30",aa="_error_hxh8f_63",q={wrap:Qt,label:Jt,wrapInput:Xt,eye:Zt,icon:ea,input:ta,error:aa},be=({name:a,id:t,value:n,label:r,placeholder:s,register:o,onChange:c,error:i})=>{const[l,u]=m.useState("password");return e.createElement("div",{className:q.wrap},e.createElement("label",{htmlFor:t,className:q.label},r),e.createElement("div",{className:q.wrapInput},e.createElement("div",{className:q.eye,onClick:()=>{u(l==="password"?"text":"password")}},l==="password"?e.createElement("svg",{className:q.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${v}#icon-crossed-eye`})):e.createElement("svg",{className:q.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${v}#icon-eye`}))),e.createElement("input",{id:t,className:q.input,...o(`${a}`),name:a,type:l,value:n,placeholder:s,onChange:c})),i&&e.createElement("span",{className:q.error},i))},na="_wrap_bl731_1",ra="_imageWrap_bl731_5",sa="_label_bl731_11",oa="_imagePreviewContainer_bl731_17",ca="_imagePreview_bl731_17",la="_placeholder_bl731_31",ia="_input_bl731_40",ma="_button_bl731_44",_a="_icon_bl731_57",L={wrap:na,imageWrap:ra,label:sa,imagePreviewContainer:oa,imagePreview:ca,placeholder:la,input:ia,button:ma,icon:_a},ua=({name:a,type:t,label:n,placeholder:r,src:s,register:o,onChange:c})=>{const[i,l]=m.useState(s),u=m.useRef(null),p=f=>{const w=f.target.files[0];if(w){const b=new FileReader;b.onloadend=()=>{l(b.result)},b.readAsDataURL(w)}c&&c(f)},d=()=>{u.current.click()};return e.createElement("div",{className:L.wrap},e.createElement("label",{className:L.label,htmlFor:a},n),e.createElement("div",{className:L.imageWrap},e.createElement("div",{className:L.imagePreviewContainer},i?e.createElement("img",{src:i,alt:"Preview",className:L.imagePreview}):e.createElement("div",{className:L.placeholder},r)),e.createElement("input",{id:a,className:L.input,name:a,type:t,onChange:p,ref:f=>{o(`${a}`),u.current=f}}),e.createElement("button",{type:"button",onClick:d,className:L.button},e.createElement("svg",{width:"16",height:"16",className:L.icon},e.createElement("use",{href:`${v}#icon-arrow-up`}))," ","Upload a photo")))},ve={name:"",email:"",password:"",gender:"",waterRate:1.5,avatarURL:"",token:null,isLoggedIn:!1,isRefresh:!1},Re=ce({name:"auth",initialState:ve,selectors:{selectName:a=>a.name,selectGender:a=>a.gender,selectEmail:a=>a.email,selectWaterRate:a=>a.waterRate,selectAvatarURL:a=>a.avatarURL,selectIsLoggedIn:a=>a.isLoggedIn,selectToken:a=>a.token,selectIsRefresh:a=>a.isRefresh},reducers:{logout:a=>ve,setName:(a,t)=>{a.name=t.payload}},extraReducers:a=>{a.addCase(se.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isLoggedIn=!0,t.isRefresh=!1}).addCase(se.pending,(t,{payload:n})=>{t.isRefresh=!0}).addCase(se.rejected,(t,{payload:n})=>{t.isRefresh=!1}).addCase(Ze.fulfilled,t=>ve).addCase(tt.fulfilled,(t,{payload:n})=>{t.avatarURL=n.avatarURL,t.isRefresh=!1,A.success("The avatar has been downloaded successfully")}).addCase(et.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.isRefresh=!1,A.success("Data changed successfully")}).addCase(ye.fulfilled,(t,{payload:n})=>{t.waterRate=n.waterRate,A.success("Daily norma updated successfully")}).addCase(Je.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isRefresh=!1,A.success("You have successfully registered")}).addCase(Xe.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isLoggedIn=!0,t.isRefresh=!1,A.success(`Welcome, ${n.name||n.email}`)})}}),da=Re.reducer,{selectName:at,selectGender:pa,selectEmail:ga,selectWaterRate:nt,selectAvatarURL:rt,selectIsLoggedIn:de,selectToken:ha,selectIsRefresh:wa}=Re.selectors,{logout:Ea,setName:xo}=Re.actions;le().shape({name:k().max(32,"Must be less than 32 symbols"),email:k().required("Email is required").email("Email is not valid"),password:k().notRequired(),newPassword:k().when("password",{is:a=>a&&a.length>0,then:k().required("New Password is required").min(8,"Must be more than 8 symbols").max(64,"Must be less than 64 symbols")}),repeatNewPass:k().oneOf([je("newPassword"),null],"Passwords must match").when("newPassword",{is:a=>a&&a.length>0,then:k().required("Repeat new password is required")})});const fa="_title_ktmtr_1",ba="_form_ktmtr_10",va="_mainWrap_ktmtr_23",Na="_fieldsetGender_ktmtr_35",ya="_wrapInfo_ktmtr_43",ka="_fieldset_ktmtr_35",$a="_legend_ktmtr_56",Ca="_button_ktmtr_65",S={title:fa,form:ba,mainWrap:va,fieldsetGender:Na,wrapInfo:ya,fieldset:ka,legend:$a,button:Ca},Ra=()=>{var w,b,O,F,G;const a=T(),t=E(at),n=E(ga),r=E(pa),s=E(rt),{register:o,handleSubmit:c,watch:i,setValue:l,setError:u,formState:{errors:p}}=ie({defaultValues:{name:t,email:n,gender:r}});i("gender"),m.useEffect(()=>{l("name",t),l("email",n),l("gender",r)},[t,n,r,l]);const d=R=>{const{email:J,name:X,gender:pt,newPassword:D,password:he,repeatNewPass:Se}=R;if(D&&he===D){u("newPassword",{type:"manual",message:"New password cannot be the same as the current password."});return}if(D&&D!==Se){u("repeatNewPass",{type:"manual",message:"New password and repeat password do not match."});return}const we={email:J,name:X,gender:pt};he&&D&&D===Se&&(we.password=he,we.newPassword=D),a(et(we))},f=R=>{R.preventDefault();const J=R.target.files[0];if(J){const X=new FormData;X.append("avatarURL",J),a(tt(X))}};return e.createElement(e.Fragment,null,e.createElement("h1",{className:S.title},"Setting"),e.createElement("form",{className:S.form,onSubmit:c(d)},e.createElement(ua,{name:"avatar",type:"file",label:"Your photo",placeholder:"Upload a photo",src:s,register:o,onChange:f}),e.createElement("div",{className:S.mainWrap},e.createElement("div",null,e.createElement("fieldset",{className:S.fieldsetGender},e.createElement("legend",{className:S.legend},"Your gender identity"),e.createElement(We,{id:"woman",name:"gender",value:"woman",label:"Woman",register:o,onChange:()=>l("gender","woman"),defaultChecked:"true"}),e.createElement(We,{id:"man",name:"gender",value:"man",label:"Man",register:o,onChange:()=>l("gender","man"),defaultChecked:"false"})),e.createElement("div",{className:S.wrapInfo},e.createElement(Me,{id:"name",name:"name",type:"text",label:"Your name",placeholder:"Enter your name",register:o,error:(w=p.name)==null?void 0:w.message}),e.createElement(Me,{id:"email",name:"email",type:"email",label:"E-mail",placeholder:"Enter your e-mail",register:o,error:(b=p.email)==null?void 0:b.message}))),e.createElement("fieldset",{className:S.fieldset},e.createElement("legend",{className:S.legend},"Password"),e.createElement(be,{name:"password",label:"Outdated password:",placeholder:"Password",register:o,error:(O=p.password)==null?void 0:O.message}),e.createElement(be,{name:"newPassword",label:"New Password:",placeholder:"Password",register:o,error:(F=p.newPassword)==null?void 0:F.message}),e.createElement(be,{name:"repeatNewPass",label:"Repeat new password:",placeholder:"Password",register:o,error:(G=p.repeatNewPass)==null?void 0:G.message}))),e.createElement("button",{className:S.button},"Save")))},La=document.querySelector("#modal"),Sa=({onClose:a})=>{const t=m.useCallback(r=>{r.key==="Escape"&&a()},[a]);m.useEffect(()=>(document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}),[t]);const n=r=>{r.target===r.currentTarget&&a()};return me.createPortal(e.createElement("div",{className:Ee.overlay,onClick:n},e.createElement("div",{className:Ee.modal},e.createElement("button",{className:Ee.closeButton,onClick:a},e.createElement("svg",{width:"24",height:"24"},e.createElement("use",{href:`${v}#icon-cross`}))),e.createElement(Ra,null))),La)},Pa="_overlay_1n6y8_1",Wa="_modal_1n6y8_12",Ma="_header_1n6y8_21",xa="_title_1n6y8_28",Ta="_paragraph_1n6y8_35",qa="_closeButton_1n6y8_42",Ba="_buttonContainer_1n6y8_49",Ia="_cancelButton_1n6y8_56",Fa="_logoutButton_1n6y8_56",P={overlay:Pa,modal:Wa,header:Ma,title:xa,paragraph:Ta,closeButton:qa,buttonContainer:Ba,cancelButton:Ia,logoutButton:Fa},Da=document.querySelector("#modal"),za=({onClose:a})=>{const t=_e(),n=T(),r=()=>{n(Ze()),n(Ea()),a(),t("/")},s=m.useCallback(c=>{c.key==="Escape"&&a()},[a]);m.useEffect(()=>(document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}),[s]);const o=c=>{c.target===c.currentTarget&&a()};return me.createPortal(e.createElement("div",{className:P.overlay,onClick:o},e.createElement("div",{className:P.modal},e.createElement("div",{className:P.header},e.createElement("h2",{className:P.title},"Log out"),e.createElement("button",{className:P.closeButton,onClick:a},e.createElement("svg",{width:"24",height:"24"},e.createElement("use",{href:`${v}#icon-cross`})))),e.createElement("p",{className:P.paragraph},"Do you really want to leave?"),e.createElement("div",{className:P.buttonContainer},e.createElement("button",{className:P.cancelButton,onClick:a},"Cancel"),e.createElement("button",{className:P.logoutButton,onClick:r},"Log out")))),Da)},ja="_modalWrapper_1djf7_1",Ua="_menu_1djf7_12",Aa="_menuItem_1djf7_24",Oa="_icon_1djf7_43",Va="_modalContent_1djf7_49",z={modalWrapper:ja,menu:Ua,menuItem:Aa,icon:Oa,modalContent:Va},Ha=document.querySelector("#modal"),Ga=({closeModal:a,onSettingsClick:t,onLogoutClick:n})=>{const r=m.useCallback(o=>{o.key==="Escape"&&a()},[a]);m.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[r]);const s=o=>{o.target===o.currentTarget&&a()};return me.createPortal(e.createElement("div",{onClick:s,className:z.modalWrapper},e.createElement("div",{className:z.modalContent},e.createElement("div",{className:z.menu},e.createElement("button",{className:z.menuItem,onClick:t},e.createElement("svg",{width:"16",height:"16",className:z.icon},e.createElement("use",{href:`${v}#icon-gear`})),"Setting"),e.createElement("button",{className:z.menuItem,onClick:n},e.createElement("svg",{width:"16",height:"16",className:z.icon},e.createElement("use",{href:`${v}#icon-exit`})),"Log out")))),Ha)},Ya="_header_rg0g9_1",Ka="_logoLink_rg0g9_8",Qa="_userAuthButton_rg0g9_12",Ja="_userLogoButton_rg0g9_22",Xa="_userName_rg0g9_31",Za="_userAvatar_rg0g9_37",en="_iconUser_rg0g9_43",tn="_iconDown_rg0g9_48",W={header:Ya,logoLink:Ka,userAuthButton:Qa,userLogoButton:Ja,userName:Xa,userAvatar:Za,iconUser:en,iconDown:tn},an="/watertracker-frontend/assets/logo-694fc291.png",nn=()=>{const[a,t]=m.useState(!1),[n,r]=m.useState(!1),[s,o]=m.useState(!1),c=E(de),i=E(at),l=E(rt),u=_e(),p=()=>{t(!0),o(!1)},d=()=>t(!1),f=()=>{r(!0),o(!1)},w=()=>r(!1),b=()=>o(!s),O=()=>{u(c?"/home":"/")},F=()=>{w()};return e.createElement("header",null,e.createElement("nav",{className:W.header},e.createElement("div",{className:W.logoLink,onClick:O},e.createElement("img",{src:an,alt:"Logo",className:"logo"})),!c&&e.createElement(Ue,{to:"/signin",className:W.userAuthButton},"Sign In",e.createElement("svg",{width:"28",height:"28",className:W.iconUser},e.createElement("use",{href:`${v}#icon-user`}))),c&&e.createElement(e.Fragment,null,e.createElement("button",{className:W.userLogoButton,onClick:b},e.createElement("span",{className:W.userName},i),l?e.createElement("img",{src:l,alt:"User Avatar",className:W.userAvatar}):e.createElement("svg",{width:"28",height:"28",className:W.iconUser},e.createElement("use",{href:`${v}#icon-user`})),e.createElement("svg",{width:"16",height:"16",className:W.iconDown},e.createElement("use",{href:`${v}#icon-down`}))),s&&e.createElement(Ga,{closeModal:b,onSettingsClick:p,onLogoutClick:f}))),a&&e.createElement(Sa,{onClose:d}),n&&e.createElement(za,{onClose:w,onLogout:F}))},rn=()=>e.createElement("div",null,e.createElement(nn,null),e.createElement(ht,null)),sn="_welcomePageBackground_mihq7_1",on="_container_mihq7_11",xe={welcomePageBackground:sn,container:on},cn=({children:a})=>e.createElement("section",{className:xe.welcomePageBackground},e.createElement("div",{className:xe.container},a)),ln="_welcomePageContainer_ozivr_1",mn="_title_ozivr_5",_n="_buttonContainer_ozivr_10",un="_subtitle_ozivr_17",dn="_listButtonTitle_ozivr_24",pn="_listButton_ozivr_24",gn="_itemListButton_ozivr_40",hn="_button_ozivr_10",wn="_listTitle_ozivr_76",En="_list_ozivr_24",fn="_itemList_ozivr_40",bn="_welcomePageSection_ozivr_115",g={welcomePageContainer:ln,title:mn,buttonContainer:_n,subtitle:un,listButtonTitle:dn,listButton:pn,itemListButton:gn,button:hn,listTitle:wn,list:En,itemList:fn,welcomePageSection:bn},vn=()=>e.createElement(cn,null,e.createElement("div",{className:g.welcomePageSection},e.createElement("h1",{className:g.title},"Water consumption tracker"),e.createElement("div",{className:g.welcomePageContainer},e.createElement("div",{className:g.buttonContainer},e.createElement("h2",{className:g.subtitle},"Record daily water intake and track"),e.createElement("div",null,e.createElement("span",{className:g.listButtonTitle},"Tracker Benefits"),e.createElement("ul",{className:g.listButton},e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${v}#icon-calendar`})),"Habit drive"),e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${v}#icon-analytics`})),"View statistics"),e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${v}#icon-screw`})),"Personal rate setting"))),e.createElement(Ue,{to:"/signup",className:g.button},"Try tracker")),e.createElement("div",{className:g.listContainer},e.createElement("ul",{className:g.list},e.createElement("span",{className:g.listTitle},"Why drink water"),e.createElement("li",{className:g.itemList},"Supply of nutrients to all organs"),e.createElement("li",{className:g.itemList},"Providing oxygen to the lungs"),e.createElement("li",{className:g.itemList},"Maintaining the work of the heart"),e.createElement("li",{className:g.itemList},"Release of processed substances"),e.createElement("li",{className:g.itemList},"Ensuring the stability of the internal environment"),e.createElement("li",{className:g.itemList},"Maintaining within the normal temperature"),e.createElement("li",{className:g.itemList},"Maintaining an immune system capable of resisting disease")))))),Nn="_mainWrap_1elhr_1",yn="_title_1elhr_7",kn="_form_1elhr_14",$n="_wrap_1elhr_18",Cn="_label_1elhr_22",Rn="_input_1elhr_29",Ln="_error_1elhr_53",Sn="_button_1elhr_58",Pn="_link_1elhr_86",V={mainWrap:Nn,title:yn,form:kn,wrap:$n,label:Cn,input:Rn,error:Ln,button:Sn,link:Pn},Wn="_wrap_55lks_1",Mn="_label_55lks_5",xn="_wrapInput_55lks_12",Tn="_eye_55lks_17",qn="_icon_55lks_23",Bn="_input_55lks_29",In="_error_55lks_53",B={wrap:Wn,label:Mn,wrapInput:xn,eye:Tn,icon:qn,input:Bn,error:In},Te=({name:a,id:t,value:n,label:r,placeholder:s,register:o,onChange:c,error:i})=>{const[l,u]=m.useState("password");return e.createElement("div",{className:B.wrap},e.createElement("label",{htmlFor:t,className:B.label},r),e.createElement("div",{className:B.wrapInput},e.createElement("div",{className:B.eye,onClick:()=>{u(l==="password"?"text":"password")}},l==="password"?e.createElement("svg",{className:B.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${v}#icon-crossed-eye`})):e.createElement("svg",{className:B.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${v}#icon-eye`}))),e.createElement("input",{id:t,className:B.input,...o(`${a}`),name:a,type:l,value:n,placeholder:s,onChange:c})),i&&e.createElement("span",{className:B.error},i))},Fn="_wrap_1e3ds_1",Dn="_label_1e3ds_5",zn="_input_1e3ds_12",jn="_error_1e3ds_44",ee={wrap:Fn,label:Dn,input:zn,error:jn},Un=({name:a,id:t,type:n,value:r,label:s,placeholder:o,register:c,onChange:i,error:l})=>e.createElement("div",{className:ee.wrap},e.createElement("label",{htmlFor:t,className:ee.label},s),e.createElement("input",{id:t,className:ee.input,...c(`${a}`),name:a,type:n,value:r,placeholder:o,onChange:i,autoComplete:"off"}),l&&e.createElement("span",{className:ee.error},l)),st=({formType:a,onSubmit:t,schema:n})=>{var l,u,p;const{register:r,handleSubmit:s,formState:{errors:o}}=ie({resolver:ke(n)}),c=_e(),i=d=>{const{repeatPassword:f,...w}=d;t(w).then(b=>{b.error||c(a==="register"?"/signin":"/home")}).catch(b=>{A.error("Submission error:",b)})};return e.createElement("div",{className:V.mainWrap},e.createElement("h1",{className:V.title},a==="register"?"Sign Up":"Sign In"),e.createElement("form",{className:V.form,onSubmit:s(i)},e.createElement(Un,{id:"email",name:"email",type:"email",label:"Enter your email",placeholder:"E-mail",register:r,error:(l=o.email)==null?void 0:l.message}),e.createElement(Te,{id:"password",name:"password",label:"Enter your password",placeholder:"Password",register:r,error:(u=o.password)==null?void 0:u.message}),a==="register"&&e.createElement(Te,{id:"repeatPassword",name:"repeatPassword",label:"Repeat password",placeholder:"Repeat password",register:r,error:(p=o.repeatPassword)==null?void 0:p.message}),e.createElement("button",{className:V.button},a==="register"?"Sign Up":"Sign In"),a==="register"?e.createElement(Pe,{to:"/signin",className:V.link},"Sign in"):e.createElement(Pe,{to:"/signup",className:V.link},"Sign up")))},An="_section_1xlru_1",On="_container_1xlru_5",qe={section:An,container:On},ot=({children:a})=>e.createElement("section",{className:qe.section},e.createElement("div",{className:qe.container},a)),ct=le({email:k().required().email("Email is not valid"),password:k().required().min(8,"Must be more then 8 symbols").max(64,"Must be less then 64 symbols"),repeatPassword:k().oneOf([je("password"),null],"Passwords must match")}).required(),Vn=()=>{const a=T(),t=async n=>{try{return{error:null,response:await a(Je(n)).unwrap()}}catch(r){return{error:r}}};return e.createElement(ot,null,e.createElement(st,{onSubmit:t,formType:"register",schema:ct}))},Hn=()=>{const a=T(),t=async n=>{try{return{error:null,response:await a(Xe(n)).unwrap()}}catch(r){return{error:r}}};return e.createElement(ot,null,e.createElement(st,{onSubmit:t,formType:"login",schema:ct}))},Gn={percent:0,notes:[],notesPerMonth:[]},lt=ce({name:"water",initialState:Gn,selectors:{selectNotes:a=>a.notes,selectPercent:a=>a.percent,selectNotesPerMonth:a=>a.notesPerMonth},extraReducers:a=>{a.addCase(Ge.fulfilled,(t,{payload:n})=>{t.notes.push(n)}).addCase(Ye.fulfilled,(t,{payload:n})=>{const r=t.notes.findIndex(s=>s._id===n._id);t.notes.splice(r,1,n)}).addCase(Ke.fulfilled,(t,{payload:n})=>{t.notes=t.notes.filter(r=>r._id!==n._id)}).addCase(Qe.fulfilled,(t,{payload:n})=>{t.notes=n.result,t.percent=n.percent}).addCase(H.fulfilled,(t,{payload:n})=>{t.notesPerMonth=n})}}),Yn=lt.reducer,{selectNotes:it,selectPercent:To,selectNotesPerMonth:Kn}=lt.selectors,pe=()=>{const[a,t]=m.useState(!1);return{isOpen:a,close:()=>t(!1),open:()=>t(!0),toggle:()=>t(o=>!o)}},mt=a=>wt(new Date(a)).format("HH:mm A"),Qn="_backdrop_2khdm_1",Jn="_modal_2khdm_11",Xn="_btn_close_2khdm_28",Zn="_icon_close_2khdm_39",te={backdrop:Qn,modal:Jn,btn_close:Xn,icon_close:Zn},er=document.querySelector("#modal"),ge=({closeModal:a,children:t})=>{const n=m.useCallback(s=>{s.key==="Escape"&&a()},[a]);m.useEffect(()=>(document.body.style.overflow="hidden",document.addEventListener("keydown",n),()=>{document.body.style.overflow="",document.removeEventListener("keydown",n)}),[a,n]);const r=s=>{s.target===s.currentTarget&&a()};return me.createPortal(e.createElement("div",{onClick:r,className:te.backdrop},e.createElement("div",{className:te.modal},e.createElement("button",{onClick:a,className:te.btn_close},e.createElement(Et,{className:te.icon_close})),t)),er)},tr=le().shape({amount:re().required("Amount is required").min(1,"Minimum amount is 1").max(5e3,"Maximum amount is 5000").typeError("Please enter a valid number"),date:k().required("Date is required")}),ar="_btn_1ejif_1",nr="_blue_1ejif_28",rr="_red_1ejif_32",sr="_cancel_1ejif_36",or="_add_1ejif_52",Be={btn:ar,blue:nr,red:rr,cancel:sr,add:or},oe=({children:a,type:t,className:n,onClick:r})=>e.createElement("button",{type:t,className:`${Be.btn} ${Be[n]}`,onClick:r},a),cr="_amount_trcfk_1",lr={amount:cr},ir=()=>{const{watch:a}=ue(),t=a("amount");return e.createElement("p",{className:lr.amount},t||0,"ml")},mr="_wrapper_v3ipt_1",_r="_label_v3ipt_7",ur="_input_wrapper_v3ipt_12",dr="_input_container_v3ipt_18",pr="_input_v3ipt_12",gr="_btn_v3ipt_42",hr="_icon_v3ipt_55",M={wrapper:mr,label:_r,input_wrapper:ur,input_container:dr,input:pr,btn:gr,icon:hr},wr=()=>{const{control:a}=ue();return e.createElement($e,{name:"amount",control:a,render:({field:t})=>e.createElement("div",{className:M.wrapper},e.createElement("label",{htmlFor:"amount-water",className:M.label},"Amount of water:"),e.createElement("div",{className:M.input_wrapper},e.createElement("button",{className:M.btn,type:"button",onClick:()=>t.onChange(Math.max(t.value-50,0))},e.createElement(ft,{className:M.icon})),e.createElement("div",{className:M.input_container},e.createElement("div",{className:M.input,id:"amount-water"},t.value||0,"ml")),e.createElement("button",{className:M.btn,type:"button",onClick:()=>t.onChange(Math.min(t.value+50,5e3))},e.createElement(Ae,{className:M.icon}))))})},Er="_wrapper_ss3x8_1",fr="_label_ss3x8_7",br="_datepicker_ss3x8_12",vr="_wrapper_datepicker_ss3x8_22",Nr="_error_ss3x8_26",K={wrapper:Er,label:fr,datepicker:br,wrapper_datepicker:vr,error:Nr};const yr=({className:a})=>{const{control:t}=ue();return e.createElement($e,{name:"date",control:t,render:({field:n})=>e.createElement("div",{className:K.wrapper},e.createElement("label",{htmlFor:"time",className:K.label},"Recording time:"),e.createElement(bt,{id:"time",selected:n.value,onChange:r=>{n.onChange(r)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:5,timeCaption:"Time",dateFormat:"H:mm aa",className:`${K.datepicker} ${K[a]}`,wrapperClassName:K.wrapper_datepicker}))})},kr="_wrapper_1lswm_1",$r="_label_1lswm_7",Cr="_input_1lswm_14",Rr="_error_1lswm_24",ae={wrapper:kr,label:$r,input:Cr,error:Rr},Lr=({className:a})=>{const{control:t}=ue();return e.createElement($e,{name:"amount",control:t,render:({field:n})=>e.createElement("div",{className:ae.wrapper},e.createElement("label",{htmlFor:"water-value",className:ae.label},"Enter the value of the water used:"),e.createElement("input",{className:`${ae.input} ${ae[a]}`,id:"water-value",type:"number",value:n.value,onChange:r=>{const s=r.target.value;s<=5e3&&s>=0&&n.onChange(s)},min:0,max:5e3}))})},_t="/watertracker-frontend/assets/glass-e3b976c0.svg",Sr="_form_title_93i33_1",Pr="_text_under_title_93i33_9",Wr="_inputs_wrapper_93i33_17",Mr="_btn_wrapper_93i33_23",xr="_error_message_93i33_37",Tr="_ml_93i33_43",qr="_time_93i33_49",Br="_edit_data_93i33_55",$={form_title:Sr,text_under_title:Pr,inputs_wrapper:Wr,btn_wrapper:Mr,error_message:xr,ml:Tr,time:qr,edit_data:Br},Le=({type:a,amount:t,date:n,id:r,closeModal:s})=>{const o=T(),c=ie({defaultValues:{amount:t,date:n},resolver:ke(tr)}),{formState:{errors:i}}=c,l=d=>{switch(d.date=d.date.toString(),a){case"edit":o(Ye({...d,id:r}));break;case"add":o(Ge(d));break;case"delete":o(Ke({...d,id:r}));break}s()},u=d=>{switch(d){case"edit":return"Edit the entered amount of water";case"add":return"Add water";case"delete":return"Delete entry"}},p=d=>{switch(d){case"edit":return"Correct entered data:";case"add":return"Choose a value:";case"delete":return"Are you sure you want to delete the entry?"}};return e.createElement(vt,{...c},e.createElement("form",{onSubmit:c.handleSubmit(l)},e.createElement("h2",{className:$.form_title},u(a)),a==="edit"&&e.createElement("div",{className:$.edit_data},e.createElement("img",{src:_t,alt:"glass"}),e.createElement("p",{className:$.ml},t,"ml"),e.createElement("p",{className:$.time},mt(n))),e.createElement("p",{className:$.text_under_title},p(a)),a!=="delete"&&e.createElement("div",{className:$.inputs_wrapper},e.createElement(wr,null),i.amount&&e.createElement("p",{className:$.error_message},i.amount.message),e.createElement(yr,{className:i.date?"error":""}),i.date&&e.createElement("p",{className:$.error_message},i.date.message),e.createElement(Lr,{className:i.amount?"error":""}),i.amount&&e.createElement("p",{className:$.error_message},i.amount.message)),e.createElement("div",{className:$.btn_wrapper},a!=="delete"&&e.createElement(ir,null),a==="delete"&&e.createElement(oe,{type:"button",className:"cancel",onClick:s},"Cancel"),e.createElement(oe,{type:"submit",className:a==="delete"?"red":"blue"},a==="delete"?"Delete":"Save"))))},Ir="_list_item_fgqzy_1",Fr="_wrapper_align_left_fgqzy_8",Dr="_wrapper_align_right_fgqzy_15",zr="_ml_fgqzy_22",jr="_time_fgqzy_28",Ur="_icon_pen_wrapper_fgqzy_34",Ar="_icon_trash_wrapper_fgqzy_46",Or="_icon_pen_fgqzy_34",Vr="_icon_trash_fgqzy_46",x={list_item:Ir,wrapper_align_left:Fr,wrapper_align_right:Dr,ml:zr,time:jr,icon_pen_wrapper:Ur,icon_trash_wrapper:Ar,icon_pen:Or,icon_trash:Vr},Hr=({note:a})=>{const{isOpen:t,toggle:n}=pe(),{amount:r,date:s,_id:o}=a,[c,i]=m.useState(null),l=u=>{i(u),n()};return e.createElement("li",{className:x.list_item},e.createElement("div",{className:x.wrapper_align_left},e.createElement("img",{src:_t,alt:"glass"}),e.createElement("p",{className:x.ml},r," ml"),e.createElement("p",{className:x.time},mt(s))),e.createElement("div",{className:x.wrapper_align_right},e.createElement("button",{className:x.icon_pen_wrapper,onClick:()=>l("edit")},e.createElement("svg",{className:x.icon_pen},e.createElement("use",{xlinkHref:`${v}#icon-pen`}))),e.createElement("button",{className:x.icon_trash_wrapper,onClick:()=>l("delete")},e.createElement("svg",{className:x.icon_trash},e.createElement("use",{xlinkHref:`${v}#icon-trash`})))),t&&e.createElement(ge,{closeModal:n},e.createElement(Le,{type:c,id:o,amount:r,date:new Date(s),closeModal:n})))},Gr="_today_section_hjip9_1",Yr="_section_title_hjip9_17",Kr="_list_hjip9_30",Qr="_custom_scroll_container_hjip9_44",Jr="_icon_plus_hjip9_68",Xr="_add_btn_hjip9_82",Zr="_rcs_inner_handle_hjip9_104",j={today_section:Gr,section_title:Yr,list:Kr,custom_scroll_container:Qr,icon_plus:Jr,add_btn:Xr,rcs_inner_handle:Zr},es=()=>{const{isOpen:a,toggle:t}=pe(),n=E(it);return e.createElement("section",{className:j.today_section},e.createElement("h2",{className:j.section_title},"Today"),e.createElement("div",{className:j.custom_scroll_container},e.createElement(Oe,{heightRelativeToParent:"100%",handleClass:j.rcs_inner_handle},n.length>0&&e.createElement("ul",{className:j.list},n.map(r=>e.createElement(Hr,{key:r._id,note:r}))))),e.createElement("button",{className:j.add_btn,onClick:t},e.createElement(Ae,{className:j.icon_plus}),"Add water"),a&&e.createElement(ge,{closeModal:t},e.createElement(Le,{type:"add",amount:0,date:new Date,closeModal:t})))},ts="_container_1o34q_1",Ie={container:ts},as=({children:a})=>e.createElement("section",{className:Ie.section},e.createElement("div",{className:Ie.container},a)),ns="_water_ratio_section_8o65w_1",rs="_section_title_8o65w_19",ss="_top_section_wrapper_8o65w_26",os="_progress_bar_wrapper_8o65w_36",cs="_progress_bar_8o65w_36",ls="_progress_8o65w_36",is="_circle_8o65w_70",ms="_marks_wrapper_8o65w_82",_s="_marks_label_wrapper_8o65w_97",us="_mark_label_8o65w_104",ds="_active_8o65w_111",ps="_mark_8o65w_82",gs="_icon_ellipse_8o65w_123",hs="_icon_plus_circle_8o65w_128",ws="_btn_name_8o65w_137",h={water_ratio_section:ns,section_title:rs,top_section_wrapper:ss,progress_bar_wrapper:os,progress_bar:cs,progress:ls,circle:is,marks_wrapper:ms,marks_label_wrapper:_s,mark_label:us,active:ds,mark:ps,icon_ellipse:gs,icon_plus_circle:hs,btn_name:ws},Es=()=>{const a=E(nt),t=E(it),n=m.useMemo(()=>t.reduce((c,i)=>c+i.amount,0),[t]),r=m.useMemo(()=>Math.round(n/(a*1e3)*100),[n,a]),{isOpen:s,toggle:o}=pe();return e.createElement("section",{className:h.water_ratio_section},e.createElement("div",{className:h.top_section_wrapper},e.createElement("h3",{className:h.section_title},"Today"),e.createElement("div",{className:h.progress_bar_wrapper},e.createElement("div",{className:h.progress_bar},e.createElement("div",{className:h.progress,style:{width:`${r}%`}})),e.createElement("div",{className:h.circle,style:{left:`${Math.min(r,98)}%`}})),e.createElement("div",{className:h.marks_wrapper},e.createElement("div",{className:h.mark}),e.createElement("div",{className:h.mark}),e.createElement("div",{className:h.mark})),e.createElement("div",{className:h.marks_label_wrapper},e.createElement("div",{className:`${h.mark_label} ${r>=0&&r<50?h.active:""}`},"0%"),e.createElement("div",{className:`${h.mark_label} ${r>=50&&r<100?h.active:""}`},"50%"),e.createElement("div",{className:`${h.mark_label} ${r>=100?h.active:""}`},"100%"))),e.createElement("div",{className:h.bottom_section_wrapper},e.createElement(oe,{type:"button",className:"add",onClick:o},e.createElement(Nt,{className:h.icon_plus_circle}),e.createElement("p",{className:h.btn_name},"Add Water"))),s&&e.createElement(ge,{closeModal:o},e.createElement(Le,{type:"add",amount:0,date:new Date,closeModal:o})))},fs="_today_wrapper_13r1n_1",bs="_bottle_wrapper_13r1n_23",Fe={today_wrapper:fs,bottle_wrapper:bs},vs=le().shape({gender:k().required("Gender is required"),weight:re().required("Weight is required").positive("Weight must be positive").typeError("Weight must be a number"),activity:re().required("Activity time is required").min(0,"Activity time cannot be negative").typeError("Activity hours must be a number"),waterRate:re().min(0,"Planned water daily norma must be positive").typeError("Planned water daily norma must be a number").optional()}),Ns="_form_1z00a_1",ys="_form_title_1z00a_8",ks="_formula_wrapper_1z00a_17",$s="_formula_1z00a_17",Cs="_formula_explanation_1z00a_33",Rs="_calculation_wrapper_1z00a_42",Ls="_calculation_title_1z00a_48",Ss="_gender_inputs_1z00a_56",Ps="_gender_input_wrapper_1z00a_61",Ws="_input_wrapper_1z00a_67",Ms="_input_gender_1z00a_73",xs="_label_1z00a_88",Ts="_input_1z00a_67",qs="_required_water_input_wrapper_1z00a_101",Bs="_required_water_1z00a_101",Is="_btn_wrapper_1z00a_125",Fs="_accent_color_1z00a_132",Ds="_validation_error_1z00a_136",zs="_input_error_1z00a_143",js="_validation_error_waterRate_1z00a_148",Us="_modalContent_1z00a_154",As="_rcs_inner_handle_1z00a_170",_={form:Ns,form_title:ys,formula_wrapper:ks,formula:$s,formula_explanation:Cs,calculation_wrapper:Rs,calculation_title:Ls,gender_inputs:Ss,gender_input_wrapper:Ps,input_wrapper:Ws,input_gender:Ms,label:xs,input:Ts,required_water_input_wrapper:qs,required_water:Bs,btn_wrapper:Is,accent_color:Fs,validation_error:Ds,input_error:zs,validation_error_waterRate:js,modalContent:Us,rcs_inner_handle:As},Os=({closeModal:a})=>{const t=T(),[n,r]=m.useState(0),[s,o]=m.useState(0),{register:c,handleSubmit:i,watch:l,formState:{errors:u}}=ie({resolver:ke(vs),defaultValues:{weight:0,activity:0,waterRate:0}}),p=m.useCallback(b=>{const{gender:O,weight:F,activity:G}=b;let R;return O==="women"?R=F*.03+G*.4:R=F*.04+G*.6,o(R.toFixed(1)),R.toFixed(1)},[]),d=b=>{r(b.target.value)},f=()=>{n>0?t(ye({waterRate:n})):t(ye({waterRate:s})),a()},w=l();return m.useEffect(()=>{w.gender&&w.weight>0&&w.activity>=0&&p(w)},[w]),e.createElement("div",{className:_.modalContent},e.createElement("h2",{className:_.form_title},"My daily norma"),e.createElement(Oe,{heightRelativeToParent:"calc(100% - 56px)",handleClass:_.rcs_inner_handle},e.createElement("form",{onSubmit:i(f),className:_.form},e.createElement("div",{className:_.formula_wrapper},e.createElement("div",{className:_.formula},e.createElement("p",null,"For girl:"," ",e.createElement("span",{className:_.accent_color},"V=(M*0,03) + (T*0,4)")),e.createElement("p",null,"For man:"," ",e.createElement("span",{className:_.accent_color},"V=(M*0,04) + (T*0,6)"))),e.createElement("p",{className:_.formula_explanation},e.createElement("span",{className:_.accent_color},"*")," V is the volume of the water norm in liters per day, M is your body weight, T is the time of active sports, or another type of activity commensurate in terms of loads (in the absence of these, you must set 0)")),e.createElement("div",{className:_.calculation_wrapper},e.createElement("div",null,e.createElement("h3",{className:_.calculation_title},"Calculate your rate:"),e.createElement("div",{className:_.gender_inputs},e.createElement("div",{className:_.gender_input_wrapper},e.createElement("input",{className:`${_.input_gender} ${u.gender&&_.input_error}`,id:"gender-girl",type:"radio",value:"women",...c("gender")}),e.createElement("label",{htmlFor:"gender-girl",className:_.label},"For girl")),e.createElement("div",{className:_.gender_input_wrapper},e.createElement("input",{className:`${_.input_gender} ${u.gender&&_.input_error}`,id:"gender-man",type:"radio",value:"man",...c("gender")}),e.createElement("label",{className:_.label,htmlFor:"gender-man"},"For man")))),u.gender&&e.createElement("p",{className:_.validation_error},u.gender.message),e.createElement("div",{className:_.input_wrapper},e.createElement("label",{htmlFor:"weight",className:_.label},"Your weight in kilograms:"),e.createElement("input",{className:`${_.input} ${u.weight&&_.input_error}`,id:"weight",type:"number",...c("weight")})),u.weight&&e.createElement("p",{className:_.validation_error},u.weight.message),e.createElement("div",{className:_.input_wrapper},e.createElement("label",{htmlFor:"activity",className:_.label},"The time of active participation in sports or other activities with a high physical. load in hours:"),e.createElement("input",{className:`${_.input} ${u.activity&&_.input_error}`,id:"activity",type:"nuber",...c("activity")}),u.activity&&e.createElement("p",{className:_.validation_error},u.activity.message)),e.createElement("div",{className:_.required_water_input_wrapper},e.createElement("label",{htmlFor:"requiredWater",className:_.label},"The required amount of water in liters per day:"),e.createElement("output",{id:"requiredWater",className:_.required_water},`${s||1.5} L`))),e.createElement("div",null,e.createElement("h3",{className:_.calculation_title},"Write down how much water you will drink:"),e.createElement("input",{className:`${_.input} ${u.waterRate&&_.input_error}`,id:"waterRate",type:"text",...c("waterRate"),onChange:d}),u.waterRate&&e.createElement("p",{className:_.validation_error_waterRate},u.waterRate.message)),e.createElement("div",{className:_.btn_wrapper},e.createElement(oe,{type:"submit",className:"blue"},"Save")))))},Vs="_section_daily_norma_i0gom_1",Hs="_section_title_i0gom_14",Gs="_daily_norma_i0gom_21",Ys="_btn_edit_i0gom_28",Ks="_bottom_section_wrapper_i0gom_35",Q={section_daily_norma:Vs,section_title:Hs,daily_norma:Gs,btn_edit:Ys,bottom_section_wrapper:Ks},Qs=()=>{const a=E(nt),{isOpen:t,toggle:n}=pe();return e.createElement("section",{className:Q.section_daily_norma},e.createElement("h3",{className:Q.section_title},"My daily norma"),e.createElement("div",{className:Q.bottom_section_wrapper},e.createElement("p",{className:Q.daily_norma},a," L"),e.createElement("button",{className:Q.btn_edit,onClick:n},"Edit")),t&&e.createElement(ge,{closeModal:n},e.createElement(Os,{closeModal:n})))},Js="_stats_list_10uo6_1",Xs="_date_10uo6_20",Zs="_stat_10uo6_1",eo="_accent_10uo6_30",I={stats_list:Js,date:Xs,stat:Zs,accent:eo},to={firstColumn:[1,6,11,16,21,26,31],secondColumn:[2,7,12,17,22,27],thirdColumn:[3,8,13,18,23,28],fourthColumn:[4,9,14,19,24,29]},ao={firstColumn:[1,11,21,31],secondColumn:[2,12,22],thirdColumn:[3,13,23],fourthColumn:[4,14,24]},no=m.forwardRef(({note:a,index:t},n)=>{const{date:r,waterRate:s,percent:o,consumptionCount:c}=a,i=(d,f)=>Object.keys(f).find(w=>f[w].includes(d)),u=m.useCallback(()=>{const d=window.innerWidth;return d<=767?i(t,to):d>=768&&d<=1439?i(t,ao):null},[t])(),p=d=>{switch(d){case"firstColumn":return{right:"-241px"};case"secondColumn":return{right:"-183px"};case"thirdColumn":return{right:"-125px"};case"fourthColumn":return{right:"-67px"};default:return{}}};return e.createElement("ul",{className:I.stats_list,ref:n,style:p(u)},e.createElement("li",{className:I.date},r),e.createElement("li",{className:I.stat},"Daily norma: ",e.createElement("span",{className:I.accent},s)),e.createElement("li",{className:I.stat},"Fulfillment of the daily norm:"," ",e.createElement("span",{className:I.accent},o)),e.createElement("li",{className:I.stat},"How many servings of water:"," ",e.createElement("span",{className:I.accent},c)))}),ro="_calendar_item_1dtmd_1",so="_date_1dtmd_9",oo="_orange_border_1dtmd_25",co="_percent_1dtmd_29",ne={calendar_item:ro,date:so,orange_border:oo,percent:co},lo=({note:a,index:t})=>{const[n,r]=m.useState(!1),s=m.useRef(null),o=l=>{s.current&&!s.current.contains(l.target)&&r(!1)},c=l=>{l.key==="Escape"&&r(!1)};m.useEffect(()=>(n?(document.addEventListener("mousedown",o),document.addEventListener("keydown",c)):(document.removeEventListener("mousedown",o),document.removeEventListener("keydown",c)),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("keydown",c)}),[n]);const i=l=>{s.current&&s.current.contains(l.target)||r(!n)};return e.createElement("li",{className:ne.calendar_item,onClick:i},e.createElement("p",{className:`${ne.date} ${parseInt(a.percent)<100?ne.orange_border:""}`},t+1),e.createElement("p",{className:ne.percent},a.percent),n&&e.createElement(no,{note:a,index:t+1,ref:s}))},io="_water_month_section_1xayk_1",mo="_section_title_1xayk_19",_o="_title_wrapper_1xayk_32",uo="_calendar_list_1xayk_38",po="_pagination_1xayk_55",go="_pagination_btn_1xayk_60",ho="_pagination_icon_1xayk_73",wo="_date_1xayk_79",C={water_month_section:io,section_title:mo,title_wrapper:_o,calendar_list:uo,pagination:po,pagination_btn:go,pagination_icon:ho,date:wo},Eo=()=>{const a=T(),t=E(Kn),n=m.useMemo(()=>new Date().getFullYear(),[]),r=m.useMemo(()=>new Date().getMonth(),[]),[s,o]=m.useState(n),[c,i]=m.useState(U[r]);m.useEffect(()=>{a(H({year:s,month:c}))},[a,s,c]);const l=m.useCallback(()=>{const d=new Date(s,U.indexOf(c)-1,1);o(d.getFullYear()),i(U[d.getMonth()])},[s,c]),u=m.useCallback(()=>{const d=new Date(s,U.indexOf(c)+1,1);o(d.getFullYear()),i(U[d.getMonth()])},[s,c]),p=m.useMemo(()=>{const d=new Date().getMonth();return s===n&&U.indexOf(c)>=d||s>n},[s,c,n]);return e.createElement("section",{className:C.water_month_section},e.createElement("div",{className:C.title_wrapper},e.createElement("h2",{className:C.section_title},"Month"),e.createElement("div",{className:C.pagination},e.createElement("button",{className:C.pagination_btn,onClick:l},e.createElement(yt,{className:C.pagination_icon})),e.createElement("p",{className:C.date},`${c.charAt(0).toUpperCase()}${c.slice(1)}`,", ",s),e.createElement("button",{className:C.pagination_btn,onClick:u,disabled:p},!p&&e.createElement(kt,{className:C.pagination_icon})))),e.createElement("ul",{className:C.calendar_list},t.map((d,f)=>e.createElement(lo,{key:f,note:d,index:f}))))},fo=()=>{const a=T();return m.useEffect(()=>{a(Qe())},[a]),e.createElement(as,null,e.createElement("div",{className:Fe.bottle_wrapper},e.createElement(Qs,null),e.createElement(Es,null)),e.createElement("div",{className:Fe.today_wrapper},e.createElement(es,null),e.createElement(Eo,null)))},bo=({children:a})=>{const t=Ve();return E(de)?a:e.createElement(He,{state:{from:t},to:"/signin"})},De=({children:a})=>{var r;const t=Ve();return E(de)?e.createElement(He,{to:((r=t.state)==null?void 0:r.from)||"/",replace:!0}):a},ut=ce({name:"loading",initialState:{loading:!1},selectors:{selectIsLoading:a=>a.loading,selectIsRefresh:a=>a.isRefresh},reducers:{},extraReducers:a=>{a.addMatcher(t=>t.type.endsWith("/pending"),t=>{t.loading=!0}).addMatcher(t=>t.type.endsWith("/rejected")||t.type.endsWith("/fulfilled"),t=>{t.loading=!1})}}),vo=ut.reducer,{selectIsLoading:No,selectIsRefresh:qo}=ut.selectors,yo="_loaderWrapper_y4qxp_1",ko="_loader_y4qxp_1",$o="_spinner_y4qxp_1",Co="_loaderName_y4qxp_30",Ne={loaderWrapper:yo,loader:ko,spinner:$o,loaderName:Co},ze=()=>e.createElement("div",{className:Ne.loaderWrapper},e.createElement("div",{className:Ne.loader},e.createElement("span",{className:Ne.loaderName})));const Ro=()=>{const a=T(),t=E(wa),n=E(de);E(No);const r=E(ha),s=_e();return m.useEffect(()=>{r&&a(se())},[a,r]),m.useEffect(()=>{n&&s("/home")},[n,s]),t?e.createElement(ze,null):e.createElement(e.Fragment,null,e.createElement(m.Suspense,{fallback:e.createElement(ze,null)},e.createElement($t,null,e.createElement(Y,{path:"/",element:e.createElement(rn,null)},e.createElement(Y,{index:!0,element:e.createElement(vn,null)}),e.createElement(Y,{path:"signup",element:e.createElement(De,null,e.createElement(Vn,null))}),e.createElement(Y,{path:"signin",element:e.createElement(De,null,e.createElement(Hn,null))}),e.createElement(Y,{path:"home",element:e.createElement(bo,null,e.createElement(fo,null))})))))},Lo=ce({name:"error",initialState:{error:null},extraReducers:a=>{a.addMatcher(t=>t.type.endsWith("/rejected"),(t,{payload:n})=>{t.error=n?n.message||n:"An error occurred",A.error(t.error)}).addMatcher(t=>t.type.endsWith("/pending"),t=>{t.error=null}).addMatcher(t=>t.type.endsWith("/fulfilled"),t=>{t.error=null})}}),So=Lo.reducer,Po={key:"auth",version:1,storage:qt,whitelist:["token"]},dt=Ct({reducer:{auth:Rt(Po,da),water:Yn,loading:vo,error:So},middleware:a=>a({serializableCheck:{ignoredActions:[Lt,St,Pt,Wt,Mt,xt]}}),devTools:!1}),Wo=Tt(dt);Bt.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(It,{basename:"/watertracker-frontend"},e.createElement(Ft,{store:dt},e.createElement(Dt,{loading:null,persistor:Wo},e.createElement(Ro,null),e.createElement(zt,{autoClose:1500}))))));
//# sourceMappingURL=commonHelpers2.js.map
