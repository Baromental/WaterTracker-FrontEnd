import{a as gt,c as y,R as e,r as m,b as ce,B as V,d as le,e as $,f as je,u as I,g as E,h as ie,i as me,j as _e,N as Ue,O as ht,L as Pe,o as ye,k as wt,I as Et,l as re,m as ue,C as ke,F as ft,n as Ae,D as bt,p as vt,A as Oe,q as Nt,G as yt,s as kt,t as Ve,v as He,w as $t,x as K,y as Ct,z as Rt,E as Lt,H as St,P as Pt,J as Wt,K as xt,M as Mt,Q as Tt,S as Bt,T as It,U as qt,V as Ft,W as Dt,X as zt}from"./assets/vendor-95f466c4.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const v=gt.create({baseURL:"https://water-tracker-backend-oo69.onrender.com/api/"}),$e=a=>{v.defaults.headers.common.Authorization=`Bearer ${a}`},jt=()=>{v.defaults.headers.common.Authorization=""},O=["january","february","march","april","may","june","july","august","september","october","november","december"],Ge=y("addWater",async(a,t)=>{try{const{data:n}=await v.post("water",a);return t.dispatch(G()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ye=y("editWater",async(a,t)=>{const{amount:n,date:r,id:s}=a;try{const{data:o}=await v.patch(`water/${s}`,{amount:n,date:r});return t.dispatch(G()),o}catch(o){return t.rejectWithValue(o.response.data.message)}}),Ke=y("deleteWater",async(a,t)=>{try{const{data:n}=await v.delete(`water/${a.id}`);return t.dispatch(G()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Qe=y("fetchWaterDataToday",async(a,t)=>{try{const{data:n}=await v.get("water/today");return n}catch(n){return t.rejectWithValue(n.response.data.message)}}),G=y("fetchWaterDataMonth",async({year:a=new Date().getFullYear(),month:t=O[new Date().getMonth()]}={},n)=>{try{const{data:r}=await v.get(`water/${a}/${t}`);return r}catch(r){return n.rejectWithValue(r.response.data.message)}}),Je=y("register",async(a,t)=>{try{const{data:n}=await v.post("auth/register",a);return $e(n.token),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Xe=y("login",async(a,t)=>{try{const{data:n}=await v.post("auth/login",a);return console.log(n),$e(n.token),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ze=y("logout",async(a,t)=>{try{const{data:n}=await v.post("auth/logout");return jt(),n}catch(n){return t.rejectWithValue(n.message)}}),se=y("refresh",async(a,t)=>{const n=t.getState().auth.token;if(!n)return t.rejectWithValue("Token is not exist!");try{$e(n);const{data:r}=await v.get("user/current");return r}catch(r){return t.rejectWithValue(r.message)}});y("getWaterRate",async(a,t)=>{try{const{data:n}=await v.get("user/current");return n}catch(n){return t.rejectWithValue(n.message)}});const et=y("updateUser",async(a,t)=>{try{const{data:n}=await v.patch("user/setting",a);return n}catch(n){return t.rejectWithValue(n.response.data.message)}}),tt=y("updateAvatar",async(a,t)=>{try{const n=await v.patch("user/avatars",a,{headers:{"Content-Type":"multipart/form-data"}});return console.log(n),n.data}catch(n){return t.rejectWithValue(n.response.data.message)}}),at=y("updateWaterRate",async(a,t)=>{try{const{data:n}=await v.patch("user/waterRate",a);return t.dispatch(G()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ut="_overlay_1y9mq_1",At="_modal_1y9mq_13",Ot="_closeButton_1y9mq_25",Ee={overlay:Ut,modal:At,closeButton:Ot},b="/watertracker-frontend/assets/sprite-d6eb1314.svg",Vt="_label_1vnkl_1",fe={label:Vt},We=({name:a,id:t,defaultChecked:n,value:r,label:s,register:o,onChange:c})=>e.createElement("div",{className:fe.wrap},e.createElement("input",{id:t,className:fe.input,...o(`${a}`),name:a,value:r,onChange:c,type:"radio",defaultChecked:n}),e.createElement("label",{htmlFor:t,className:fe.label},s)),Ht="_wrap_dupkw_1",Gt="_label_dupkw_5",Yt="_input_dupkw_13",Kt="_error_dupkw_47",Z={wrap:Ht,label:Gt,input:Yt,error:Kt},xe=({name:a,id:t,type:n,value:r,label:s,placeholder:o,register:c,onChange:l,error:i})=>e.createElement("div",{className:Z.wrap},e.createElement("label",{htmlFor:t,className:Z.label},s),e.createElement("input",{id:t,className:Z.input,...c(`${a}`),name:a,type:n,value:r,placeholder:o,onChange:l,autoComplete:"off"}),i&&e.createElement("span",{className:Z.error},i)),Qt="_wrap_hxh8f_1",Jt="_label_hxh8f_5",Xt="_wrapInput_hxh8f_13",Zt="_eye_hxh8f_18",ea="_icon_hxh8f_24",ta="_input_hxh8f_30",aa="_error_hxh8f_63",q={wrap:Qt,label:Jt,wrapInput:Xt,eye:Zt,icon:ea,input:ta,error:aa},be=({name:a,id:t,value:n,label:r,placeholder:s,register:o,onChange:c,error:l})=>{const[i,p]=m.useState("password");return e.createElement("div",{className:q.wrap},e.createElement("label",{htmlFor:t,className:q.label},r),e.createElement("div",{className:q.wrapInput},e.createElement("div",{className:q.eye,onClick:()=>{p(i==="password"?"text":"password")}},i==="password"?e.createElement("svg",{className:q.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-crossed-eye`})):e.createElement("svg",{className:q.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-eye`}))),e.createElement("input",{id:t,className:q.input,...o(`${a}`),name:a,type:i,value:n,placeholder:s,onChange:c})),l&&e.createElement("span",{className:q.error},l))},na="_wrap_bl731_1",ra="_imageWrap_bl731_5",sa="_label_bl731_11",oa="_imagePreviewContainer_bl731_17",ca="_imagePreview_bl731_17",la="_placeholder_bl731_31",ia="_input_bl731_40",ma="_button_bl731_44",_a="_icon_bl731_57",P={wrap:na,imageWrap:ra,label:sa,imagePreviewContainer:oa,imagePreview:ca,placeholder:la,input:ia,button:ma,icon:_a},ua=({name:a,type:t,label:n,placeholder:r,src:s,register:o,onChange:c})=>{const[l,i]=m.useState(s),p=m.useRef(null),d=f=>{const N=f.target.files[0];if(N){const w=new FileReader;w.onloadend=()=>{i(w.result)},w.readAsDataURL(N)}c&&c(f)},u=()=>{p.current.click()};return e.createElement("div",{className:P.wrap},e.createElement("label",{className:P.label,htmlFor:a},n),e.createElement("div",{className:P.imageWrap},e.createElement("div",{className:P.imagePreviewContainer},l?e.createElement("img",{src:l,alt:"Preview",className:P.imagePreview}):e.createElement("div",{className:P.placeholder},r)),e.createElement("input",{id:a,className:P.input,name:a,type:t,onChange:d,ref:f=>{o(`${a}`),p.current=f}}),e.createElement("button",{type:"button",onClick:u,className:P.button},e.createElement("svg",{width:"16",height:"16",className:P.icon},e.createElement("use",{href:`${b}#icon-arrow-up`}))," ","Upload a photo")))},ve={name:"",email:"",password:"",gender:"",waterRate:1.5,avatarURL:"",token:null,isLoggedIn:!1,isRefresh:!1},Ce=ce({name:"auth",initialState:ve,selectors:{selectName:a=>a.name,selectGender:a=>a.gender,selectEmail:a=>a.email,selectWaterRate:a=>a.waterRate,selectAvatarURL:a=>a.avatarURL,selectIsLoggedIn:a=>a.isLoggedIn,selectToken:a=>a.token,selectIsRefresh:a=>a.isRefresh},reducers:{logout:a=>ve,setName:(a,t)=>{a.name=t.payload}},extraReducers:a=>{a.addCase(se.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isLoggedIn=!0,t.isRefresh=!1}).addCase(se.pending,(t,{payload:n})=>{t.isRefresh=!0}).addCase(se.rejected,(t,{payload:n})=>{t.isRefresh=!1}).addCase(Ze.fulfilled,t=>ve).addCase(tt.fulfilled,(t,{payload:n})=>{t.avatarURL=n.avatarURL,t.isRefresh=!1,V.success("The avatar has been downloaded successfully")}).addCase(et.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.isRefresh=!1,V.success("Data changed successfully")}).addCase(at.fulfilled,(t,{payload:n})=>{t.waterRate=n.waterRate,V.success("Daily norma updated successfully")}).addCase(Je.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isRefresh=!1,V.success("You have successfully registered")}).addCase(Xe.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isLoggedIn=!0,t.isRefresh=!1,V.success(`Welcome, ${n.name||n.email}`)})}}),da=Ce.reducer,{selectName:nt,selectGender:pa,selectEmail:ga,selectWaterRate:Re,selectAvatarURL:rt,selectIsLoggedIn:de,selectToken:ha,selectIsRefresh:wa}=Ce.selectors,{logout:Ea,setName:Mo}=Ce.actions;le().shape({name:$().max(32,"Must be less than 32 symbols"),email:$().required("Email is required").email("Email is not valid"),password:$().notRequired(),newPassword:$().when("password",{is:a=>a&&a.length>0,then:$().required("New Password is required").min(8,"Must be more than 8 symbols").max(64,"Must be less than 64 symbols")}),repeatNewPass:$().oneOf([je("newPassword"),null],"Passwords must match").when("newPassword",{is:a=>a&&a.length>0,then:$().required("Repeat new password is required")})});const fa="_title_ktmtr_1",ba="_form_ktmtr_10",va="_mainWrap_ktmtr_23",Na="_fieldsetGender_ktmtr_35",ya="_wrapInfo_ktmtr_43",ka="_fieldset_ktmtr_35",$a="_legend_ktmtr_56",Ca="_button_ktmtr_65",W={title:fa,form:ba,mainWrap:va,fieldsetGender:Na,wrapInfo:ya,fieldset:ka,legend:$a,button:Ca},Ra=()=>{var N,w,k,L,Y;const a=I(),t=E(nt),n=E(ga),r=E(pa),s=E(rt),{register:o,handleSubmit:c,watch:l,setValue:i,setError:p,formState:{errors:d}}=ie({defaultValues:{name:t,email:n,gender:r}});l("gender"),m.useEffect(()=>{i("name",t),i("email",n),i("gender",r)},[t,n,r,i]);const u=z=>{const{email:S,name:X,gender:pt,newPassword:j,password:he,repeatNewPass:Se}=z;if(j&&he===j){p("newPassword",{type:"manual",message:"New password cannot be the same as the current password."});return}if(j&&j!==Se){p("repeatNewPass",{type:"manual",message:"New password and repeat password do not match."});return}const we={email:S,name:X,gender:pt};he&&j&&j===Se&&(we.password=he,we.newPassword=j),a(et(we))},f=z=>{z.preventDefault();const S=z.target.files[0];if(S){const X=new FormData;X.append("avatarURL",S),a(tt(X))}};return e.createElement(e.Fragment,null,e.createElement("h1",{className:W.title},"Setting"),e.createElement("form",{className:W.form,onSubmit:c(u)},e.createElement(ua,{name:"avatar",type:"file",label:"Your photo",placeholder:"Upload a photo",src:s,register:o,onChange:f}),e.createElement("div",{className:W.mainWrap},e.createElement("div",null,e.createElement("fieldset",{className:W.fieldsetGender},e.createElement("legend",{className:W.legend},"Your gender identity"),e.createElement(We,{id:"woman",name:"gender",value:"woman",label:"Woman",register:o,onChange:()=>i("gender","woman"),defaultChecked:"true"}),e.createElement(We,{id:"man",name:"gender",value:"man",label:"Man",register:o,onChange:()=>i("gender","man"),defaultChecked:"false"})),e.createElement("div",{className:W.wrapInfo},e.createElement(xe,{id:"name",name:"name",type:"text",label:"Your name",placeholder:"Enter your name",register:o,error:(N=d.name)==null?void 0:N.message}),e.createElement(xe,{id:"email",name:"email",type:"email",label:"E-mail",placeholder:"Enter your e-mail",register:o,error:(w=d.email)==null?void 0:w.message}))),e.createElement("fieldset",{className:W.fieldset},e.createElement("legend",{className:W.legend},"Password"),e.createElement(be,{name:"password",label:"Outdated password:",placeholder:"Password",register:o,error:(k=d.password)==null?void 0:k.message}),e.createElement(be,{name:"newPassword",label:"New Password:",placeholder:"Password",register:o,error:(L=d.newPassword)==null?void 0:L.message}),e.createElement(be,{name:"repeatNewPass",label:"Repeat new password:",placeholder:"Password",register:o,error:(Y=d.repeatNewPass)==null?void 0:Y.message}))),e.createElement("button",{className:W.button},"Save")))},La=document.querySelector("#modal"),Sa=({onClose:a})=>{const t=m.useCallback(r=>{r.key==="Escape"&&a()},[a]);m.useEffect(()=>(document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}),[t]);const n=r=>{r.target===r.currentTarget&&a()};return me.createPortal(e.createElement("div",{className:Ee.overlay,onClick:n},e.createElement("div",{className:Ee.modal},e.createElement("button",{className:Ee.closeButton,onClick:a},e.createElement("svg",{width:"24",height:"24"},e.createElement("use",{href:`${b}#icon-cross`}))),e.createElement(Ra,null))),La)},Pa="_overlay_1n6y8_1",Wa="_modal_1n6y8_12",xa="_header_1n6y8_21",Ma="_title_1n6y8_28",Ta="_paragraph_1n6y8_35",Ba="_closeButton_1n6y8_42",Ia="_buttonContainer_1n6y8_49",qa="_cancelButton_1n6y8_56",Fa="_logoutButton_1n6y8_56",x={overlay:Pa,modal:Wa,header:xa,title:Ma,paragraph:Ta,closeButton:Ba,buttonContainer:Ia,cancelButton:qa,logoutButton:Fa},Da=document.querySelector("#modal"),za=({onClose:a})=>{const t=_e(),n=I(),r=()=>{n(Ze()),n(Ea()),a(),t("/")},s=m.useCallback(c=>{c.key==="Escape"&&a()},[a]);m.useEffect(()=>(document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}),[s]);const o=c=>{c.target===c.currentTarget&&a()};return me.createPortal(e.createElement("div",{className:x.overlay,onClick:o},e.createElement("div",{className:x.modal},e.createElement("div",{className:x.header},e.createElement("h2",{className:x.title},"Log out"),e.createElement("button",{className:x.closeButton,onClick:a},e.createElement("svg",{width:"24",height:"24"},e.createElement("use",{href:`${b}#icon-cross`})))),e.createElement("p",{className:x.paragraph},"Do you really want to leave?"),e.createElement("div",{className:x.buttonContainer},e.createElement("button",{className:x.cancelButton,onClick:a},"Cancel"),e.createElement("button",{className:x.logoutButton,onClick:r},"Log out")))),Da)},ja="_modalWrapper_1djf7_1",Ua="_menu_1djf7_12",Aa="_menuItem_1djf7_24",Oa="_icon_1djf7_43",Va="_modalContent_1djf7_49",U={modalWrapper:ja,menu:Ua,menuItem:Aa,icon:Oa,modalContent:Va},Ha=document.querySelector("#modal"),Ga=({closeModal:a,onSettingsClick:t,onLogoutClick:n})=>{const r=m.useCallback(o=>{o.key==="Escape"&&a()},[a]);m.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[r]);const s=o=>{o.target===o.currentTarget&&a()};return me.createPortal(e.createElement("div",{onClick:s,className:U.modalWrapper},e.createElement("div",{className:U.modalContent},e.createElement("div",{className:U.menu},e.createElement("button",{className:U.menuItem,onClick:t},e.createElement("svg",{width:"16",height:"16",className:U.icon},e.createElement("use",{href:`${b}#icon-gear`})),"Setting"),e.createElement("button",{className:U.menuItem,onClick:n},e.createElement("svg",{width:"16",height:"16",className:U.icon},e.createElement("use",{href:`${b}#icon-exit`})),"Log out")))),Ha)},Ya="_header_rg0g9_1",Ka="_logoLink_rg0g9_8",Qa="_userAuthButton_rg0g9_12",Ja="_userLogoButton_rg0g9_22",Xa="_userName_rg0g9_31",Za="_userAvatar_rg0g9_37",en="_iconUser_rg0g9_43",tn="_iconDown_rg0g9_48",M={header:Ya,logoLink:Ka,userAuthButton:Qa,userLogoButton:Ja,userName:Xa,userAvatar:Za,iconUser:en,iconDown:tn},an="/watertracker-frontend/assets/logo-694fc291.png",nn=()=>{const[a,t]=m.useState(!1),[n,r]=m.useState(!1),[s,o]=m.useState(!1),c=E(de),l=E(nt),i=E(rt),p=_e(),d=()=>{t(!0),o(!1)},u=()=>t(!1),f=()=>{r(!0),o(!1)},N=()=>r(!1),w=()=>o(!s),k=()=>{p(c?"/home":"/")},L=()=>{N()};return e.createElement("header",null,e.createElement("nav",{className:M.header},e.createElement("div",{className:M.logoLink,onClick:k},e.createElement("img",{src:an,alt:"Logo",className:"logo"})),!c&&e.createElement(Ue,{to:"/signin",className:M.userAuthButton},"Sign In",e.createElement("svg",{width:"28",height:"28",className:M.iconUser},e.createElement("use",{href:`${b}#icon-user`}))),c&&e.createElement(e.Fragment,null,e.createElement("button",{className:M.userLogoButton,onClick:w},e.createElement("span",{className:M.userName},l),i?e.createElement("img",{src:i,alt:"User Avatar",className:M.userAvatar}):e.createElement("svg",{width:"28",height:"28",className:M.iconUser},e.createElement("use",{href:`${b}#icon-user`})),e.createElement("svg",{width:"16",height:"16",className:M.iconDown},e.createElement("use",{href:`${b}#icon-down`}))),s&&e.createElement(Ga,{closeModal:w,onSettingsClick:d,onLogoutClick:f}))),a&&e.createElement(Sa,{onClose:u}),n&&e.createElement(za,{onClose:N,onLogout:L}))},rn=()=>e.createElement("div",null,e.createElement(nn,null),e.createElement(ht,null)),sn="_welcomePageBackground_mihq7_1",on="_container_mihq7_11",Me={welcomePageBackground:sn,container:on},cn=({children:a})=>e.createElement("section",{className:Me.welcomePageBackground},e.createElement("div",{className:Me.container},a)),ln="_welcomePageContainer_ozivr_1",mn="_title_ozivr_5",_n="_buttonContainer_ozivr_10",un="_subtitle_ozivr_17",dn="_listButtonTitle_ozivr_24",pn="_listButton_ozivr_24",gn="_itemListButton_ozivr_40",hn="_button_ozivr_10",wn="_listTitle_ozivr_76",En="_list_ozivr_24",fn="_itemList_ozivr_40",bn="_welcomePageSection_ozivr_115",g={welcomePageContainer:ln,title:mn,buttonContainer:_n,subtitle:un,listButtonTitle:dn,listButton:pn,itemListButton:gn,button:hn,listTitle:wn,list:En,itemList:fn,welcomePageSection:bn},vn=()=>e.createElement(cn,null,e.createElement("div",{className:g.welcomePageSection},e.createElement("h1",{className:g.title},"Water consumption tracker"),e.createElement("div",{className:g.welcomePageContainer},e.createElement("div",{className:g.buttonContainer},e.createElement("h2",{className:g.subtitle},"Record daily water intake and track"),e.createElement("div",null,e.createElement("span",{className:g.listButtonTitle},"Tracker Benefits"),e.createElement("ul",{className:g.listButton},e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${b}#icon-calendar`})),"Habit drive"),e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${b}#icon-analytics`})),"View statistics"),e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${b}#icon-screw`})),"Personal rate setting"))),e.createElement(Ue,{to:"/signup",className:g.button},"Try tracker")),e.createElement("div",{className:g.listContainer},e.createElement("ul",{className:g.list},e.createElement("span",{className:g.listTitle},"Why drink water"),e.createElement("li",{className:g.itemList},"Supply of nutrients to all organs"),e.createElement("li",{className:g.itemList},"Providing oxygen to the lungs"),e.createElement("li",{className:g.itemList},"Maintaining the work of the heart"),e.createElement("li",{className:g.itemList},"Release of processed substances"),e.createElement("li",{className:g.itemList},"Ensuring the stability of the internal environment"),e.createElement("li",{className:g.itemList},"Maintaining within the normal temperature"),e.createElement("li",{className:g.itemList},"Maintaining an immune system capable of resisting disease")))))),Nn="_mainWrap_1elhr_1",yn="_title_1elhr_7",kn="_form_1elhr_14",$n="_wrap_1elhr_18",Cn="_label_1elhr_22",Rn="_input_1elhr_29",Ln="_error_1elhr_53",Sn="_button_1elhr_58",Pn="_link_1elhr_86",H={mainWrap:Nn,title:yn,form:kn,wrap:$n,label:Cn,input:Rn,error:Ln,button:Sn,link:Pn},Wn="_wrap_55lks_1",xn="_label_55lks_5",Mn="_wrapInput_55lks_12",Tn="_eye_55lks_17",Bn="_icon_55lks_23",In="_input_55lks_29",qn="_error_55lks_53",F={wrap:Wn,label:xn,wrapInput:Mn,eye:Tn,icon:Bn,input:In,error:qn},Te=({name:a,id:t,value:n,label:r,placeholder:s,register:o,onChange:c,error:l})=>{const[i,p]=m.useState("password");return e.createElement("div",{className:F.wrap},e.createElement("label",{htmlFor:t,className:F.label},r),e.createElement("div",{className:F.wrapInput},e.createElement("div",{className:F.eye,onClick:()=>{p(i==="password"?"text":"password")}},i==="password"?e.createElement("svg",{className:F.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-crossed-eye`})):e.createElement("svg",{className:F.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-eye`}))),e.createElement("input",{id:t,className:F.input,...o(`${a}`),name:a,type:i,value:n,placeholder:s,onChange:c})),l&&e.createElement("span",{className:F.error},l))},Fn="_wrap_1e3ds_1",Dn="_label_1e3ds_5",zn="_input_1e3ds_12",jn="_error_1e3ds_44",ee={wrap:Fn,label:Dn,input:zn,error:jn},Un=({name:a,id:t,type:n,value:r,label:s,placeholder:o,register:c,onChange:l,error:i})=>e.createElement("div",{className:ee.wrap},e.createElement("label",{htmlFor:t,className:ee.label},s),e.createElement("input",{id:t,className:ee.input,...c(`${a}`),name:a,type:n,value:r,placeholder:o,onChange:l,autoComplete:"off"}),i&&e.createElement("span",{className:ee.error},i)),st=({formType:a,onSubmit:t,schema:n})=>{var i,p,d;const{register:r,handleSubmit:s,formState:{errors:o}}=ie({resolver:ye(n)}),c=_e(),l=u=>{const{repeatPassword:f,...N}=u;t(N).then(w=>{w.error||c(a==="register"?"/signin":"/home")}).catch(w=>{V.error("Submission error:",w)})};return e.createElement("div",{className:H.mainWrap},e.createElement("h1",{className:H.title},a==="register"?"Sign Up":"Sign In"),e.createElement("form",{className:H.form,onSubmit:s(l)},e.createElement(Un,{id:"email",name:"email",type:"email",label:"Enter your email",placeholder:"E-mail",register:r,error:(i=o.email)==null?void 0:i.message}),e.createElement(Te,{id:"password",name:"password",label:"Enter your password",placeholder:"Password",register:r,error:(p=o.password)==null?void 0:p.message}),a==="register"&&e.createElement(Te,{id:"repeatPassword",name:"repeatPassword",label:"Repeat password",placeholder:"Repeat password",register:r,error:(d=o.repeatPassword)==null?void 0:d.message}),e.createElement("button",{className:H.button},a==="register"?"Sign Up":"Sign In"),a==="register"?e.createElement(Pe,{to:"/signin",className:H.link},"Sign in"):e.createElement(Pe,{to:"/signup",className:H.link},"Sign up")))},An="_section_1xlru_1",On="_container_1xlru_5",Be={section:An,container:On},ot=({children:a})=>e.createElement("section",{className:Be.section},e.createElement("div",{className:Be.container},a)),ct=le({email:$().required().email("Email is not valid"),password:$().required().min(8,"Must be more then 8 symbols").max(64,"Must be less then 64 symbols"),repeatPassword:$().oneOf([je("password"),null],"Passwords must match")}).required(),Vn=()=>{const a=I(),t=async n=>{try{return{error:null,response:await a(Je(n)).unwrap()}}catch(r){return{error:r}}};return e.createElement(ot,null,e.createElement(st,{onSubmit:t,formType:"register",schema:ct}))},Hn=()=>{const a=I(),t=async n=>{try{return{error:null,response:await a(Xe(n)).unwrap()}}catch(r){return{error:r}}};return e.createElement(ot,null,e.createElement(st,{onSubmit:t,formType:"login",schema:ct}))},Gn={percent:0,notes:[],notesPerMonth:[]},lt=ce({name:"water",initialState:Gn,selectors:{selectNotes:a=>a.notes,selectPercent:a=>a.percent,selectNotesPerMonth:a=>a.notesPerMonth},extraReducers:a=>{a.addCase(Ge.fulfilled,(t,{payload:n})=>{t.notes.push(n)}).addCase(Ye.fulfilled,(t,{payload:n})=>{const r=t.notes.findIndex(s=>s._id===n._id);t.notes.splice(r,1,n)}).addCase(Ke.fulfilled,(t,{payload:n})=>{t.notes=t.notes.filter(r=>r._id!==n._id)}).addCase(Qe.fulfilled,(t,{payload:n})=>{t.notes=n.result,t.percent=n.percent}).addCase(G.fulfilled,(t,{payload:n})=>{t.notesPerMonth=n})}}),Yn=lt.reducer,{selectNotes:it,selectPercent:To,selectNotesPerMonth:Kn}=lt.selectors,pe=()=>{const[a,t]=m.useState(!1);return{isOpen:a,close:()=>t(!1),open:()=>t(!0),toggle:()=>t(o=>!o)}},mt=a=>wt(new Date(a)).format("HH:mm A"),Qn="_backdrop_2khdm_1",Jn="_modal_2khdm_11",Xn="_btn_close_2khdm_28",Zn="_icon_close_2khdm_39",te={backdrop:Qn,modal:Jn,btn_close:Xn,icon_close:Zn},er=document.querySelector("#modal"),ge=({closeModal:a,children:t})=>{const n=m.useCallback(s=>{s.key==="Escape"&&a()},[a]);m.useEffect(()=>(document.body.style.overflow="hidden",document.addEventListener("keydown",n),()=>{document.body.style.overflow="",document.removeEventListener("keydown",n)}),[a,n]);const r=s=>{s.target===s.currentTarget&&a()};return me.createPortal(e.createElement("div",{onClick:r,className:te.backdrop},e.createElement("div",{className:te.modal},e.createElement("button",{onClick:a,className:te.btn_close},e.createElement(Et,{className:te.icon_close})),t)),er)},tr=le().shape({amount:re().required("Amount is required").min(1,"Minimum amount is 1").max(5e3,"Maximum amount is 5000").typeError("Please enter a valid number"),date:$().required("Date is required")}),ar="_btn_1ejif_1",nr="_blue_1ejif_28",rr="_red_1ejif_32",sr="_cancel_1ejif_36",or="_add_1ejif_52",Ie={btn:ar,blue:nr,red:rr,cancel:sr,add:or},oe=({children:a,type:t,className:n,onClick:r})=>e.createElement("button",{type:t,className:`${Ie.btn} ${Ie[n]}`,onClick:r},a),cr="_amount_trcfk_1",lr={amount:cr},ir=()=>{const{watch:a}=ue(),t=a("amount");return e.createElement("p",{className:lr.amount},t||0,"ml")},mr="_wrapper_v3ipt_1",_r="_label_v3ipt_7",ur="_input_wrapper_v3ipt_12",dr="_input_container_v3ipt_18",pr="_input_v3ipt_12",gr="_btn_v3ipt_42",hr="_icon_v3ipt_55",T={wrapper:mr,label:_r,input_wrapper:ur,input_container:dr,input:pr,btn:gr,icon:hr},wr=()=>{const{control:a}=ue();return e.createElement(ke,{name:"amount",control:a,render:({field:t})=>e.createElement("div",{className:T.wrapper},e.createElement("label",{htmlFor:"amount-water",className:T.label},"Amount of water:"),e.createElement("div",{className:T.input_wrapper},e.createElement("button",{className:T.btn,type:"button",onClick:()=>t.onChange(Math.max(t.value-50,0))},e.createElement(ft,{className:T.icon})),e.createElement("div",{className:T.input_container},e.createElement("div",{className:T.input,id:"amount-water"},t.value||0,"ml")),e.createElement("button",{className:T.btn,type:"button",onClick:()=>t.onChange(Math.min(t.value+50,5e3))},e.createElement(Ae,{className:T.icon}))))})},Er="_wrapper_ss3x8_1",fr="_label_ss3x8_7",br="_datepicker_ss3x8_12",vr="_wrapper_datepicker_ss3x8_22",Nr="_error_ss3x8_26",Q={wrapper:Er,label:fr,datepicker:br,wrapper_datepicker:vr,error:Nr};const yr=({className:a})=>{const{control:t}=ue();return e.createElement(ke,{name:"date",control:t,render:({field:n})=>e.createElement("div",{className:Q.wrapper},e.createElement("label",{htmlFor:"time",className:Q.label},"Recording time:"),e.createElement(bt,{id:"time",selected:n.value,onChange:r=>{n.onChange(r)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:5,timeCaption:"Time",dateFormat:"H:mm aa",className:`${Q.datepicker} ${Q[a]}`,wrapperClassName:Q.wrapper_datepicker}))})},kr="_wrapper_1lswm_1",$r="_label_1lswm_7",Cr="_input_1lswm_14",Rr="_error_1lswm_24",ae={wrapper:kr,label:$r,input:Cr,error:Rr},Lr=({className:a})=>{const{control:t}=ue();return e.createElement(ke,{name:"amount",control:t,render:({field:n})=>e.createElement("div",{className:ae.wrapper},e.createElement("label",{htmlFor:"water-value",className:ae.label},"Enter the value of the water used:"),e.createElement("input",{className:`${ae.input} ${ae[a]}`,id:"water-value",type:"number",value:n.value,onChange:r=>{const s=r.target.value;s<=5e3&&s>=0&&n.onChange(s)},min:0,max:5e3}))})},_t="/watertracker-frontend/assets/glass-e3b976c0.svg",Sr="_form_title_93i33_1",Pr="_text_under_title_93i33_9",Wr="_inputs_wrapper_93i33_17",xr="_btn_wrapper_93i33_23",Mr="_error_message_93i33_37",Tr="_ml_93i33_43",Br="_time_93i33_49",Ir="_edit_data_93i33_55",C={form_title:Sr,text_under_title:Pr,inputs_wrapper:Wr,btn_wrapper:xr,error_message:Mr,ml:Tr,time:Br,edit_data:Ir},Le=({type:a,amount:t,date:n,id:r,closeModal:s})=>{const o=I(),c=ie({defaultValues:{amount:t,date:n},resolver:ye(tr)}),{formState:{errors:l}}=c,i=u=>{switch(u.date=u.date.toString(),a){case"edit":o(Ye({...u,id:r}));break;case"add":o(Ge(u));break;case"delete":o(Ke({...u,id:r}));break}s()},p=u=>{switch(u){case"edit":return"Edit the entered amount of water";case"add":return"Add water";case"delete":return"Delete entry"}},d=u=>{switch(u){case"edit":return"Correct entered data:";case"add":return"Choose a value:";case"delete":return"Are you sure you want to delete the entry?"}};return e.createElement(vt,{...c},e.createElement("form",{onSubmit:c.handleSubmit(i)},e.createElement("h2",{className:C.form_title},p(a)),a==="edit"&&e.createElement("div",{className:C.edit_data},e.createElement("img",{src:_t,alt:"glass"}),e.createElement("p",{className:C.ml},t,"ml"),e.createElement("p",{className:C.time},mt(n))),e.createElement("p",{className:C.text_under_title},d(a)),a!=="delete"&&e.createElement("div",{className:C.inputs_wrapper},e.createElement(wr,null),l.amount&&e.createElement("p",{className:C.error_message},l.amount.message),e.createElement(yr,{className:l.date?"error":""}),l.date&&e.createElement("p",{className:C.error_message},l.date.message),e.createElement(Lr,{className:l.amount?"error":""}),l.amount&&e.createElement("p",{className:C.error_message},l.amount.message)),e.createElement("div",{className:C.btn_wrapper},a!=="delete"&&e.createElement(ir,null),a==="delete"&&e.createElement(oe,{type:"button",className:"cancel",onClick:s},"Cancel"),e.createElement(oe,{type:"submit",className:a==="delete"?"red":"blue"},a==="delete"?"Delete":"Save"))))},qr="_list_item_fgqzy_1",Fr="_wrapper_align_left_fgqzy_8",Dr="_wrapper_align_right_fgqzy_15",zr="_ml_fgqzy_22",jr="_time_fgqzy_28",Ur="_icon_pen_wrapper_fgqzy_34",Ar="_icon_trash_wrapper_fgqzy_46",Or="_icon_pen_fgqzy_34",Vr="_icon_trash_fgqzy_46",B={list_item:qr,wrapper_align_left:Fr,wrapper_align_right:Dr,ml:zr,time:jr,icon_pen_wrapper:Ur,icon_trash_wrapper:Ar,icon_pen:Or,icon_trash:Vr},Hr=({note:a})=>{const{isOpen:t,toggle:n}=pe(),{amount:r,date:s,_id:o}=a,[c,l]=m.useState(null),i=p=>{l(p),n()};return e.createElement("li",{className:B.list_item},e.createElement("div",{className:B.wrapper_align_left},e.createElement("img",{src:_t,alt:"glass"}),e.createElement("p",{className:B.ml},r," ml"),e.createElement("p",{className:B.time},mt(s))),e.createElement("div",{className:B.wrapper_align_right},e.createElement("button",{className:B.icon_pen_wrapper,onClick:()=>i("edit")},e.createElement("svg",{className:B.icon_pen},e.createElement("use",{xlinkHref:`${b}#icon-pen`}))),e.createElement("button",{className:B.icon_trash_wrapper,onClick:()=>i("delete")},e.createElement("svg",{className:B.icon_trash},e.createElement("use",{xlinkHref:`${b}#icon-trash`})))),t&&e.createElement(ge,{closeModal:n},e.createElement(Le,{type:c,id:o,amount:r,date:new Date(s),closeModal:n})))},Gr="_today_section_hjip9_1",Yr="_section_title_hjip9_17",Kr="_list_hjip9_30",Qr="_custom_scroll_container_hjip9_44",Jr="_icon_plus_hjip9_68",Xr="_add_btn_hjip9_82",Zr="_rcs_inner_handle_hjip9_104",A={today_section:Gr,section_title:Yr,list:Kr,custom_scroll_container:Qr,icon_plus:Jr,add_btn:Xr,rcs_inner_handle:Zr},es=()=>{const{isOpen:a,toggle:t}=pe(),n=E(it);return e.createElement("section",{className:A.today_section},e.createElement("h2",{className:A.section_title},"Today"),e.createElement("div",{className:A.custom_scroll_container},e.createElement(Oe,{heightRelativeToParent:"100%",handleClass:A.rcs_inner_handle},n.length>0&&e.createElement("ul",{className:A.list},n.map(r=>e.createElement(Hr,{key:r._id,note:r}))))),e.createElement("button",{className:A.add_btn,onClick:t},e.createElement(Ae,{className:A.icon_plus}),"Add water"),a&&e.createElement(ge,{closeModal:t},e.createElement(Le,{type:"add",amount:0,date:new Date,closeModal:t})))},ts="_container_1o34q_1",qe={container:ts},as=({children:a})=>e.createElement("section",{className:qe.section},e.createElement("div",{className:qe.container},a)),ns="_water_ratio_section_8o65w_1",rs="_section_title_8o65w_19",ss="_top_section_wrapper_8o65w_26",os="_progress_bar_wrapper_8o65w_36",cs="_progress_bar_8o65w_36",ls="_progress_8o65w_36",is="_circle_8o65w_70",ms="_marks_wrapper_8o65w_82",_s="_marks_label_wrapper_8o65w_97",us="_mark_label_8o65w_104",ds="_active_8o65w_111",ps="_mark_8o65w_82",gs="_icon_ellipse_8o65w_123",hs="_icon_plus_circle_8o65w_128",ws="_btn_name_8o65w_137",h={water_ratio_section:ns,section_title:rs,top_section_wrapper:ss,progress_bar_wrapper:os,progress_bar:cs,progress:ls,circle:is,marks_wrapper:ms,marks_label_wrapper:_s,mark_label:us,active:ds,mark:ps,icon_ellipse:gs,icon_plus_circle:hs,btn_name:ws},Es=()=>{const a=E(Re),t=E(it),n=m.useMemo(()=>t.reduce((c,l)=>c+l.amount,0),[t]),r=m.useMemo(()=>Math.round(n/(a*1e3)*100),[n,a]),{isOpen:s,toggle:o}=pe();return e.createElement("section",{className:h.water_ratio_section},e.createElement("div",{className:h.top_section_wrapper},e.createElement("h3",{className:h.section_title},"Today"),e.createElement("div",{className:h.progress_bar_wrapper},e.createElement("div",{className:h.progress_bar},e.createElement("div",{className:h.progress,style:{width:`${r}%`}})),e.createElement("div",{className:h.circle,style:{left:`${Math.min(r,98)}%`}})),e.createElement("div",{className:h.marks_wrapper},e.createElement("div",{className:h.mark}),e.createElement("div",{className:h.mark}),e.createElement("div",{className:h.mark})),e.createElement("div",{className:h.marks_label_wrapper},e.createElement("div",{className:`${h.mark_label} ${r>=0&&r<50?h.active:""}`},"0%"),e.createElement("div",{className:`${h.mark_label} ${r>=50&&r<100?h.active:""}`},"50%"),e.createElement("div",{className:`${h.mark_label} ${r>=100?h.active:""}`},"100%"))),e.createElement("div",{className:h.bottom_section_wrapper},e.createElement(oe,{type:"button",className:"add",onClick:o},e.createElement(Nt,{className:h.icon_plus_circle}),e.createElement("p",{className:h.btn_name},"Add Water"))),s&&e.createElement(ge,{closeModal:o},e.createElement(Le,{type:"add",amount:0,date:new Date,closeModal:o})))},fs="_today_wrapper_13r1n_1",bs="_bottle_wrapper_13r1n_23",Fe={today_wrapper:fs,bottle_wrapper:bs},vs=le().shape({gender:$().nullable(),weight:re().optional().min(0,"Weight cannot be negative").typeError("Weight must be a number"),activity:re().optional().min(0,"Activity time cannot be negative").typeError("Activity hours must be a number"),waterRate:re().min(0,"Planned water daily norma must be positive").max(15,"Planned daily water norm must be a maximum of 15 L").typeError("Planned water daily norma must be a number").optional()}),Ns="_form_1z00a_1",ys="_form_title_1z00a_8",ks="_formula_wrapper_1z00a_17",$s="_formula_1z00a_17",Cs="_formula_explanation_1z00a_33",Rs="_calculation_wrapper_1z00a_42",Ls="_calculation_title_1z00a_48",Ss="_gender_inputs_1z00a_56",Ps="_gender_input_wrapper_1z00a_61",Ws="_input_wrapper_1z00a_67",xs="_input_gender_1z00a_73",Ms="_label_1z00a_88",Ts="_input_1z00a_67",Bs="_required_water_input_wrapper_1z00a_101",Is="_required_water_1z00a_101",qs="_btn_wrapper_1z00a_125",Fs="_accent_color_1z00a_132",Ds="_validation_error_1z00a_136",zs="_input_error_1z00a_143",js="_validation_error_waterRate_1z00a_148",Us="_modalContent_1z00a_154",As="_rcs_inner_handle_1z00a_170",_={form:Ns,form_title:ys,formula_wrapper:ks,formula:$s,formula_explanation:Cs,calculation_wrapper:Rs,calculation_title:Ls,gender_inputs:Ss,gender_input_wrapper:Ps,input_wrapper:Ws,input_gender:xs,label:Ms,input:Ts,required_water_input_wrapper:Bs,required_water:Is,btn_wrapper:qs,accent_color:Fs,validation_error:Ds,input_error:zs,validation_error_waterRate:js,modalContent:Us,rcs_inner_handle:As},Os=({closeModal:a})=>{const t=I(),n=E(Re),[r,s]=m.useState(n||1.5),[o,c]=m.useState(0),{register:l,handleSubmit:i,watch:p,formState:{errors:d}}=ie({resolver:ye(vs),defaultValues:{weight:0,activity:0,waterRate:r}}),u=m.useCallback(k=>{const{gender:L,weight:Y,activity:z}=k;let S;return L==="women"?S=Y*.03+z*.4:S=Y*.04+z*.6,c(S.toFixed(1)),S.toFixed(1)},[]),f=k=>{s(k.target.value)},N=k=>{const L=o>0?o:r;if(k.weight===0&&k.activity===0&&k.waterRate===n&&L===n){a();return}t(at({waterRate:L})),a()},w=p();return m.useEffect(()=>{w.gender&&w.weight>0&&w.activity>=0&&u(w)},[w]),e.createElement("div",{className:_.modalContent},e.createElement("h2",{className:_.form_title},"My daily norma"),e.createElement(Oe,{heightRelativeToParent:"calc(100% - 56px)",handleClass:_.rcs_inner_handle},e.createElement("form",{onSubmit:i(N),className:_.form},e.createElement("div",{className:_.formula_wrapper},e.createElement("div",{className:_.formula},e.createElement("p",null,"For girl:"," ",e.createElement("span",{className:_.accent_color},"V=(M*0,03) + (T*0,4)")),e.createElement("p",null,"For man:"," ",e.createElement("span",{className:_.accent_color},"V=(M*0,04) + (T*0,6)"))),e.createElement("p",{className:_.formula_explanation},e.createElement("span",{className:_.accent_color},"*")," V is the volume of the water norm in liters per day, M is your body weight, T is the time of active sports, or another type of activity commensurate in terms of loads (in the absence of these, you must set 0)")),e.createElement("div",{className:_.calculation_wrapper},e.createElement("div",null,e.createElement("h3",{className:_.calculation_title},"Calculate your rate:"),e.createElement("div",{className:_.gender_inputs},e.createElement("div",{className:_.gender_input_wrapper},e.createElement("input",{className:`${_.input_gender} ${d.gender&&_.input_error}`,id:"gender-girl",type:"radio",value:"women",...l("gender")}),e.createElement("label",{htmlFor:"gender-girl",className:_.label},"For girl")),e.createElement("div",{className:_.gender_input_wrapper},e.createElement("input",{className:`${_.input_gender} ${d.gender&&_.input_error}`,id:"gender-man",type:"radio",value:"man",...l("gender")}),e.createElement("label",{className:_.label,htmlFor:"gender-man"},"For man")))),d.gender&&e.createElement("p",{className:_.validation_error},d.gender.message),e.createElement("div",{className:_.input_wrapper},e.createElement("label",{htmlFor:"weight",className:_.label},"Your weight in kilograms:"),e.createElement("input",{className:`${_.input} ${d.weight&&_.input_error}`,id:"weight",type:"number",...l("weight")})),d.weight&&e.createElement("p",{className:_.validation_error},d.weight.message),e.createElement("div",{className:_.input_wrapper},e.createElement("label",{htmlFor:"activity",className:_.label},"The time of active participation in sports or other activities with a high physical. load in hours:"),e.createElement("input",{className:`${_.input} ${d.activity&&_.input_error}`,id:"activity",type:"nuber",...l("activity")}),d.activity&&e.createElement("p",{className:_.validation_error},d.activity.message)),e.createElement("div",{className:_.required_water_input_wrapper},e.createElement("label",{htmlFor:"requiredWater",className:_.label},"The required amount of water in liters per day:"),e.createElement("output",{id:"requiredWater",className:_.required_water},`${o||0} L`))),e.createElement("div",null,e.createElement("h3",{className:_.calculation_title},"Write down how much water you will drink:"),e.createElement("input",{className:`${_.input} ${d.waterRate&&_.input_error}`,id:"waterRate",type:"text",...l("waterRate"),onChange:f}),d.waterRate&&e.createElement("p",{className:_.validation_error_waterRate},d.waterRate.message)),e.createElement("div",{className:_.btn_wrapper},e.createElement(oe,{type:"submit",className:"blue"},"Save")))))},Vs="_section_daily_norma_i0gom_1",Hs="_section_title_i0gom_14",Gs="_daily_norma_i0gom_21",Ys="_btn_edit_i0gom_28",Ks="_bottom_section_wrapper_i0gom_35",J={section_daily_norma:Vs,section_title:Hs,daily_norma:Gs,btn_edit:Ys,bottom_section_wrapper:Ks},Qs=()=>{const a=E(Re),{isOpen:t,toggle:n}=pe();return e.createElement("section",{className:J.section_daily_norma},e.createElement("h3",{className:J.section_title},"My daily norma"),e.createElement("div",{className:J.bottom_section_wrapper},e.createElement("p",{className:J.daily_norma},a," L"),e.createElement("button",{className:J.btn_edit,onClick:n},"Edit")),t&&e.createElement(ge,{closeModal:n},e.createElement(Os,{closeModal:n})))},Js="_stats_list_10uo6_1",Xs="_date_10uo6_20",Zs="_stat_10uo6_1",eo="_accent_10uo6_30",D={stats_list:Js,date:Xs,stat:Zs,accent:eo},to={firstColumn:[1,6,11,16,21,26,31],secondColumn:[2,7,12,17,22,27],thirdColumn:[3,8,13,18,23,28],fourthColumn:[4,9,14,19,24,29]},ao={firstColumn:[1,11,21,31],secondColumn:[2,12,22],thirdColumn:[3,13,23],fourthColumn:[4,14,24]},no=m.forwardRef(({note:a,index:t},n)=>{const{date:r,waterRate:s,percent:o,consumptionCount:c}=a,l=(u,f)=>Object.keys(f).find(N=>f[N].includes(u)),p=m.useCallback(()=>{const u=window.innerWidth;return u<=767?l(t,to):u>=768&&u<=1439?l(t,ao):null},[t])(),d=u=>{switch(u){case"firstColumn":return{right:"-241px"};case"secondColumn":return{right:"-183px"};case"thirdColumn":return{right:"-125px"};case"fourthColumn":return{right:"-67px"};default:return{}}};return e.createElement("ul",{className:D.stats_list,ref:n,style:d(p)},e.createElement("li",{className:D.date},r),e.createElement("li",{className:D.stat},"Daily norma: ",e.createElement("span",{className:D.accent},s)),e.createElement("li",{className:D.stat},"Fulfillment of the daily norm:"," ",e.createElement("span",{className:D.accent},o)),e.createElement("li",{className:D.stat},"How many servings of water:"," ",e.createElement("span",{className:D.accent},c)))}),ro="_calendar_item_1dtmd_1",so="_date_1dtmd_9",oo="_orange_border_1dtmd_25",co="_percent_1dtmd_29",ne={calendar_item:ro,date:so,orange_border:oo,percent:co},lo=({note:a,index:t})=>{const[n,r]=m.useState(!1),s=m.useRef(null),o=i=>{s.current&&!s.current.contains(i.target)&&r(!1)},c=i=>{i.key==="Escape"&&r(!1)};m.useEffect(()=>(n?(document.addEventListener("mousedown",o),document.addEventListener("keydown",c)):(document.removeEventListener("mousedown",o),document.removeEventListener("keydown",c)),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("keydown",c)}),[n]);const l=i=>{s.current&&s.current.contains(i.target)||r(!n)};return e.createElement("li",{className:ne.calendar_item,onClick:l},e.createElement("p",{className:`${ne.date} ${parseInt(a.percent)<100?ne.orange_border:""}`},t+1),e.createElement("p",{className:ne.percent},a.percent),n&&e.createElement(no,{note:a,index:t+1,ref:s}))},io="_water_month_section_1xayk_1",mo="_section_title_1xayk_19",_o="_title_wrapper_1xayk_32",uo="_calendar_list_1xayk_38",po="_pagination_1xayk_55",go="_pagination_btn_1xayk_60",ho="_pagination_icon_1xayk_73",wo="_date_1xayk_79",R={water_month_section:io,section_title:mo,title_wrapper:_o,calendar_list:uo,pagination:po,pagination_btn:go,pagination_icon:ho,date:wo},Eo=()=>{const a=I(),t=E(Kn),n=m.useMemo(()=>new Date().getFullYear(),[]),r=m.useMemo(()=>new Date().getMonth(),[]),[s,o]=m.useState(n),[c,l]=m.useState(O[r]);m.useEffect(()=>{a(G({year:s,month:c}))},[a,s,c]);const i=m.useCallback(()=>{const u=new Date(s,O.indexOf(c)-1,1);o(u.getFullYear()),l(O[u.getMonth()])},[s,c]),p=m.useCallback(()=>{const u=new Date(s,O.indexOf(c)+1,1);o(u.getFullYear()),l(O[u.getMonth()])},[s,c]),d=m.useMemo(()=>{const u=new Date().getMonth();return s===n&&O.indexOf(c)>=u||s>n},[s,c,n]);return e.createElement("section",{className:R.water_month_section},e.createElement("div",{className:R.title_wrapper},e.createElement("h2",{className:R.section_title},"Month"),e.createElement("div",{className:R.pagination},e.createElement("button",{className:R.pagination_btn,onClick:i},e.createElement(yt,{className:R.pagination_icon})),e.createElement("p",{className:R.date},`${c.charAt(0).toUpperCase()}${c.slice(1)}`,", ",s),e.createElement("button",{className:R.pagination_btn,onClick:p,disabled:d},!d&&e.createElement(kt,{className:R.pagination_icon})))),e.createElement("ul",{className:R.calendar_list},t.map((u,f)=>e.createElement(lo,{key:f,note:u,index:f}))))},fo=()=>{const a=I();return m.useEffect(()=>{a(Qe())},[a]),e.createElement(as,null,e.createElement("div",{className:Fe.bottle_wrapper},e.createElement(Qs,null),e.createElement(Es,null)),e.createElement("div",{className:Fe.today_wrapper},e.createElement(es,null),e.createElement(Eo,null)))},bo=({children:a})=>{const t=Ve();return E(de)?a:e.createElement(He,{state:{from:t},to:"/signin"})},De=({children:a})=>{var r;const t=Ve();return E(de)?e.createElement(He,{to:((r=t.state)==null?void 0:r.from)||"/",replace:!0}):a},ut=ce({name:"loading",initialState:{loading:!1},selectors:{selectIsLoading:a=>a.loading,selectIsRefresh:a=>a.isRefresh},reducers:{},extraReducers:a=>{a.addMatcher(t=>t.type.endsWith("/pending"),t=>{t.loading=!0}).addMatcher(t=>t.type.endsWith("/rejected")||t.type.endsWith("/fulfilled"),t=>{t.loading=!1})}}),vo=ut.reducer,{selectIsLoading:No,selectIsRefresh:Bo}=ut.selectors,yo="_loaderWrapper_y4qxp_1",ko="_loader_y4qxp_1",$o="_spinner_y4qxp_1",Co="_loaderName_y4qxp_30",Ne={loaderWrapper:yo,loader:ko,spinner:$o,loaderName:Co},ze=()=>e.createElement("div",{className:Ne.loaderWrapper},e.createElement("div",{className:Ne.loader},e.createElement("span",{className:Ne.loaderName})));const Ro=()=>{const a=I(),t=E(wa),n=E(de);E(No);const r=E(ha),s=_e();return m.useEffect(()=>{r&&a(se())},[a,r]),m.useEffect(()=>{n&&s("/home")},[n,s]),t?e.createElement(ze,null):e.createElement(e.Fragment,null,e.createElement(m.Suspense,{fallback:e.createElement(ze,null)},e.createElement($t,null,e.createElement(K,{path:"/",element:e.createElement(rn,null)},e.createElement(K,{index:!0,element:e.createElement(vn,null)}),e.createElement(K,{path:"signup",element:e.createElement(De,null,e.createElement(Vn,null))}),e.createElement(K,{path:"signin",element:e.createElement(De,null,e.createElement(Hn,null))}),e.createElement(K,{path:"home",element:e.createElement(bo,null,e.createElement(fo,null))})))))},Lo=ce({name:"error",initialState:{error:null},extraReducers:a=>{a.addMatcher(t=>t.type.endsWith("/rejected"),(t,{payload:n})=>{t.error=n?n.message||n:"An error occurred",V.error(t.error)}).addMatcher(t=>t.type.endsWith("/pending"),t=>{t.error=null}).addMatcher(t=>t.type.endsWith("/fulfilled"),t=>{t.error=null})}}),So=Lo.reducer,Po={key:"auth",version:1,storage:Bt,whitelist:["token"]},dt=Ct({reducer:{auth:Rt(Po,da),water:Yn,loading:vo,error:So},middleware:a=>a({serializableCheck:{ignoredActions:[Lt,St,Pt,Wt,xt,Mt]}}),devTools:!1}),Wo=Tt(dt);It.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(qt,{basename:"/watertracker-frontend"},e.createElement(Ft,{store:dt},e.createElement(Dt,{loading:null,persistor:Wo},e.createElement(Ro,null),e.createElement(zt,{autoClose:1500}))))));
//# sourceMappingURL=commonHelpers2.js.map
