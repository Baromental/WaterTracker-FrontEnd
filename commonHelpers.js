import{a as gt,c as y,R as e,r as m,b as oe,B as O,d as le,e as k,f as Ue,u as T,g as E,h as ie,i as me,j as _e,N as Ae,O as ht,L as Pe,o as ke,k as wt,I as Et,l as re,m as ue,C as $e,F as ft,n as Oe,D as vt,p as bt,A as Ve,q as Nt,G as yt,s as kt,t as ze,v as He,w as $t,x as Y,y as Ct,z as Rt,E as Lt,H as St,P as Pt,J as Wt,K as qt,M as Mt,Q as Tt,S as xt,T as Bt,U as jt,V as It,W as Ft,X as Dt}from"./assets/vendor-95f466c4.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const o of c.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();const N=gt.create({baseURL:"https://water-tracker-backend-oo69.onrender.com/api/"}),Ce=a=>{N.defaults.headers.common.Authorization=`Bearer ${a}`},Ut=()=>{N.defaults.headers.common.Authorization=""},A=["january","february","march","april","may","june","july","august","september","october","november","december"],Ge=y("addWater",async(a,t)=>{try{const{data:n}=await N.post("water",a);return t.dispatch(H()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ye=y("editWater",async(a,t)=>{const{amount:n,date:r,id:s}=a;try{const{data:c}=await N.patch(`water/${s}`,{amount:n,date:r});return t.dispatch(H()),c}catch(c){return t.rejectWithValue(c.response.data.message)}}),Ke=y("deleteWater",async(a,t)=>{try{const{data:n}=await N.delete(`water/${a.id}`);return t.dispatch(H()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Qe=y("fetchWaterDataToday",async(a,t)=>{try{const{data:n}=await N.get("water/today");return n}catch(n){return t.rejectWithValue(n.response.data.message)}}),H=y("fetchWaterDataMonth",async({year:a=new Date().getFullYear(),month:t=A[new Date().getMonth()]}={},n)=>{try{const{data:r}=await N.get(`water/${a}/${t}`);return r}catch(r){return n.rejectWithValue(r.response.data.message)}}),Je=y("register",async(a,t)=>{try{const{data:n}=await N.post("auth/register",a);return Ce(n.token),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Xe=y("login",async(a,t)=>{try{const{data:n}=await N.post("auth/login",a);return console.log(n),Ce(n.token),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ze=y("logout",async(a,t)=>{try{const{data:n}=await N.post("auth/logout");return Ut(),n}catch(n){return t.rejectWithValue(n.message)}}),se=y("refresh",async(a,t)=>{const n=t.getState().auth.token;if(!n)return t.rejectWithValue("Token is not exist!");try{Ce(n);const{data:r}=await N.get("user/current");return r}catch(r){return t.rejectWithValue(r.message)}});y("getWaterRate",async(a,t)=>{try{const{data:n}=await N.get("user/current");return n}catch(n){return t.rejectWithValue(n.message)}});const et=y("updateUser",async(a,t)=>{try{const{data:n}=await N.patch("user/setting",a);return n}catch(n){return t.rejectWithValue(n.response.data.message)}}),tt=y("updateAvatar",async(a,t)=>{try{const n=await N.patch("user/avatars",a,{headers:{"Content-Type":"multipart/form-data"}});return console.log(n),n.data}catch(n){return t.rejectWithValue(n.response.data.message)}}),ye=y("updateWaterRate",async(a,t)=>{try{const{data:n}=await N.patch("user/waterRate",a);return t.dispatch(H()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),At="_overlay_ewvov_1",Ot="_modal_ewvov_25",Vt="_closeButton_ewvov_49",Ee={overlay:At,modal:Ot,closeButton:Vt},b="/watertracker-frontend/assets/sprite-e5e86550.svg",zt="_label_1xjhs_1",fe={label:zt},We=({name:a,id:t,defaultChecked:n,value:r,label:s,register:c,onChange:o})=>e.createElement("div",{className:fe.wrap},e.createElement("input",{id:t,className:fe.input,...c(`${a}`),name:a,value:r,onChange:o,type:"radio",defaultChecked:n}),e.createElement("label",{htmlFor:t,className:fe.label},s)),Ht="_wrap_s6jbm_1",Gt="_label_s6jbm_9",Yt="_input_s6jbm_25",Kt="_error_s6jbm_93",Z={wrap:Ht,label:Gt,input:Yt,error:Kt},qe=({name:a,id:t,type:n,value:r,label:s,placeholder:c,register:o,onChange:i,error:l})=>e.createElement("div",{className:Z.wrap},e.createElement("label",{htmlFor:t,className:Z.label},s),e.createElement("input",{id:t,className:Z.input,...o(`${a}`),name:a,type:n,value:r,placeholder:c,onChange:i,autoComplete:"off"}),l&&e.createElement("span",{className:Z.error},l)),Qt="_wrap_aev4a_1",Jt="_label_aev4a_9",Xt="_wrapInput_aev4a_25",Zt="_eye_aev4a_35",ea="_icon_aev4a_47",ta="_input_aev4a_59",aa="_error_aev4a_125",x={wrap:Qt,label:Jt,wrapInput:Xt,eye:Zt,icon:ea,input:ta,error:aa},ve=({name:a,id:t,value:n,label:r,placeholder:s,register:c,onChange:o,error:i})=>{const[l,u]=m.useState("password");return e.createElement("div",{className:x.wrap},e.createElement("label",{htmlFor:t,className:x.label},r),e.createElement("div",{className:x.wrapInput},e.createElement("div",{className:x.eye,onClick:()=>{u(l==="password"?"text":"password")}},l==="password"?e.createElement("svg",{className:x.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-crossed-eye`})):e.createElement("svg",{className:x.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-eye`}))),e.createElement("input",{id:t,className:x.input,...c(`${a}`),name:a,type:l,value:n,placeholder:s,onChange:o})),i&&e.createElement("span",{className:x.error},i))},na="_wrap_g7yi5_1",ra="_imageWrap_g7yi5_9",sa="_label_g7yi5_21",ca="_imagePreviewContainer_g7yi5_33",oa="_imagePreview_g7yi5_33",la="_placeholder_g7yi5_61",ia="_input_g7yi5_79",ma="_button_g7yi5_87",_a="_icon_g7yi5_113",L={wrap:na,imageWrap:ra,label:sa,imagePreviewContainer:ca,imagePreview:oa,placeholder:la,input:ia,button:ma,icon:_a},ua=({name:a,type:t,label:n,placeholder:r,src:s,register:c,onChange:o})=>{const[i,l]=m.useState(s),u=m.useRef(null),p=f=>{const w=f.target.files[0];if(w){const v=new FileReader;v.onloadend=()=>{l(v.result)},v.readAsDataURL(w)}o&&o(f)},d=()=>{u.current.click()};return e.createElement("div",{className:L.wrap},e.createElement("label",{className:L.label,htmlFor:a},n),e.createElement("div",{className:L.imageWrap},e.createElement("div",{className:L.imagePreviewContainer},i?e.createElement("img",{src:i,alt:"Preview",className:L.imagePreview}):e.createElement("div",{className:L.placeholder},r)),e.createElement("input",{id:a,className:L.input,name:a,type:t,onChange:p,ref:f=>{c(`${a}`),u.current=f}}),e.createElement("button",{type:"button",onClick:d,className:L.button},e.createElement("svg",{width:"16",height:"16",className:L.icon},e.createElement("use",{href:`${b}#icon-arrow-up`}))," ","Upload a photo")))},be={name:"",email:"",password:"",gender:"",waterRate:1.5,avatarURL:"",token:null,isLoggedIn:!1,isRefresh:!1},Re=oe({name:"auth",initialState:be,selectors:{selectName:a=>a.name,selectGender:a=>a.gender,selectEmail:a=>a.email,selectWaterRate:a=>a.waterRate,selectAvatarURL:a=>a.avatarURL,selectIsLoggedIn:a=>a.isLoggedIn,selectToken:a=>a.token,selectIsRefresh:a=>a.isRefresh},reducers:{logout:a=>be,setName:(a,t)=>{a.name=t.payload}},extraReducers:a=>{a.addCase(se.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isLoggedIn=!0,t.isRefresh=!1}).addCase(se.pending,(t,{payload:n})=>{t.isRefresh=!0}).addCase(se.rejected,(t,{payload:n})=>{t.isRefresh=!1}).addCase(Ze.fulfilled,t=>be).addCase(tt.fulfilled,(t,{payload:n})=>{t.avatarURL=n.avatarURL,t.isRefresh=!1,O.success("The avatar has been downloaded successfully")}).addCase(et.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.isRefresh=!1,O.success("Data changed successfully")}).addCase(ye.fulfilled,(t,{payload:n})=>{t.waterRate=n.waterRate,O.success("Daily norma updated successfully")}).addCase(Je.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isRefresh=!1,O.success("You have successfully registered")}).addCase(Xe.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isLoggedIn=!0,t.isRefresh=!1,O.success(`Welcome, ${n.name||n.email}`)})}}),da=Re.reducer,{selectName:at,selectGender:pa,selectEmail:ga,selectWaterRate:nt,selectAvatarURL:rt,selectIsLoggedIn:de,selectToken:ha,selectIsRefresh:wa}=Re.selectors,{logout:Ea,setName:qc}=Re.actions;le().shape({name:k().max(32,"Must be less than 32 symbols"),email:k().required("Email is required").email("Email is not valid"),password:k().notRequired(),newPassword:k().when("password",{is:a=>a&&a.length>0,then:k().required("New Password is required").min(8,"Must be more than 8 symbols").max(64,"Must be less than 64 symbols")}),repeatNewPass:k().oneOf([Ue("newPassword"),null],"Passwords must match").when("newPassword",{is:a=>a&&a.length>0,then:k().required("Repeat new password is required")})});const fa="_title_3v6qg_1",va="_form_3v6qg_19",ba="_mainWrap_3v6qg_45",Na="_fieldsetGender_3v6qg_69",ya="_wrapInfo_3v6qg_85",ka="_fieldset_3v6qg_69",$a="_legend_3v6qg_111",Ca="_button_3v6qg_129",S={title:fa,form:va,mainWrap:ba,fieldsetGender:Na,wrapInfo:ya,fieldset:ka,legend:$a,button:Ca},Ra=()=>{var w,v,V,I,G;const a=T(),t=E(at),n=E(ga),r=E(pa),s=E(rt),{register:c,handleSubmit:o,watch:i,setValue:l,setError:u,formState:{errors:p}}=ie({defaultValues:{name:t,email:n,gender:r}});i("gender"),m.useEffect(()=>{l("name",t),l("email",n),l("gender",r)},[t,n,r,l]);const d=R=>{const{email:J,name:X,gender:pt,newPassword:F,password:he,repeatNewPass:Se}=R;if(F&&he===F){u("newPassword",{type:"manual",message:"New password cannot be the same as the current password."});return}if(F&&F!==Se){u("repeatNewPass",{type:"manual",message:"New password and repeat password do not match."});return}const we={email:J,name:X,gender:pt};he&&F&&F===Se&&(we.password=he,we.newPassword=F),a(et(we))},f=R=>{R.preventDefault();const J=R.target.files[0];if(J){const X=new FormData;X.append("avatarURL",J),a(tt(X))}};return e.createElement(e.Fragment,null,e.createElement("h1",{className:S.title},"Setting"),e.createElement("form",{className:S.form,onSubmit:o(d)},e.createElement(ua,{name:"avatar",type:"file",label:"Your photo",placeholder:"Upload a photo",src:s,register:c,onChange:f}),e.createElement("div",{className:S.mainWrap},e.createElement("div",null,e.createElement("fieldset",{className:S.fieldsetGender},e.createElement("legend",{className:S.legend},"Your gender identity"),e.createElement(We,{id:"woman",name:"gender",value:"woman",label:"Woman",register:c,onChange:()=>l("gender","woman"),defaultChecked:"true"}),e.createElement(We,{id:"man",name:"gender",value:"man",label:"Man",register:c,onChange:()=>l("gender","man"),defaultChecked:"false"})),e.createElement("div",{className:S.wrapInfo},e.createElement(qe,{id:"name",name:"name",type:"text",label:"Your name",placeholder:"Enter your name",register:c,error:(w=p.name)==null?void 0:w.message}),e.createElement(qe,{id:"email",name:"email",type:"email",label:"E-mail",placeholder:"Enter your e-mail",register:c,error:(v=p.email)==null?void 0:v.message}))),e.createElement("fieldset",{className:S.fieldset},e.createElement("legend",{className:S.legend},"Password"),e.createElement(ve,{name:"password",label:"Outdated password:",placeholder:"Password",register:c,error:(V=p.password)==null?void 0:V.message}),e.createElement(ve,{name:"newPassword",label:"New Password:",placeholder:"Password",register:c,error:(I=p.newPassword)==null?void 0:I.message}),e.createElement(ve,{name:"repeatNewPass",label:"Repeat new password:",placeholder:"Password",register:c,error:(G=p.repeatNewPass)==null?void 0:G.message}))),e.createElement("button",{className:S.button},"Save")))},La=document.querySelector("#modal"),Sa=({onClose:a})=>{const t=m.useCallback(r=>{r.key==="Escape"&&a()},[a]);m.useEffect(()=>(document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}),[t]);const n=r=>{r.target===r.currentTarget&&a()};return me.createPortal(e.createElement("div",{className:Ee.overlay,onClick:n},e.createElement("div",{className:Ee.modal},e.createElement("button",{className:Ee.closeButton,onClick:a},e.createElement("svg",{width:"24",height:"24"},e.createElement("use",{href:`${b}#icon-cross`}))),e.createElement(Ra,null))),La)},Pa="_overlay_kvfez_1",Wa="_modal_kvfez_23",qa="_header_kvfez_41",Ma="_title_kvfez_55",Ta="_paragraph_kvfez_69",xa="_closeButton_kvfez_83",Ba="_buttonContainer_kvfez_97",ja="_cancelButton_kvfez_111",Ia="_logoutButton_kvfez_111",P={overlay:Pa,modal:Wa,header:qa,title:Ma,paragraph:Ta,closeButton:xa,buttonContainer:Ba,cancelButton:ja,logoutButton:Ia},Fa=document.querySelector("#modal"),Da=({onClose:a})=>{const t=_e(),n=T(),r=()=>{n(Ze()),n(Ea()),a(),t("/")},s=m.useCallback(o=>{o.key==="Escape"&&a()},[a]);m.useEffect(()=>(document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}),[s]);const c=o=>{o.target===o.currentTarget&&a()};return me.createPortal(e.createElement("div",{className:P.overlay,onClick:c},e.createElement("div",{className:P.modal},e.createElement("div",{className:P.header},e.createElement("h2",{className:P.title},"Log out"),e.createElement("button",{className:P.closeButton,onClick:a},e.createElement("svg",{width:"24",height:"24"},e.createElement("use",{href:`${b}#icon-cross`})))),e.createElement("p",{className:P.paragraph},"Do you really want to leave?"),e.createElement("div",{className:P.buttonContainer},e.createElement("button",{className:P.cancelButton,onClick:a},"Cancel"),e.createElement("button",{className:P.logoutButton,onClick:r},"Log out")))),Fa)},Ua="_modalWrapper_y1vxu_1",Aa="_menu_y1vxu_23",Oa="_menuItem_y1vxu_47",Va="_icon_y1vxu_85",za="_modalContent_y1vxu_97",D={modalWrapper:Ua,menu:Aa,menuItem:Oa,icon:Va,modalContent:za},Ha=document.querySelector("#modal"),Ga=({closeModal:a,onSettingsClick:t,onLogoutClick:n})=>{const r=m.useCallback(c=>{c.key==="Escape"&&a()},[a]);m.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[r]);const s=c=>{c.target===c.currentTarget&&a()};return me.createPortal(e.createElement("div",{onClick:s,className:D.modalWrapper},e.createElement("div",{className:D.modalContent},e.createElement("div",{className:D.menu},e.createElement("button",{className:D.menuItem,onClick:t},e.createElement("svg",{width:"16",height:"16",className:D.icon},e.createElement("use",{href:`${b}#icon-gear`})),"Setting"),e.createElement("button",{className:D.menuItem,onClick:n},e.createElement("svg",{width:"16",height:"16",className:D.icon},e.createElement("use",{href:`${b}#icon-exit`})),"Log out")))),Ha)},Ya="_header_1tabt_1",Ka="_logoLink_1tabt_15",Qa="_userAuthButton_1tabt_23",Ja="_userLogoButton_1tabt_43",Xa="_userName_1tabt_61",Za="_userAvatar_1tabt_73",en="_iconUser_1tabt_85",tn="_iconDown_1tabt_95",W={header:Ya,logoLink:Ka,userAuthButton:Qa,userLogoButton:Ja,userName:Xa,userAvatar:Za,iconUser:en,iconDown:tn},an="/watertracker-frontend/assets/logo-694fc291.png",nn=()=>{const[a,t]=m.useState(!1),[n,r]=m.useState(!1),[s,c]=m.useState(!1),o=E(de),i=E(at),l=E(rt),u=_e(),p=()=>{t(!0),c(!1)},d=()=>t(!1),f=()=>{r(!0),c(!1)},w=()=>r(!1),v=()=>c(!s),V=()=>{u(o?"/home":"/")},I=()=>{w()};return e.createElement("header",null,e.createElement("nav",{className:W.header},e.createElement("div",{className:W.logoLink,onClick:V},e.createElement("img",{src:an,alt:"Logo",className:"logo"})),!o&&e.createElement(Ae,{to:"/signin",className:W.userAuthButton},"Sign In",e.createElement("svg",{width:"28",height:"28",className:W.iconUser},e.createElement("use",{href:`${b}#icon-user`}))),o&&e.createElement(e.Fragment,null,e.createElement("button",{className:W.userLogoButton,onClick:v},e.createElement("span",{className:W.userName},i),l?e.createElement("img",{src:l,alt:"User Avatar",className:W.userAvatar}):e.createElement("svg",{width:"28",height:"28",className:W.iconUser},e.createElement("use",{href:`${b}#icon-user`})),e.createElement("svg",{width:"16",height:"16",className:W.iconDown},e.createElement("use",{href:`${b}#icon-down`}))),s&&e.createElement(Ga,{closeModal:v,onSettingsClick:p,onLogoutClick:f}))),a&&e.createElement(Sa,{onClose:d}),n&&e.createElement(Da,{onClose:w,onLogout:I}))},rn=()=>e.createElement("div",null,e.createElement(nn,null),e.createElement(ht,null)),sn="_welcomePageBackground_vo9yt_1",cn="_container_vo9yt_21",Me={welcomePageBackground:sn,container:cn},on=({children:a})=>e.createElement("section",{className:Me.welcomePageBackground},e.createElement("div",{className:Me.container},a)),ln="_welcomePageContainer_jvzfb_1",mn="_title_jvzfb_9",_n="_buttonContainer_jvzfb_19",un="_subtitle_jvzfb_33",dn="_listButtonTitle_jvzfb_47",pn="_listButton_jvzfb_47",gn="_itemListButton_jvzfb_79",hn="_button_jvzfb_19",wn="_listTitle_jvzfb_151",En="_list_jvzfb_47",fn="_itemList_jvzfb_79",vn="_welcomePageSection_jvzfb_229",g={welcomePageContainer:ln,title:mn,buttonContainer:_n,subtitle:un,listButtonTitle:dn,listButton:pn,itemListButton:gn,button:hn,listTitle:wn,list:En,itemList:fn,welcomePageSection:vn},bn=()=>e.createElement(on,null,e.createElement("div",{className:g.welcomePageSection},e.createElement("h1",{className:g.title},"Water consumption tracker"),e.createElement("div",{className:g.welcomePageContainer},e.createElement("div",{className:g.buttonContainer},e.createElement("h2",{className:g.subtitle},"Record daily water intake and track"),e.createElement("div",null,e.createElement("span",{className:g.listButtonTitle},"Tracker Benefits"),e.createElement("ul",{className:g.listButton},e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${b}#icon-calendar`})),"Habit drive"),e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${b}#icon-analytics`})),"View statistics"),e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${b}#icon-screw`})),"Personal rate setting"))),e.createElement(Ae,{to:"/signup",className:g.button},"Try tracker")),e.createElement("div",{className:g.listContainer},e.createElement("ul",{className:g.list},e.createElement("span",{className:g.listTitle},"Why drink water"),e.createElement("li",{className:g.itemList},"Supply of nutrients to all organs"),e.createElement("li",{className:g.itemList},"Providing oxygen to the lungs"),e.createElement("li",{className:g.itemList},"Maintaining the work of the heart"),e.createElement("li",{className:g.itemList},"Release of processed substances"),e.createElement("li",{className:g.itemList},"Ensuring the stability of the internal environment"),e.createElement("li",{className:g.itemList},"Maintaining within the normal temperature"),e.createElement("li",{className:g.itemList},"Maintaining an immune system capable of resisting disease")))))),Nn="_mainWrap_2vr7l_1",yn="_title_2vr7l_13",kn="_form_2vr7l_27",$n="_wrap_2vr7l_35",Cn="_label_2vr7l_43",Rn="_input_2vr7l_57",Ln="_error_2vr7l_105",Sn="_button_2vr7l_115",Pn="_link_2vr7l_171",z={mainWrap:Nn,title:yn,form:kn,wrap:$n,label:Cn,input:Rn,error:Ln,button:Sn,link:Pn},Wn="_wrap_hapel_1",qn="_label_hapel_9",Mn="_wrapInput_hapel_23",Tn="_eye_hapel_33",xn="_icon_hapel_45",Bn="_input_hapel_57",jn="_error_hapel_105",B={wrap:Wn,label:qn,wrapInput:Mn,eye:Tn,icon:xn,input:Bn,error:jn},Te=({name:a,id:t,value:n,label:r,placeholder:s,register:c,onChange:o,error:i})=>{const[l,u]=m.useState("password");return e.createElement("div",{className:B.wrap},e.createElement("label",{htmlFor:t,className:B.label},r),e.createElement("div",{className:B.wrapInput},e.createElement("div",{className:B.eye,onClick:()=>{u(l==="password"?"text":"password")}},l==="password"?e.createElement("svg",{className:B.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-crossed-eye`})):e.createElement("svg",{className:B.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-eye`}))),e.createElement("input",{id:t,className:B.input,...c(`${a}`),name:a,type:l,value:n,placeholder:s,onChange:o})),i&&e.createElement("span",{className:B.error},i))},In="_wrap_1g006_1",Fn="_label_1g006_9",Dn="_input_1g006_23",Un="_error_1g006_87",ee={wrap:In,label:Fn,input:Dn,error:Un},An=({name:a,id:t,type:n,value:r,label:s,placeholder:c,register:o,onChange:i,error:l})=>e.createElement("div",{className:ee.wrap},e.createElement("label",{htmlFor:t,className:ee.label},s),e.createElement("input",{id:t,className:ee.input,...o(`${a}`),name:a,type:n,value:r,placeholder:c,onChange:i,autoComplete:"off"}),l&&e.createElement("span",{className:ee.error},l)),st=({formType:a,onSubmit:t,schema:n})=>{var l,u,p;const{register:r,handleSubmit:s,formState:{errors:c}}=ie({resolver:ke(n)}),o=_e(),i=d=>{const{repeatPassword:f,...w}=d;t(w).then(v=>{v.error||o(a==="register"?"/signin":"/home")}).catch(v=>{O.error("Submission error:",v)})};return e.createElement("div",{className:z.mainWrap},e.createElement("h1",{className:z.title},a==="register"?"Sign Up":"Sign In"),e.createElement("form",{className:z.form,onSubmit:s(i)},e.createElement(An,{id:"email",name:"email",type:"email",label:"Enter your email",placeholder:"E-mail",register:r,error:(l=c.email)==null?void 0:l.message}),e.createElement(Te,{id:"password",name:"password",label:"Enter your password",placeholder:"Password",register:r,error:(u=c.password)==null?void 0:u.message}),a==="register"&&e.createElement(Te,{id:"repeatPassword",name:"repeatPassword",label:"Repeat password",placeholder:"Repeat password",register:r,error:(p=c.repeatPassword)==null?void 0:p.message}),e.createElement("button",{className:z.button},a==="register"?"Sign Up":"Sign In"),a==="register"?e.createElement(Pe,{to:"/signin",className:z.link},"Sign in"):e.createElement(Pe,{to:"/signup",className:z.link},"Sign up")))},On="_section_1etoj_1",Vn="_container_1etoj_9",xe={section:On,container:Vn},ct=({children:a})=>e.createElement("section",{className:xe.section},e.createElement("div",{className:xe.container},a)),ot=le({email:k().required().email("Email is not valid"),password:k().required().min(8,"Must be more then 8 symbols").max(64,"Must be less then 64 symbols"),repeatPassword:k().oneOf([Ue("password"),null],"Passwords must match")}).required(),zn=()=>{const a=T(),t=async n=>{try{return{error:null,response:await a(Je(n)).unwrap()}}catch(r){return{error:r}}};return e.createElement(ct,null,e.createElement(st,{onSubmit:t,formType:"register",schema:ot}))},Hn=()=>{const a=T(),t=async n=>{try{return{error:null,response:await a(Xe(n)).unwrap()}}catch(r){return{error:r}}};return e.createElement(ct,null,e.createElement(st,{onSubmit:t,formType:"login",schema:ot}))},Gn={percent:0,notes:[],notesPerMonth:[]},lt=oe({name:"water",initialState:Gn,selectors:{selectNotes:a=>a.notes,selectPercent:a=>a.percent,selectNotesPerMonth:a=>a.notesPerMonth},extraReducers:a=>{a.addCase(Ge.fulfilled,(t,{payload:n})=>{t.notes.push(n)}).addCase(Ye.fulfilled,(t,{payload:n})=>{const r=t.notes.findIndex(s=>s._id===n._id);t.notes.splice(r,1,n)}).addCase(Ke.fulfilled,(t,{payload:n})=>{t.notes=t.notes.filter(r=>r._id!==n._id)}).addCase(Qe.fulfilled,(t,{payload:n})=>{t.notes=n.result,t.percent=n.percent}).addCase(H.fulfilled,(t,{payload:n})=>{t.notesPerMonth=n})}}),Yn=lt.reducer,{selectNotes:it,selectPercent:Mc,selectNotesPerMonth:Kn}=lt.selectors,pe=()=>{const[a,t]=m.useState(!1);return{isOpen:a,close:()=>t(!1),open:()=>t(!0),toggle:()=>t(c=>!c)}},mt=a=>wt(new Date(a)).format("HH:mm A"),Qn="_backdrop_wyb7n_1",Jn="_modal_wyb7n_21",Xn="_btn_close_wyb7n_55",Zn="_icon_close_wyb7n_77",te={backdrop:Qn,modal:Jn,btn_close:Xn,icon_close:Zn},er=document.querySelector("#modal"),ge=({closeModal:a,children:t})=>{const n=m.useCallback(s=>{s.key==="Escape"&&a()},[a]);m.useEffect(()=>(document.body.style.overflow="hidden",document.addEventListener("keydown",n),()=>{document.body.style.overflow="",document.removeEventListener("keydown",n)}),[a,n]);const r=s=>{s.target===s.currentTarget&&a()};return me.createPortal(e.createElement("div",{onClick:r,className:te.backdrop},e.createElement("div",{className:te.modal},e.createElement("button",{onClick:a,className:te.btn_close},e.createElement(Et,{className:te.icon_close})),t)),er)},tr=le().shape({amount:re().required("Amount is required").min(1,"Minimum amount is 1").max(5e3,"Maximum amount is 5000").typeError("Please enter a valid number"),date:k().required("Date is required")}),ar="_btn_n355i_1",nr="_blue_n355i_55",rr="_red_n355i_63",sr="_cancel_n355i_71",cr="_add_n355i_103",Be={btn:ar,blue:nr,red:rr,cancel:sr,add:cr},ce=({children:a,type:t,className:n,onClick:r})=>e.createElement("button",{type:t,className:`${Be.btn} ${Be[n]}`,onClick:r},a),or="_amount_1xa4y_1",lr={amount:or},ir=()=>{const{watch:a}=ue(),t=a("amount");return e.createElement("p",{className:lr.amount},t||0,"ml")},mr="_wrapper_1mims_1",_r="_label_1mims_13",ur="_input_wrapper_1mims_23",dr="_input_container_1mims_35",pr="_input_1mims_23",gr="_btn_1mims_83",hr="_icon_1mims_109",q={wrapper:mr,label:_r,input_wrapper:ur,input_container:dr,input:pr,btn:gr,icon:hr},wr=()=>{const{control:a}=ue();return e.createElement($e,{name:"amount",control:a,render:({field:t})=>e.createElement("div",{className:q.wrapper},e.createElement("label",{htmlFor:"amount-water",className:q.label},"Amount of water:"),e.createElement("div",{className:q.input_wrapper},e.createElement("button",{className:q.btn,type:"button",onClick:()=>t.onChange(Math.max(t.value-50,0))},e.createElement(ft,{className:q.icon})),e.createElement("div",{className:q.input_container},e.createElement("div",{className:q.input,id:"amount-water"},t.value||0,"ml")),e.createElement("button",{className:q.btn,type:"button",onClick:()=>t.onChange(Math.min(t.value+50,5e3))},e.createElement(Oe,{className:q.icon}))))})},Er="_wrapper_5rkp3_1",fr="_label_5rkp3_13",vr="_datepicker_5rkp3_23",br="_wrapper_datepicker_5rkp3_43",Nr="_error_5rkp3_51",K={wrapper:Er,label:fr,datepicker:vr,wrapper_datepicker:br,error:Nr};const yr=({className:a})=>{const{control:t}=ue();return e.createElement($e,{name:"date",control:t,render:({field:n})=>e.createElement("div",{className:K.wrapper},e.createElement("label",{htmlFor:"time",className:K.label},"Recording time:"),e.createElement(vt,{id:"time",selected:n.value,onChange:r=>{n.onChange(r)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:5,timeCaption:"Time",dateFormat:"H:mm aa",className:`${K.datepicker} ${K[a]}`,wrapperClassName:K.wrapper_datepicker}))})},kr="_wrapper_8l261_1",$r="_label_8l261_13",Cr="_input_8l261_27",Rr="_error_8l261_47",ae={wrapper:kr,label:$r,input:Cr,error:Rr},Lr=({className:a})=>{const{control:t}=ue();return e.createElement($e,{name:"amount",control:t,render:({field:n})=>e.createElement("div",{className:ae.wrapper},e.createElement("label",{htmlFor:"water-value",className:ae.label},"Enter the value of the water used:"),e.createElement("input",{className:`${ae.input} ${ae[a]}`,id:"water-value",type:"number",value:n.value,onChange:r=>{const s=r.target.value;s<=5e3&&s>=0&&n.onChange(s)},min:0,max:5e3}))})},_t="/watertracker-frontend/assets/glass-ee1b4d71.svg",Sr="_form_title_1eq5j_1",Pr="_text_under_title_1eq5j_17",Wr="_inputs_wrapper_1eq5j_33",qr="_btn_wrapper_1eq5j_45",Mr="_error_message_1eq5j_73",Tr="_ml_1eq5j_85",xr="_time_1eq5j_97",Br="_edit_data_1eq5j_109",$={form_title:Sr,text_under_title:Pr,inputs_wrapper:Wr,btn_wrapper:qr,error_message:Mr,ml:Tr,time:xr,edit_data:Br},Le=({type:a,amount:t,date:n,id:r,closeModal:s})=>{const c=T(),o=ie({defaultValues:{amount:t,date:n},resolver:ke(tr)}),{formState:{errors:i}}=o,l=d=>{switch(d.date=d.date.toString(),a){case"edit":c(Ye({...d,id:r}));break;case"add":c(Ge(d));break;case"delete":c(Ke({...d,id:r}));break}s()},u=d=>{switch(d){case"edit":return"Edit the entered amount of water";case"add":return"Add water";case"delete":return"Delete entry"}},p=d=>{switch(d){case"edit":return"Correct entered data:";case"add":return"Choose a value:";case"delete":return"Are you sure you want to delete the entry?"}};return e.createElement(bt,{...o},e.createElement("form",{onSubmit:o.handleSubmit(l)},e.createElement("h2",{className:$.form_title},u(a)),a==="edit"&&e.createElement("div",{className:$.edit_data},e.createElement("img",{src:_t,alt:"glass"}),e.createElement("p",{className:$.ml},t,"ml"),e.createElement("p",{className:$.time},mt(n))),e.createElement("p",{className:$.text_under_title},p(a)),a!=="delete"&&e.createElement("div",{className:$.inputs_wrapper},e.createElement(wr,null),i.amount&&e.createElement("p",{className:$.error_message},i.amount.message),e.createElement(yr,{className:i.date?"error":""}),i.date&&e.createElement("p",{className:$.error_message},i.date.message),e.createElement(Lr,{className:i.amount?"error":""}),i.amount&&e.createElement("p",{className:$.error_message},i.amount.message)),e.createElement("div",{className:$.btn_wrapper},a!=="delete"&&e.createElement(ir,null),a==="delete"&&e.createElement(ce,{type:"button",className:"cancel",onClick:s},"Cancel"),e.createElement(ce,{type:"submit",className:a==="delete"?"red":"blue"},a==="delete"?"Delete":"Save"))))},jr="_list_item_h1qsp_1",Ir="_wrapper_align_left_h1qsp_15",Fr="_wrapper_align_right_h1qsp_29",Dr="_ml_h1qsp_43",Ur="_time_h1qsp_55",Ar="_icon_pen_wrapper_h1qsp_67",Or="_icon_trash_wrapper_h1qsp_91",Vr="_icon_pen_h1qsp_67",zr="_icon_trash_h1qsp_91",M={list_item:jr,wrapper_align_left:Ir,wrapper_align_right:Fr,ml:Dr,time:Ur,icon_pen_wrapper:Ar,icon_trash_wrapper:Or,icon_pen:Vr,icon_trash:zr},Hr=({note:a})=>{const{isOpen:t,toggle:n}=pe(),{amount:r,date:s,_id:c}=a,[o,i]=m.useState(null),l=u=>{i(u),n()};return e.createElement("li",{className:M.list_item},e.createElement("div",{className:M.wrapper_align_left},e.createElement("img",{src:_t,alt:"glass"}),e.createElement("p",{className:M.ml},r," ml"),e.createElement("p",{className:M.time},mt(s))),e.createElement("div",{className:M.wrapper_align_right},e.createElement("button",{className:M.icon_pen_wrapper,onClick:()=>l("edit")},e.createElement("svg",{className:M.icon_pen},e.createElement("use",{xlinkHref:`${b}#icon-pen`}))),e.createElement("button",{className:M.icon_trash_wrapper,onClick:()=>l("delete")},e.createElement("svg",{className:M.icon_trash},e.createElement("use",{xlinkHref:`${b}#icon-trash`})))),t&&e.createElement(ge,{closeModal:n},e.createElement(Le,{type:o,id:c,amount:r,date:new Date(s),closeModal:n})))},Gr="_today_section_uplpa_1",Yr="_section_title_uplpa_33",Kr="_list_uplpa_59",Qr="_custom_scroll_container_uplpa_87",Jr="_icon_plus_uplpa_135",Xr="_add_btn_uplpa_163",Zr="_rcs_inner_handle_uplpa_207",U={today_section:Gr,section_title:Yr,list:Kr,custom_scroll_container:Qr,icon_plus:Jr,add_btn:Xr,rcs_inner_handle:Zr},es=()=>{const{isOpen:a,toggle:t}=pe(),n=E(it);return e.createElement("section",{className:U.today_section},e.createElement("h2",{className:U.section_title},"Today"),e.createElement("div",{className:U.custom_scroll_container},e.createElement(Ve,{heightRelativeToParent:"100%",handleClass:U.rcs_inner_handle},n.length>0&&e.createElement("ul",{className:U.list},n.map(r=>e.createElement(Hr,{key:r._id,note:r}))))),e.createElement("button",{className:U.add_btn,onClick:t},e.createElement(Oe,{className:U.icon_plus}),"Add water"),a&&e.createElement(ge,{closeModal:t},e.createElement(Le,{type:"add",amount:0,date:new Date,closeModal:t})))},ts="_container_kt1xl_1",je={container:ts},as=({children:a})=>e.createElement("section",{className:je.section},e.createElement("div",{className:je.container},a)),ns="_water_ratio_section_wg7qh_1",rs="_section_title_wg7qh_37",ss="_top_section_wrapper_wg7qh_51",cs="_progress_bar_wrapper_wg7qh_71",os="_progress_bar_wg7qh_71",ls="_progress_wg7qh_71",is="_circle_wg7qh_139",ms="_marks_wrapper_wg7qh_163",_s="_marks_label_wrapper_wg7qh_193",us="_mark_label_wg7qh_207",ds="_active_wg7qh_221",ps="_mark_wg7qh_163",gs="_icon_ellipse_wg7qh_245",hs="_icon_plus_circle_wg7qh_255",ws="_btn_name_wg7qh_273",h={water_ratio_section:ns,section_title:rs,top_section_wrapper:ss,progress_bar_wrapper:cs,progress_bar:os,progress:ls,circle:is,marks_wrapper:ms,marks_label_wrapper:_s,mark_label:us,active:ds,mark:ps,icon_ellipse:gs,icon_plus_circle:hs,btn_name:ws},Es=()=>{const a=E(nt),t=E(it),n=m.useMemo(()=>t.reduce((o,i)=>o+i.amount,0),[t]),r=m.useMemo(()=>Math.round(n/(a*1e3)*100),[n,a]),{isOpen:s,toggle:c}=pe();return e.createElement("section",{className:h.water_ratio_section},e.createElement("div",{className:h.top_section_wrapper},e.createElement("h3",{className:h.section_title},"Today"),e.createElement("div",{className:h.progress_bar_wrapper},e.createElement("div",{className:h.progress_bar},e.createElement("div",{className:h.progress,style:{width:`${r}%`}})),e.createElement("div",{className:h.circle,style:{left:`${Math.min(r,98)}%`}})),e.createElement("div",{className:h.marks_wrapper},e.createElement("div",{className:h.mark}),e.createElement("div",{className:h.mark}),e.createElement("div",{className:h.mark})),e.createElement("div",{className:h.marks_label_wrapper},e.createElement("div",{className:`${h.mark_label} ${r>=0&&r<50?h.active:""}`},"0%"),e.createElement("div",{className:`${h.mark_label} ${r>=50&&r<100?h.active:""}`},"50%"),e.createElement("div",{className:`${h.mark_label} ${r>=100?h.active:""}`},"100%"))),e.createElement("div",{className:h.bottom_section_wrapper},e.createElement(ce,{type:"button",className:"add",onClick:c},e.createElement(Nt,{className:h.icon_plus_circle}),e.createElement("p",{className:h.btn_name},"Add Water"))),s&&e.createElement(ge,{closeModal:c},e.createElement(Le,{type:"add",amount:0,date:new Date,closeModal:c})))},fs="_today_wrapper_18e80_1",vs="_bottle_wrapper_18e80_45",Ie={today_wrapper:fs,bottle_wrapper:vs},bs=le().shape({gender:k().required("Gender is required"),weight:re().required("Weight is required").positive("Weight must be positive").typeError("Weight must be a number"),activity:re().required("Activity time is required").min(0,"Activity time cannot be negative").typeError("Activity hours must be a number"),waterRate:re().min(0,"Planned water daily norma must be positive").typeError("Planned water daily norma must be a number").optional()}),Ns="_form_58nic_1",ys="_form_title_58nic_15",ks="_formula_wrapper_58nic_33",$s="_formula_58nic_33",Cs="_formula_explanation_58nic_65",Rs="_calculation_wrapper_58nic_83",Ls="_calculation_title_58nic_95",Ss="_gender_inputs_58nic_111",Ps="_gender_input_wrapper_58nic_121",Ws="_input_wrapper_58nic_133",qs="_input_gender_58nic_145",Ms="_label_58nic_175",Ts="_input_58nic_133",xs="_required_water_input_wrapper_58nic_201",Bs="_required_water_58nic_201",js="_btn_wrapper_58nic_249",Is="_accent_color_58nic_263",Fs="_validation_error_58nic_271",Ds="_input_error_58nic_285",Us="_validation_error_waterRate_58nic_295",As="_modalContent_58nic_307",Os="_rcs_inner_handle_58nic_339",_={form:Ns,form_title:ys,formula_wrapper:ks,formula:$s,formula_explanation:Cs,calculation_wrapper:Rs,calculation_title:Ls,gender_inputs:Ss,gender_input_wrapper:Ps,input_wrapper:Ws,input_gender:qs,label:Ms,input:Ts,required_water_input_wrapper:xs,required_water:Bs,btn_wrapper:js,accent_color:Is,validation_error:Fs,input_error:Ds,validation_error_waterRate:Us,modalContent:As,rcs_inner_handle:Os},Vs=({closeModal:a})=>{const t=T(),[n,r]=m.useState(0),[s,c]=m.useState(0),{register:o,handleSubmit:i,watch:l,formState:{errors:u}}=ie({resolver:ke(bs),defaultValues:{weight:0,activity:0,waterRate:0}}),p=m.useCallback(v=>{const{gender:V,weight:I,activity:G}=v;let R;return V==="women"?R=I*.03+G*.4:R=I*.04+G*.6,c(R.toFixed(1)),R.toFixed(1)},[]),d=v=>{r(v.target.value)},f=()=>{n>0?t(ye({waterRate:n})):t(ye({waterRate:s})),a()},w=l();return m.useEffect(()=>{w.gender&&w.weight>0&&w.activity>=0&&p(w)},[w]),e.createElement("div",{className:_.modalContent},e.createElement("h2",{className:_.form_title},"My daily norma"),e.createElement(Ve,{heightRelativeToParent:"calc(100% - 56px)",handleClass:_.rcs_inner_handle},e.createElement("form",{onSubmit:i(f),className:_.form},e.createElement("div",{className:_.formula_wrapper},e.createElement("div",{className:_.formula},e.createElement("p",null,"For girl:"," ",e.createElement("span",{className:_.accent_color},"V=(M*0,03) + (T*0,4)")),e.createElement("p",null,"For man:"," ",e.createElement("span",{className:_.accent_color},"V=(M*0,04) + (T*0,6)"))),e.createElement("p",{className:_.formula_explanation},e.createElement("span",{className:_.accent_color},"*")," V is the volume of the water norm in liters per day, M is your body weight, T is the time of active sports, or another type of activity commensurate in terms of loads (in the absence of these, you must set 0)")),e.createElement("div",{className:_.calculation_wrapper},e.createElement("div",null,e.createElement("h3",{className:_.calculation_title},"Calculate your rate:"),e.createElement("div",{className:_.gender_inputs},e.createElement("div",{className:_.gender_input_wrapper},e.createElement("input",{className:`${_.input_gender} ${u.gender&&_.input_error}`,id:"gender-girl",type:"radio",value:"women",...o("gender")}),e.createElement("label",{htmlFor:"gender-girl",className:_.label},"For girl")),e.createElement("div",{className:_.gender_input_wrapper},e.createElement("input",{className:`${_.input_gender} ${u.gender&&_.input_error}`,id:"gender-man",type:"radio",value:"man",...o("gender")}),e.createElement("label",{className:_.label,htmlFor:"gender-man"},"For man")))),u.gender&&e.createElement("p",{className:_.validation_error},u.gender.message),e.createElement("div",{className:_.input_wrapper},e.createElement("label",{htmlFor:"weight",className:_.label},"Your weight in kilograms:"),e.createElement("input",{className:`${_.input} ${u.weight&&_.input_error}`,id:"weight",type:"number",...o("weight")})),u.weight&&e.createElement("p",{className:_.validation_error},u.weight.message),e.createElement("div",{className:_.input_wrapper},e.createElement("label",{htmlFor:"activity",className:_.label},"The time of active participation in sports or other activities with a high physical. load in hours:"),e.createElement("input",{className:`${_.input} ${u.activity&&_.input_error}`,id:"activity",type:"nuber",...o("activity")}),u.activity&&e.createElement("p",{className:_.validation_error},u.activity.message)),e.createElement("div",{className:_.required_water_input_wrapper},e.createElement("label",{htmlFor:"requiredWater",className:_.label},"The required amount of water in liters per day:"),e.createElement("output",{id:"requiredWater",className:_.required_water},`${s||1.5} L`))),e.createElement("div",null,e.createElement("h3",{className:_.calculation_title},"Write down how much water you will drink:"),e.createElement("input",{className:`${_.input} ${u.waterRate&&_.input_error}`,id:"waterRate",type:"text",...o("waterRate"),onChange:d}),u.waterRate&&e.createElement("p",{className:_.validation_error_waterRate},u.waterRate.message)),e.createElement("div",{className:_.btn_wrapper},e.createElement(ce,{type:"submit",className:"blue"},"Save")))))},zs="_section_daily_norma_j3219_1",Hs="_section_title_j3219_27",Gs="_daily_norma_j3219_41",Ys="_btn_edit_j3219_55",Ks="_bottom_section_wrapper_j3219_69",Q={section_daily_norma:zs,section_title:Hs,daily_norma:Gs,btn_edit:Ys,bottom_section_wrapper:Ks},Qs=()=>{const a=E(nt),{isOpen:t,toggle:n}=pe();return e.createElement("section",{className:Q.section_daily_norma},e.createElement("h3",{className:Q.section_title},"My daily norma"),e.createElement("div",{className:Q.bottom_section_wrapper},e.createElement("p",{className:Q.daily_norma},a," L"),e.createElement("button",{className:Q.btn_edit,onClick:n},"Edit")),t&&e.createElement(ge,{closeModal:n},e.createElement(Vs,{closeModal:n})))},Js="_stats_list_fckd3_1",Xs="_date_fckd3_39",Zs="_stat_fckd3_1",ec="_accent_fckd3_59",j={stats_list:Js,date:Xs,stat:Zs,accent:ec},tc={firstColumn:[1,6,11,16,21,26,31],secondColumn:[2,7,12,17,22,27],thirdColumn:[3,8,13,18,23,28],fourthColumn:[4,9,14,19,24,29]},ac={firstColumn:[1,11,21,31],secondColumn:[2,12,22],thirdColumn:[3,13,23],fourthColumn:[4,14,24]},nc=m.forwardRef(({note:a,index:t},n)=>{const{date:r,waterRate:s,percent:c,consumptionCount:o}=a,i=(d,f)=>Object.keys(f).find(w=>f[w].includes(d)),u=m.useCallback(()=>{const d=window.innerWidth;return d<=767?i(t,tc):d>=768&&d<=1439?i(t,ac):null},[t])(),p=d=>{switch(d){case"firstColumn":return{right:"-241px"};case"secondColumn":return{right:"-183px"};case"thirdColumn":return{right:"-125px"};case"fourthColumn":return{right:"-67px"};default:return{}}};return e.createElement("ul",{className:j.stats_list,ref:n,style:p(u)},e.createElement("li",{className:j.date},r),e.createElement("li",{className:j.stat},"Daily norma: ",e.createElement("span",{className:j.accent},s)),e.createElement("li",{className:j.stat},"Fulfillment of the daily norm:"," ",e.createElement("span",{className:j.accent},c)),e.createElement("li",{className:j.stat},"How many servings of water:"," ",e.createElement("span",{className:j.accent},o)))}),rc="_calendar_item_1inpm_1",sc="_date_1inpm_17",cc="_orange_border_1inpm_49",oc="_percent_1inpm_57",ne={calendar_item:rc,date:sc,orange_border:cc,percent:oc},lc=({note:a,index:t})=>{const[n,r]=m.useState(!1),s=m.useRef(null),c=l=>{s.current&&!s.current.contains(l.target)&&r(!1)},o=l=>{l.key==="Escape"&&r(!1)};m.useEffect(()=>(n?(document.addEventListener("mousedown",c),document.addEventListener("keydown",o)):(document.removeEventListener("mousedown",c),document.removeEventListener("keydown",o)),()=>{document.removeEventListener("mousedown",c),document.removeEventListener("keydown",o)}),[n]);const i=l=>{s.current&&s.current.contains(l.target)||r(!n)};return e.createElement("li",{className:ne.calendar_item,onClick:i},e.createElement("p",{className:`${ne.date} ${parseInt(a.percent)<100?ne.orange_border:""}`},t+1),e.createElement("p",{className:ne.percent},a.percent),n&&e.createElement(nc,{note:a,index:t+1,ref:s}))},ic="_water_month_section_11wa2_1",mc="_section_title_11wa2_37",_c="_title_wrapper_11wa2_63",uc="_calendar_list_11wa2_75",dc="_pagination_11wa2_109",pc="_pagination_btn_11wa2_119",gc="_pagination_icon_11wa2_145",hc="_date_11wa2_157",C={water_month_section:ic,section_title:mc,title_wrapper:_c,calendar_list:uc,pagination:dc,pagination_btn:pc,pagination_icon:gc,date:hc},wc=()=>{const a=T(),t=E(Kn),n=m.useMemo(()=>new Date().getFullYear(),[]),r=m.useMemo(()=>new Date().getMonth(),[]),[s,c]=m.useState(n),[o,i]=m.useState(A[r]);m.useEffect(()=>{a(H({year:s,month:o}))},[a,s,o]);const l=m.useCallback(()=>{const d=new Date(s,A.indexOf(o)-1,1);c(d.getFullYear()),i(A[d.getMonth()])},[s,o]),u=m.useCallback(()=>{const d=new Date(s,A.indexOf(o)+1,1);c(d.getFullYear()),i(A[d.getMonth()])},[s,o]),p=m.useMemo(()=>{const d=new Date().getMonth();return s===n&&A.indexOf(o)>=d||s>n},[s,o,n]);return e.createElement("section",{className:C.water_month_section},e.createElement("div",{className:C.title_wrapper},e.createElement("h2",{className:C.section_title},"Month"),e.createElement("div",{className:C.pagination},e.createElement("button",{className:C.pagination_btn,onClick:l},e.createElement(yt,{className:C.pagination_icon})),e.createElement("p",{className:C.date},`${o.charAt(0).toUpperCase()}${o.slice(1)}`,", ",s),e.createElement("button",{className:C.pagination_btn,onClick:u,disabled:p},!p&&e.createElement(kt,{className:C.pagination_icon})))),e.createElement("ul",{className:C.calendar_list},t.map((d,f)=>e.createElement(lc,{key:f,note:d,index:f}))))},Ec=()=>{const a=T();return m.useEffect(()=>{a(Qe())},[a]),e.createElement(as,null,e.createElement("div",{className:Ie.bottle_wrapper},e.createElement(Qs,null),e.createElement(Es,null)),e.createElement("div",{className:Ie.today_wrapper},e.createElement(es,null),e.createElement(wc,null)))},fc=({children:a})=>{const t=ze();return E(de)?a:e.createElement(He,{state:{from:t},to:"/signin"})},Fe=({children:a})=>{var r;const t=ze();return E(de)?e.createElement(He,{to:((r=t.state)==null?void 0:r.from)||"/",replace:!0}):a},ut=oe({name:"loading",initialState:{loading:!1},selectors:{selectIsLoading:a=>a.loading,selectIsRefresh:a=>a.isRefresh},reducers:{},extraReducers:a=>{a.addMatcher(t=>t.type.endsWith("/pending"),t=>{t.loading=!0}).addMatcher(t=>t.type.endsWith("/rejected")||t.type.endsWith("/fulfilled"),t=>{t.loading=!1})}}),vc=ut.reducer,{selectIsLoading:bc,selectIsRefresh:Tc}=ut.selectors,Nc="_loaderWrapper_8mu9a_1",yc="_loader_8mu9a_1",kc="_spinner_8mu9a_1",$c="_loaderName_8mu9a_59",Ne={loaderWrapper:Nc,loader:yc,spinner:kc,loaderName:$c},De=()=>e.createElement("div",{className:Ne.loaderWrapper},e.createElement("div",{className:Ne.loader},e.createElement("span",{className:Ne.loaderName})));const Cc=()=>{const a=T(),t=E(wa),n=E(de);E(bc);const r=E(ha),s=_e();return m.useEffect(()=>{r&&a(se())},[a,r]),m.useEffect(()=>{n&&s("/home")},[n,s]),t?e.createElement(De,null):e.createElement(e.Fragment,null,e.createElement(m.Suspense,{fallback:e.createElement(De,null)},e.createElement($t,null,e.createElement(Y,{path:"/",element:e.createElement(rn,null)},e.createElement(Y,{index:!0,element:e.createElement(bn,null)}),e.createElement(Y,{path:"signup",element:e.createElement(Fe,null,e.createElement(zn,null))}),e.createElement(Y,{path:"signin",element:e.createElement(Fe,null,e.createElement(Hn,null))}),e.createElement(Y,{path:"home",element:e.createElement(fc,null,e.createElement(Ec,null))})))))},Rc=oe({name:"error",initialState:{error:null},extraReducers:a=>{a.addMatcher(t=>t.type.endsWith("/rejected"),(t,{payload:n})=>{t.error=n?n.message||n:"An error occurred",O.error(t.error)}).addMatcher(t=>t.type.endsWith("/pending"),t=>{t.error=null}).addMatcher(t=>t.type.endsWith("/fulfilled"),t=>{t.error=null})}}),Lc=Rc.reducer,Sc={key:"auth",version:1,storage:xt,whitelist:["token"]},dt=Ct({reducer:{auth:Rt(Sc,da),water:Yn,loading:vc,error:Lc},middleware:a=>a({serializableCheck:{ignoredActions:[Lt,St,Pt,Wt,qt,Mt]}}),devTools:!1}),Pc=Tt(dt);Bt.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(jt,null,e.createElement(It,{store:dt},e.createElement(Ft,{loading:null,persistor:Pc},e.createElement(Cc,null),e.createElement(Dt,{autoClose:1500}))))));
//# sourceMappingURL=commonHelpers.js.map
