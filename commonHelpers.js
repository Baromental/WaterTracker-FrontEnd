import{a as pt,c as y,R as e,r as i,b as oe,B as H,d as ce,e as $,f as De,u as B,g as f,h as le,i as ie,j as me,N as je,O as gt,L as Se,o as Ne,k as ht,I as wt,l as ne,m as _e,C as ye,F as Et,n as Ue,D as ft,p as bt,A as Ae,q as vt,G as Nt,s as yt,t as Oe,v as Ve,w as kt,x as K,y as $t,z as Ct,E as Rt,H as Lt,P as St,J as Pt,K as xt,M as Wt,Q as Mt,S as qt,T as Tt,U as Bt,V as zt,W as Ft,X as It}from"./assets/vendor-4da91298.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const v=pt.create({baseURL:"https://water-tracker-backend-oo69.onrender.com/api/"}),ke=a=>{v.defaults.headers.common.Authorization=`Bearer ${a}`},Dt=()=>{v.defaults.headers.common.Authorization=""},V=["january","february","march","april","may","june","july","august","september","october","november","december"],He=y("addWater",async(a,t)=>{try{const{data:n}=await v.post("water",a);return t.dispatch(Y()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ge=y("editWater",async(a,t)=>{const{amount:n,date:r,id:s}=a;try{const{data:o}=await v.patch(`water/${s}`,{amount:n,date:r});return t.dispatch(Y()),o}catch(o){return t.rejectWithValue(o.response.data.message)}}),Ye=y("deleteWater",async(a,t)=>{try{const{data:n}=await v.delete(`water/${a.id}`);return t.dispatch(Y()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ke=y("fetchWaterDataToday",async(a,t)=>{try{const{data:n}=await v.get("water/today");return n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Y=y("fetchWaterDataMonth",async({year:a=new Date().getFullYear(),month:t=V[new Date().getMonth()]}={},n)=>{try{const{data:r}=await v.get(`water/${a}/${t}`);return r}catch(r){return n.rejectWithValue(r.response.data.message)}}),Qe=y("register",async(a,t)=>{try{const{data:n}=await v.post("auth/register",a);return ke(n.token),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Je=y("login",async(a,t)=>{try{const{data:n}=await v.post("auth/login",a);return ke(n.token),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Xe=y("logout",async(a,t)=>{try{const{data:n}=await v.post("auth/logout");return Dt(),n}catch(n){return t.rejectWithValue(n.message)}}),re=y("refresh",async(a,t)=>{const n=t.getState().auth.token;if(!n)return t.rejectWithValue("Token is not exist!");try{ke(n);const{data:r}=await v.get("user/current");return r}catch(r){return t.rejectWithValue(r.message)}});y("getWaterRate",async(a,t)=>{try{const{data:n}=await v.get("user/current");return n}catch(n){return t.rejectWithValue(n.message)}});const Ze=y("updateUser",async(a,t)=>{try{const{data:n}=await v.patch("user/setting",a);return n}catch(n){return t.rejectWithValue(n.response.data.message)}}),et=y("updateAvatar",async(a,t)=>{try{return(await v.patch("user/avatars",a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){return t.rejectWithValue(n.response.data.message)}}),tt=y("updateWaterRate",async(a,t)=>{try{const{data:n}=await v.patch("user/waterRate",a);return t.dispatch(Y()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),jt="_overlay_1y9mq_1",Ut="_modal_1y9mq_13",At="_closeButton_1y9mq_25",we={overlay:jt,modal:Ut,closeButton:At},b="/assets/sprite-d6eb1314.svg",Ot="_label_2kbb3_1",Ee={label:Ot},Pe=({name:a,id:t,defaultChecked:n,value:r,label:s,register:o,onChange:c})=>e.createElement("div",{className:Ee.wrap},e.createElement("input",{id:t,className:Ee.input,...o(`${a}`),name:a,value:r,onChange:c,type:"radio",defaultChecked:n}),e.createElement("label",{htmlFor:t,className:Ee.label},s)),Vt="_wrap_v77s0_1",Ht="_label_v77s0_5",Gt="_input_v77s0_12",Yt="_error_v77s0_45",X={wrap:Vt,label:Ht,input:Gt,error:Yt},xe=({name:a,id:t,type:n,value:r,label:s,placeholder:o,register:c,onChange:l,error:m})=>e.createElement("div",{className:X.wrap},e.createElement("label",{htmlFor:t,className:X.label},s),e.createElement("input",{id:t,className:X.input,...c(`${a}`),name:a,type:n,value:r,placeholder:o,onChange:l,autoComplete:"off"}),m&&e.createElement("span",{className:X.error},m)),Kt="_wrap_1dtcq_1",Qt="_label_1dtcq_5",Jt="_wrapInput_1dtcq_12",Xt="_eye_1dtcq_17",Zt="_icon_1dtcq_24",ea="_input_1dtcq_30",ta="_error_1dtcq_62",z={wrap:Kt,label:Qt,wrapInput:Jt,eye:Xt,icon:Zt,input:ea,error:ta},fe=({name:a,id:t,value:n,label:r,placeholder:s,register:o,onChange:c,error:l})=>{const[m,p]=i.useState("password");return e.createElement("div",{className:z.wrap},e.createElement("label",{htmlFor:t,className:z.label},r),e.createElement("div",{className:z.wrapInput},e.createElement("div",{className:z.eye,onClick:()=>{p(m==="password"?"text":"password")}},m==="password"?e.createElement("svg",{className:z.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-crossed-eye`})):e.createElement("svg",{className:z.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-eye`}))),e.createElement("input",{id:t,className:z.input,...o(`${a}`),name:a,type:m,value:n,placeholder:s,onChange:c})),l&&e.createElement("span",{className:z.error},l))},aa="_wrap_m6qfe_1",na="_imageWrap_m6qfe_5",ra="_label_m6qfe_11",sa="_imagePreviewContainer_m6qfe_17",oa="_imagePreview_m6qfe_17",ca="_placeholder_m6qfe_31",la="_input_m6qfe_40",ia="_button_m6qfe_44",ma="_icon_m6qfe_56",P={wrap:aa,imageWrap:na,label:ra,imagePreviewContainer:sa,imagePreview:oa,placeholder:ca,input:la,button:ia,icon:ma},_a=({name:a,type:t,label:n,placeholder:r,src:s,register:o,onChange:c})=>{const[l,m]=i.useState(s),p=i.useRef(null),d=E=>{const N=E.target.files[0];if(N){const w=new FileReader;w.onloadend=()=>{m(w.result)},w.readAsDataURL(N)}c&&c(E)},u=()=>{p.current.click()};return e.createElement("div",{className:P.wrap},e.createElement("label",{className:P.label,htmlFor:a},n),e.createElement("div",{className:P.imageWrap},e.createElement("div",{className:P.imagePreviewContainer},l?e.createElement("img",{src:l,alt:"Preview",className:P.imagePreview}):e.createElement("div",{className:P.placeholder},r)),e.createElement("input",{id:a,className:P.input,name:a,type:t,onChange:d,ref:E=>{o(`${a}`),p.current=E}}),e.createElement("button",{type:"button",onClick:u,className:P.button},e.createElement("svg",{width:"16",height:"16",className:P.icon},e.createElement("use",{href:`${b}#icon-arrow-up`}))," ","Upload a photo")))},be={name:"",email:"",password:"",gender:"",waterRate:1.5,avatarURL:"",token:null,isLoggedIn:!1,isRefresh:!1},$e=oe({name:"auth",initialState:be,selectors:{selectName:a=>a.name,selectGender:a=>a.gender,selectEmail:a=>a.email,selectWaterRate:a=>a.waterRate,selectAvatarURL:a=>a.avatarURL,selectIsLoggedIn:a=>a.isLoggedIn,selectToken:a=>a.token,selectIsRefresh:a=>a.isRefresh},reducers:{logout:a=>be,setName:(a,t)=>{a.name=t.payload}},extraReducers:a=>{a.addCase(re.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isLoggedIn=!0,t.isRefresh=!1}).addCase(re.pending,(t,{payload:n})=>{t.isRefresh=!0}).addCase(re.rejected,(t,{payload:n})=>{t.isRefresh=!1}).addCase(Xe.fulfilled,t=>be).addCase(et.fulfilled,(t,{payload:n})=>{t.avatarURL=n.avatarURL,t.isRefresh=!1,H.success("The avatar has been downloaded successfully")}).addCase(Ze.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.isRefresh=!1,H.success("Data changed successfully")}).addCase(tt.fulfilled,(t,{payload:n})=>{t.waterRate=n.waterRate,H.success("Daily norma updated successfully")}).addCase(Qe.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isRefresh=!1,H.success("You have successfully registered")}).addCase(Je.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isLoggedIn=!0,t.isRefresh=!1,H.success(`Welcome, ${n.name||n.email}`)})}}),ua=$e.reducer,{selectName:at,selectGender:da,selectEmail:pa,selectWaterRate:Ce,selectAvatarURL:nt,selectIsLoggedIn:ue,selectToken:ga,selectIsRefresh:ha}=$e.selectors,{logout:wa,setName:xo}=$e.actions;ce().shape({name:$().max(32,"Must be less than 32 symbols"),email:$().required("Email is required").email("Email is not valid"),password:$().notRequired(),newPassword:$().when("password",{is:a=>a&&a.length>0,then:$().required("New Password is required").min(8,"Must be more than 8 symbols").max(64,"Must be less than 64 symbols")}),repeatNewPass:$().oneOf([De("newPassword"),null],"Passwords must match").when("newPassword",{is:a=>a&&a.length>0,then:$().required("Repeat new password is required")})});const Ea="_title_54rs2_1",fa="_form_54rs2_9",ba="_mainWrap_54rs2_22",va="_fieldsetGender_54rs2_34",Na="_wrapInfo_54rs2_42",ya="_fieldset_54rs2_34",ka="_legend_54rs2_55",$a="_button_54rs2_63",x={title:Ea,form:fa,mainWrap:ba,fieldsetGender:va,wrapInfo:Na,fieldset:ya,legend:ka,button:$a},Ca=()=>{var E,N,w,k,L;const a=B(),t=f(at),n=f(pa),r=f(da),s=f(nt),{register:o,handleSubmit:c,setValue:l,setError:m,formState:{errors:p}}=le({defaultValues:{name:t,email:n,gender:r||"woman"}});i.useEffect(()=>{l("name",t),l("email",n),l("gender",r)},[t,n,r,l]);const d=D=>{const{email:j,name:S,gender:dt,newPassword:U,password:ge,repeatNewPass:Le}=D;if(U&&ge===U){m("newPassword",{type:"manual",message:"New password cannot be the same as the current password."});return}if(U&&U!==Le){m("repeatNewPass",{type:"manual",message:"New password and repeat password do not match."});return}const he={email:j,name:S,gender:dt};ge&&U&&U===Le&&(he.password=ge,he.newPassword=U),a(Ze(he))},u=D=>{D.preventDefault();const j=D.target.files[0];if(j){const S=new FormData;S.append("avatarURL",j),a(et(S))}};return e.createElement(e.Fragment,null,e.createElement("h1",{className:x.title},"Setting"),e.createElement("form",{className:x.form,onSubmit:c(d)},e.createElement(_a,{name:"avatar",type:"file",label:"Your photo",placeholder:"Upload a photo",src:s,register:o,onChange:u}),e.createElement("div",{className:x.mainWrap},e.createElement("div",null,e.createElement("fieldset",{className:x.fieldsetGender},e.createElement("legend",{className:x.legend},"Your gender identity"),e.createElement(Pe,{id:"woman",name:"gender",value:"woman",label:"Woman",register:o,onChange:()=>l("gender","woman"),defaultChecked:"true"}),e.createElement(Pe,{id:"man",name:"gender",value:"man",label:"Man",register:o,onChange:()=>l("gender","man"),defaultChecked:"false"})),e.createElement("div",{className:x.wrapInfo},e.createElement(xe,{id:"name",name:"name",type:"text",label:"Your name",placeholder:"Enter your name",register:o,error:(E=p.name)==null?void 0:E.message}),e.createElement(xe,{id:"email",name:"email",type:"email",label:"E-mail",placeholder:"Enter your e-mail",register:o,error:(N=p.email)==null?void 0:N.message}))),e.createElement("fieldset",{className:x.fieldset},e.createElement("legend",{className:x.legend},"Password"),e.createElement(fe,{name:"password",label:"Outdated password:",placeholder:"Password",register:o,error:(w=p.password)==null?void 0:w.message}),e.createElement(fe,{name:"newPassword",label:"New Password:",placeholder:"Password",register:o,error:(k=p.newPassword)==null?void 0:k.message}),e.createElement(fe,{name:"repeatNewPass",label:"Repeat new password:",placeholder:"Password",register:o,error:(L=p.repeatNewPass)==null?void 0:L.message}))),e.createElement("button",{className:x.button},"Save")))},Ra=document.querySelector("#modal"),La=({onClose:a})=>{const t=i.useCallback(r=>{r.key==="Escape"&&a()},[a]);i.useEffect(()=>(document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}),[t]);const n=r=>{r.target===r.currentTarget&&a()};return ie.createPortal(e.createElement("div",{className:we.overlay,onClick:n},e.createElement("div",{className:we.modal},e.createElement("button",{className:we.closeButton,onClick:a},e.createElement("svg",{width:"24",height:"24"},e.createElement("use",{href:`${b}#icon-cross`}))),e.createElement(Ca,null))),Ra)},Sa="_overlay_14e6x_1",Pa="_modal_14e6x_12",xa="_header_14e6x_21",Wa="_title_14e6x_28",Ma="_paragraph_14e6x_35",qa="_closeButton_14e6x_42",Ta="_buttonContainer_14e6x_49",Ba="_cancelButton_14e6x_56",za="_logoutButton_14e6x_57",W={overlay:Sa,modal:Pa,header:xa,title:Wa,paragraph:Ma,closeButton:qa,buttonContainer:Ta,cancelButton:Ba,logoutButton:za},Fa=document.querySelector("#modal"),Ia=({onClose:a})=>{const t=me(),n=B(),r=()=>{n(Xe()),n(wa()),a(),t("/")},s=i.useCallback(c=>{c.key==="Escape"&&a()},[a]);i.useEffect(()=>(document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}),[s]);const o=c=>{c.target===c.currentTarget&&a()};return ie.createPortal(e.createElement("div",{className:W.overlay,onClick:o},e.createElement("div",{className:W.modal},e.createElement("div",{className:W.header},e.createElement("h2",{className:W.title},"Log out"),e.createElement("button",{className:W.closeButton,onClick:a},e.createElement("svg",{width:"24",height:"24"},e.createElement("use",{href:`${b}#icon-cross`})))),e.createElement("p",{className:W.paragraph},"Do you really want to leave?"),e.createElement("div",{className:W.buttonContainer},e.createElement("button",{className:W.cancelButton,onClick:a},"Cancel"),e.createElement("button",{className:W.logoutButton,onClick:r},"Log out")))),Fa)},Da="_modalWrapper_1djf7_1",ja="_menu_1djf7_12",Ua="_menuItem_1djf7_24",Aa="_icon_1djf7_43",Oa="_modalContent_1djf7_49",A={modalWrapper:Da,menu:ja,menuItem:Ua,icon:Aa,modalContent:Oa},Va=document.querySelector("#modal"),Ha=({closeModal:a,onSettingsClick:t,onLogoutClick:n})=>{const r=i.useCallback(o=>{o.key==="Escape"&&a()},[a]);i.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[r]);const s=o=>{o.target===o.currentTarget&&a()};return ie.createPortal(e.createElement("div",{onClick:s,className:A.modalWrapper},e.createElement("div",{className:A.modalContent},e.createElement("div",{className:A.menu},e.createElement("button",{className:A.menuItem,onClick:t},e.createElement("svg",{width:"16",height:"16",className:A.icon},e.createElement("use",{href:`${b}#icon-gear`})),"Setting"),e.createElement("button",{className:A.menuItem,onClick:n},e.createElement("svg",{width:"16",height:"16",className:A.icon},e.createElement("use",{href:`${b}#icon-exit`})),"Log out")))),Va)},Ga="_header_rg0g9_1",Ya="_logoLink_rg0g9_8",Ka="_userAuthButton_rg0g9_12",Qa="_userLogoButton_rg0g9_22",Ja="_userName_rg0g9_31",Xa="_userAvatar_rg0g9_37",Za="_iconUser_rg0g9_43",en="_iconDown_rg0g9_48",M={header:Ga,logoLink:Ya,userAuthButton:Ka,userLogoButton:Qa,userName:Ja,userAvatar:Xa,iconUser:Za,iconDown:en},tn="/assets/logo-694fc291.png",an=()=>{const[a,t]=i.useState(!1),[n,r]=i.useState(!1),[s,o]=i.useState(!1),c=f(ue),l=f(at),m=f(nt),p=me(),d=()=>{t(!0),o(!1)},u=()=>t(!1),E=()=>{r(!0),o(!1)},N=()=>r(!1),w=()=>o(!s),k=()=>{p(c?"/home":"/")},L=()=>{N()};return e.createElement("header",null,e.createElement("nav",{className:M.header},e.createElement("div",{className:M.logoLink,onClick:k},e.createElement("img",{src:tn,alt:"Logo",className:"logo"})),!c&&e.createElement(je,{to:"/signin",className:M.userAuthButton},"Sign In",e.createElement("svg",{width:"28",height:"28",className:M.iconUser},e.createElement("use",{href:`${b}#icon-user`}))),c&&e.createElement(e.Fragment,null,e.createElement("button",{className:M.userLogoButton,onClick:w},e.createElement("span",{className:M.userName},l),m?e.createElement("img",{src:m,alt:"User Avatar",className:M.userAvatar}):e.createElement("svg",{width:"28",height:"28",className:M.iconUser},e.createElement("use",{href:`${b}#icon-user`})),e.createElement("svg",{width:"16",height:"16",className:M.iconDown},e.createElement("use",{href:`${b}#icon-down`}))),s&&e.createElement(Ha,{closeModal:w,onSettingsClick:d,onLogoutClick:E}))),a&&e.createElement(La,{onClose:u}),n&&e.createElement(Ia,{onClose:N,onLogout:L}))},nn=()=>e.createElement("div",null,e.createElement(an,null),e.createElement(gt,null)),rn="_welcomePageBackground_mihq7_1",sn="_container_mihq7_11",We={welcomePageBackground:rn,container:sn},on=({children:a})=>e.createElement("section",{className:We.welcomePageBackground},e.createElement("div",{className:We.container},a)),cn="_welcomePageContainer_ozivr_1",ln="_title_ozivr_5",mn="_buttonContainer_ozivr_10",_n="_subtitle_ozivr_17",un="_listButtonTitle_ozivr_24",dn="_listButton_ozivr_24",pn="_itemListButton_ozivr_40",gn="_button_ozivr_10",hn="_listTitle_ozivr_76",wn="_list_ozivr_24",En="_itemList_ozivr_40",fn="_welcomePageSection_ozivr_115",g={welcomePageContainer:cn,title:ln,buttonContainer:mn,subtitle:_n,listButtonTitle:un,listButton:dn,itemListButton:pn,button:gn,listTitle:hn,list:wn,itemList:En,welcomePageSection:fn},bn=()=>e.createElement(on,null,e.createElement("div",{className:g.welcomePageSection},e.createElement("h1",{className:g.title},"Water consumption tracker"),e.createElement("div",{className:g.welcomePageContainer},e.createElement("div",{className:g.buttonContainer},e.createElement("h2",{className:g.subtitle},"Record daily water intake and track"),e.createElement("div",null,e.createElement("span",{className:g.listButtonTitle},"Tracker Benefits"),e.createElement("ul",{className:g.listButton},e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${b}#icon-calendar`})),"Habit drive"),e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${b}#icon-analytics`})),"View statistics"),e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${b}#icon-screw`})),"Personal rate setting"))),e.createElement(je,{to:"/signup",className:g.button},"Try tracker")),e.createElement("div",{className:g.listContainer},e.createElement("ul",{className:g.list},e.createElement("span",{className:g.listTitle},"Why drink water"),e.createElement("li",{className:g.itemList},"Supply of nutrients to all organs"),e.createElement("li",{className:g.itemList},"Providing oxygen to the lungs"),e.createElement("li",{className:g.itemList},"Maintaining the work of the heart"),e.createElement("li",{className:g.itemList},"Release of processed substances"),e.createElement("li",{className:g.itemList},"Ensuring the stability of the internal environment"),e.createElement("li",{className:g.itemList},"Maintaining within the normal temperature"),e.createElement("li",{className:g.itemList},"Maintaining an immune system capable of resisting disease")))))),vn="_wrap_138i9_1",Nn="_label_138i9_5",yn="_wrapInput_138i9_12",kn="_eye_138i9_17",$n="_icon_138i9_24",Cn="_input_138i9_30",Rn="_error_138i9_54",F={wrap:vn,label:Nn,wrapInput:yn,eye:kn,icon:$n,input:Cn,error:Rn},Me=({name:a,id:t,value:n,label:r,placeholder:s,register:o,onChange:c,error:l})=>{const[m,p]=i.useState("password");return e.createElement("div",{className:F.wrap},e.createElement("label",{htmlFor:t,className:F.label},r),e.createElement("div",{className:F.wrapInput},e.createElement("div",{className:F.eye,onClick:()=>{p(m==="password"?"text":"password")}},m==="password"?e.createElement("svg",{className:F.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-crossed-eye`})):e.createElement("svg",{className:F.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-eye`}))),e.createElement("input",{id:t,className:F.input,...o(`${a}`),name:a,type:m,value:n,placeholder:s,onChange:c})),l&&e.createElement("span",{className:F.error},l))},Ln="_wrap_um6jj_1",Sn="_label_um6jj_5",Pn="_input_um6jj_12",xn="_error_um6jj_44",Z={wrap:Ln,label:Sn,input:Pn,error:xn},Wn=({name:a,id:t,type:n,value:r,label:s,placeholder:o,register:c,onChange:l,error:m})=>e.createElement("div",{className:Z.wrap},e.createElement("label",{htmlFor:t,className:Z.label},s),e.createElement("input",{id:t,className:Z.input,...c(`${a}`),name:a,type:n,value:r,placeholder:o,onChange:l,autoComplete:"off"}),m&&e.createElement("span",{className:Z.error},m)),Mn="_mainWrap_1sizx_1",qn="_title_1sizx_7",Tn="_form_1sizx_14",Bn="_wrap_1sizx_18",zn="_label_1sizx_22",Fn="_input_1sizx_29",In="_error_1sizx_53",Dn="_button_1sizx_58",jn="_link_1sizx_85",G={mainWrap:Mn,title:qn,form:Tn,wrap:Bn,label:zn,input:Fn,error:In,button:Dn,link:jn},rt=({formType:a,onSubmit:t,schema:n})=>{var m,p,d;const{register:r,handleSubmit:s,formState:{errors:o}}=le({resolver:Ne(n)}),c=me(),l=u=>{const{repeatPassword:E,...N}=u;t(N).then(w=>{w.error||c(a==="register"?"/signin":"/home")}).catch(w=>{H.error("Submission error:",w)})};return e.createElement("div",{className:G.mainWrap},e.createElement("h1",{className:G.title},a==="register"?"Sign Up":"Sign In"),e.createElement("form",{className:G.form,onSubmit:s(l)},e.createElement(Wn,{id:"email",name:"email",type:"email",label:"Enter your email",placeholder:"E-mail",register:r,error:(m=o.email)==null?void 0:m.message}),e.createElement(Me,{id:"password",name:"password",label:"Enter your password",placeholder:"Password",register:r,error:(p=o.password)==null?void 0:p.message}),a==="register"&&e.createElement(Me,{id:"repeatPassword",name:"repeatPassword",label:"Repeat password",placeholder:"Repeat password",register:r,error:(d=o.repeatPassword)==null?void 0:d.message}),e.createElement("button",{className:G.button},a==="register"?"Sign Up":"Sign In"),a==="register"?e.createElement(Se,{to:"/signin",className:G.link},"Sign in"):e.createElement(Se,{to:"/signup",className:G.link},"Sign up")))},Un="_section_1xlru_1",An="_container_1xlru_5",qe={section:Un,container:An},st=({children:a})=>e.createElement("section",{className:qe.section},e.createElement("div",{className:qe.container},a)),ot=ce({email:$().required().email("Email is not valid"),password:$().required().min(8,"Must be more then 8 symbols").max(64,"Must be less then 64 symbols"),repeatPassword:$().oneOf([De("password"),null],"Passwords must match")}).required(),On=()=>{const a=B(),t=async n=>{try{return{error:null,response:await a(Qe(n)).unwrap()}}catch(r){return{error:r}}};return e.createElement(st,null,e.createElement(rt,{onSubmit:t,formType:"register",schema:ot}))},Vn=()=>{const a=B(),t=async n=>{try{return{error:null,response:await a(Je(n)).unwrap()}}catch(r){return{error:r}}};return e.createElement(st,null,e.createElement(rt,{onSubmit:t,formType:"login",schema:ot}))},Hn={percent:0,notes:[],notesPerMonth:[]},ct=oe({name:"water",initialState:Hn,selectors:{selectNotes:a=>a.notes,selectPercent:a=>a.percent,selectNotesPerMonth:a=>a.notesPerMonth},extraReducers:a=>{a.addCase(He.fulfilled,(t,{payload:n})=>{t.notes.push(n)}).addCase(Ge.fulfilled,(t,{payload:n})=>{const r=t.notes.findIndex(s=>s._id===n._id);t.notes.splice(r,1,n)}).addCase(Ye.fulfilled,(t,{payload:n})=>{t.notes=t.notes.filter(r=>r._id!==n._id)}).addCase(Ke.fulfilled,(t,{payload:n})=>{t.notes=n.result,t.percent=n.percent}).addCase(Y.fulfilled,(t,{payload:n})=>{t.notesPerMonth=n})}}),Gn=ct.reducer,{selectNotes:lt,selectPercent:Wo,selectNotesPerMonth:Yn}=ct.selectors,de=()=>{const[a,t]=i.useState(!1);return{isOpen:a,close:()=>t(!1),open:()=>t(!0),toggle:()=>t(o=>!o)}},it=a=>ht(new Date(a)).format("HH:mm A"),Kn="_backdrop_2khdm_1",Qn="_modal_2khdm_11",Jn="_btn_close_2khdm_28",Xn="_icon_close_2khdm_39",ee={backdrop:Kn,modal:Qn,btn_close:Jn,icon_close:Xn},Zn=document.querySelector("#modal"),pe=({closeModal:a,children:t})=>{const n=i.useCallback(s=>{s.key==="Escape"&&a()},[a]);i.useEffect(()=>(document.body.style.overflow="hidden",document.addEventListener("keydown",n),()=>{document.body.style.overflow="",document.removeEventListener("keydown",n)}),[a,n]);const r=s=>{s.target===s.currentTarget&&a()};return ie.createPortal(e.createElement("div",{onClick:r,className:ee.backdrop},e.createElement("div",{className:ee.modal},e.createElement("button",{onClick:a,className:ee.btn_close},e.createElement(wt,{className:ee.icon_close})),t)),Zn)},er=ce().shape({amount:ne().required("Amount is required").min(1,"Minimum amount is 1").max(5e3,"Maximum amount is 5000").typeError("Please enter a valid number"),date:$().required("Date is required")}),tr="_btn_1ejif_1",ar="_blue_1ejif_28",nr="_red_1ejif_32",rr="_cancel_1ejif_36",sr="_add_1ejif_52",Te={btn:tr,blue:ar,red:nr,cancel:rr,add:sr},se=({children:a,type:t,className:n,onClick:r})=>e.createElement("button",{type:t,className:`${Te.btn} ${Te[n]}`,onClick:r},a),or="_amount_trcfk_1",cr={amount:or},lr=()=>{const{watch:a}=_e(),t=a("amount");return e.createElement("p",{className:cr.amount},t||0,"ml")},ir="_wrapper_v3ipt_1",mr="_label_v3ipt_7",_r="_input_wrapper_v3ipt_12",ur="_input_container_v3ipt_18",dr="_input_v3ipt_12",pr="_btn_v3ipt_42",gr="_icon_v3ipt_55",q={wrapper:ir,label:mr,input_wrapper:_r,input_container:ur,input:dr,btn:pr,icon:gr},hr=()=>{const{control:a}=_e();return e.createElement(ye,{name:"amount",control:a,render:({field:t})=>e.createElement("div",{className:q.wrapper},e.createElement("label",{htmlFor:"amount-water",className:q.label},"Amount of water:"),e.createElement("div",{className:q.input_wrapper},e.createElement("button",{className:q.btn,type:"button",onClick:()=>t.onChange(Math.max(t.value-50,0))},e.createElement(Et,{className:q.icon})),e.createElement("div",{className:q.input_container},e.createElement("div",{className:q.input,id:"amount-water"},t.value||0,"ml")),e.createElement("button",{className:q.btn,type:"button",onClick:()=>t.onChange(Math.min(t.value+50,5e3))},e.createElement(Ue,{className:q.icon}))))})},wr="_wrapper_ss3x8_1",Er="_label_ss3x8_7",fr="_datepicker_ss3x8_12",br="_wrapper_datepicker_ss3x8_22",vr="_error_ss3x8_26",Q={wrapper:wr,label:Er,datepicker:fr,wrapper_datepicker:br,error:vr};const Nr=({className:a})=>{const{control:t}=_e();return e.createElement(ye,{name:"date",control:t,render:({field:n})=>e.createElement("div",{className:Q.wrapper},e.createElement("label",{htmlFor:"time",className:Q.label},"Recording time:"),e.createElement(ft,{id:"time",selected:n.value,onChange:r=>{n.onChange(r)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:5,timeCaption:"Time",dateFormat:"H:mm aa",className:`${Q.datepicker} ${Q[a]}`,wrapperClassName:Q.wrapper_datepicker}))})},yr="_wrapper_1lswm_1",kr="_label_1lswm_7",$r="_input_1lswm_14",Cr="_error_1lswm_24",te={wrapper:yr,label:kr,input:$r,error:Cr},Rr=({className:a})=>{const{control:t}=_e();return e.createElement(ye,{name:"amount",control:t,render:({field:n})=>e.createElement("div",{className:te.wrapper},e.createElement("label",{htmlFor:"water-value",className:te.label},"Enter the value of the water used:"),e.createElement("input",{className:`${te.input} ${te[a]}`,id:"water-value",type:"number",value:n.value,onChange:r=>{const s=r.target.value;s<=5e3&&s>=0&&n.onChange(s)},min:0,max:5e3}))})},mt="/assets/glass-e3b976c0.svg",Lr="_form_title_93i33_1",Sr="_text_under_title_93i33_9",Pr="_inputs_wrapper_93i33_17",xr="_btn_wrapper_93i33_23",Wr="_error_message_93i33_37",Mr="_ml_93i33_43",qr="_time_93i33_49",Tr="_edit_data_93i33_55",C={form_title:Lr,text_under_title:Sr,inputs_wrapper:Pr,btn_wrapper:xr,error_message:Wr,ml:Mr,time:qr,edit_data:Tr},Re=({type:a,amount:t,date:n,id:r,closeModal:s})=>{const o=B(),c=le({defaultValues:{amount:t,date:n},resolver:Ne(er)}),{formState:{errors:l}}=c,m=u=>{switch(u.date=u.date.toString(),a){case"edit":o(Ge({...u,id:r}));break;case"add":o(He(u));break;case"delete":o(Ye({...u,id:r}));break}s()},p=u=>{switch(u){case"edit":return"Edit the entered amount of water";case"add":return"Add water";case"delete":return"Delete entry"}},d=u=>{switch(u){case"edit":return"Correct entered data:";case"add":return"Choose a value:";case"delete":return"Are you sure you want to delete the entry?"}};return e.createElement(bt,{...c},e.createElement("form",{onSubmit:c.handleSubmit(m)},e.createElement("h2",{className:C.form_title},p(a)),a==="edit"&&e.createElement("div",{className:C.edit_data},e.createElement("img",{src:mt,alt:"glass"}),e.createElement("p",{className:C.ml},t,"ml"),e.createElement("p",{className:C.time},it(n))),e.createElement("p",{className:C.text_under_title},d(a)),a!=="delete"&&e.createElement("div",{className:C.inputs_wrapper},e.createElement(hr,null),l.amount&&e.createElement("p",{className:C.error_message},l.amount.message),e.createElement(Nr,{className:l.date?"error":""}),l.date&&e.createElement("p",{className:C.error_message},l.date.message),e.createElement(Rr,{className:l.amount?"error":""}),l.amount&&e.createElement("p",{className:C.error_message},l.amount.message)),e.createElement("div",{className:C.btn_wrapper},a!=="delete"&&e.createElement(lr,null),a==="delete"&&e.createElement(se,{type:"button",className:"cancel",onClick:s},"Cancel"),e.createElement(se,{type:"submit",className:a==="delete"?"red":"blue"},a==="delete"?"Delete":"Save"))))},Br="_list_item_fgqzy_1",zr="_wrapper_align_left_fgqzy_8",Fr="_wrapper_align_right_fgqzy_15",Ir="_ml_fgqzy_22",Dr="_time_fgqzy_28",jr="_icon_pen_wrapper_fgqzy_34",Ur="_icon_trash_wrapper_fgqzy_46",Ar="_icon_pen_fgqzy_34",Or="_icon_trash_fgqzy_46",T={list_item:Br,wrapper_align_left:zr,wrapper_align_right:Fr,ml:Ir,time:Dr,icon_pen_wrapper:jr,icon_trash_wrapper:Ur,icon_pen:Ar,icon_trash:Or},Vr=({note:a})=>{const{isOpen:t,toggle:n}=de(),{amount:r,date:s,_id:o}=a,[c,l]=i.useState(null),m=p=>{l(p),n()};return e.createElement("li",{className:T.list_item},e.createElement("div",{className:T.wrapper_align_left},e.createElement("img",{src:mt,alt:"glass"}),e.createElement("p",{className:T.ml},r," ml"),e.createElement("p",{className:T.time},it(s))),e.createElement("div",{className:T.wrapper_align_right},e.createElement("button",{className:T.icon_pen_wrapper,onClick:()=>m("edit")},e.createElement("svg",{className:T.icon_pen},e.createElement("use",{xlinkHref:`${b}#icon-pen`}))),e.createElement("button",{className:T.icon_trash_wrapper,onClick:()=>m("delete")},e.createElement("svg",{className:T.icon_trash},e.createElement("use",{xlinkHref:`${b}#icon-trash`})))),t&&e.createElement(pe,{closeModal:n},e.createElement(Re,{type:c,id:o,amount:r,date:new Date(s),closeModal:n})))},Hr="_today_section_hjip9_1",Gr="_section_title_hjip9_17",Yr="_list_hjip9_30",Kr="_custom_scroll_container_hjip9_44",Qr="_icon_plus_hjip9_68",Jr="_add_btn_hjip9_82",Xr="_rcs_inner_handle_hjip9_104",O={today_section:Hr,section_title:Gr,list:Yr,custom_scroll_container:Kr,icon_plus:Qr,add_btn:Jr,rcs_inner_handle:Xr},Zr=()=>{const{isOpen:a,toggle:t}=de(),n=f(lt);return e.createElement("section",{className:O.today_section},e.createElement("h2",{className:O.section_title},"Today"),e.createElement("div",{className:O.custom_scroll_container},e.createElement(Ae,{heightRelativeToParent:"100%",handleClass:O.rcs_inner_handle},n.length>0&&e.createElement("ul",{className:O.list},n.map(r=>e.createElement(Vr,{key:r._id,note:r}))))),e.createElement("button",{className:O.add_btn,onClick:t},e.createElement(Ue,{className:O.icon_plus}),"Add water"),a&&e.createElement(pe,{closeModal:t},e.createElement(Re,{type:"add",amount:0,date:new Date,closeModal:t})))},es="_container_19iq0_1",Be={container:es},ts=({children:a})=>e.createElement("section",{className:Be.section},e.createElement("div",{className:Be.container},a)),as="_water_ratio_section_8o65w_1",ns="_section_title_8o65w_19",rs="_top_section_wrapper_8o65w_26",ss="_progress_bar_wrapper_8o65w_36",os="_progress_bar_8o65w_36",cs="_progress_8o65w_36",ls="_circle_8o65w_70",is="_marks_wrapper_8o65w_82",ms="_marks_label_wrapper_8o65w_97",_s="_mark_label_8o65w_104",us="_active_8o65w_111",ds="_mark_8o65w_82",ps="_icon_ellipse_8o65w_123",gs="_icon_plus_circle_8o65w_128",hs="_btn_name_8o65w_137",h={water_ratio_section:as,section_title:ns,top_section_wrapper:rs,progress_bar_wrapper:ss,progress_bar:os,progress:cs,circle:ls,marks_wrapper:is,marks_label_wrapper:ms,mark_label:_s,active:us,mark:ds,icon_ellipse:ps,icon_plus_circle:gs,btn_name:hs},ws=()=>{const a=f(Ce),t=f(lt),n=i.useMemo(()=>t.reduce((c,l)=>c+l.amount,0),[t]),r=i.useMemo(()=>Math.round(n/(a*1e3)*100),[n,a]),{isOpen:s,toggle:o}=de();return e.createElement("section",{className:h.water_ratio_section},e.createElement("div",{className:h.top_section_wrapper},e.createElement("h3",{className:h.section_title},"Today"),e.createElement("div",{className:h.progress_bar_wrapper},e.createElement("div",{className:h.progress_bar},e.createElement("div",{className:h.progress,style:{width:`${r}%`}})),e.createElement("div",{className:h.circle,style:{left:`${Math.min(r,98)}%`}})),e.createElement("div",{className:h.marks_wrapper},e.createElement("div",{className:h.mark}),e.createElement("div",{className:h.mark}),e.createElement("div",{className:h.mark})),e.createElement("div",{className:h.marks_label_wrapper},e.createElement("div",{className:`${h.mark_label} ${r>=0&&r<50?h.active:""}`},"0%"),e.createElement("div",{className:`${h.mark_label} ${r>=50&&r<100?h.active:""}`},"50%"),e.createElement("div",{className:`${h.mark_label} ${r>=100?h.active:""}`},"100%"))),e.createElement("div",{className:h.bottom_section_wrapper},e.createElement(se,{type:"button",className:"add",onClick:o},e.createElement(vt,{className:h.icon_plus_circle}),e.createElement("p",{className:h.btn_name},"Add Water"))),s&&e.createElement(pe,{closeModal:o},e.createElement(Re,{type:"add",amount:0,date:new Date,closeModal:o})))},Es="_today_wrapper_13r1n_1",fs="_bottle_wrapper_13r1n_23",ze={today_wrapper:Es,bottle_wrapper:fs},bs=ce().shape({gender:$().nullable(),weight:ne().optional().min(0,"Weight cannot be negative").typeError("Weight must be a number"),activity:ne().optional().min(0,"Activity time cannot be negative").typeError("Activity hours must be a number"),waterRate:ne().min(0,"Planned water daily norma must be positive").max(15,"Planned daily water norm must be a maximum of 15 L").typeError("Planned water daily norma must be a number").optional()}),vs="_form_1z00a_1",Ns="_form_title_1z00a_8",ys="_formula_wrapper_1z00a_17",ks="_formula_1z00a_17",$s="_formula_explanation_1z00a_33",Cs="_calculation_wrapper_1z00a_42",Rs="_calculation_title_1z00a_48",Ls="_gender_inputs_1z00a_56",Ss="_gender_input_wrapper_1z00a_61",Ps="_input_wrapper_1z00a_67",xs="_input_gender_1z00a_73",Ws="_label_1z00a_88",Ms="_input_1z00a_67",qs="_required_water_input_wrapper_1z00a_101",Ts="_required_water_1z00a_101",Bs="_btn_wrapper_1z00a_125",zs="_accent_color_1z00a_132",Fs="_validation_error_1z00a_136",Is="_input_error_1z00a_143",Ds="_validation_error_waterRate_1z00a_148",js="_modalContent_1z00a_154",Us="_rcs_inner_handle_1z00a_170",_={form:vs,form_title:Ns,formula_wrapper:ys,formula:ks,formula_explanation:$s,calculation_wrapper:Cs,calculation_title:Rs,gender_inputs:Ls,gender_input_wrapper:Ss,input_wrapper:Ps,input_gender:xs,label:Ws,input:Ms,required_water_input_wrapper:qs,required_water:Ts,btn_wrapper:Bs,accent_color:zs,validation_error:Fs,input_error:Is,validation_error_waterRate:Ds,modalContent:js,rcs_inner_handle:Us},As=({closeModal:a})=>{const t=B(),n=f(Ce),[r,s]=i.useState(n||1.5),[o,c]=i.useState(0),{register:l,handleSubmit:m,watch:p,formState:{errors:d}}=le({resolver:Ne(bs),defaultValues:{weight:0,activity:0,waterRate:r}}),u=i.useCallback(k=>{const{gender:L,weight:D,activity:j}=k;let S;return L==="women"?S=D*.03+j*.4:S=D*.04+j*.6,c(S.toFixed(1)),S.toFixed(1)},[]),E=k=>{s(k.target.value)},N=k=>{const L=o>0?o:r;if(k.weight===0&&k.activity===0&&k.waterRate===n&&L===n){a();return}t(tt({waterRate:L})),a()},w=p();return i.useEffect(()=>{w.gender&&w.weight>0&&w.activity>=0&&u(w)},[w]),e.createElement("div",{className:_.modalContent},e.createElement("h2",{className:_.form_title},"My daily norma"),e.createElement(Ae,{heightRelativeToParent:"calc(100% - 56px)",handleClass:_.rcs_inner_handle},e.createElement("form",{onSubmit:m(N),className:_.form},e.createElement("div",{className:_.formula_wrapper},e.createElement("div",{className:_.formula},e.createElement("p",null,"For girl:"," ",e.createElement("span",{className:_.accent_color},"V=(M*0,03) + (T*0,4)")),e.createElement("p",null,"For man:"," ",e.createElement("span",{className:_.accent_color},"V=(M*0,04) + (T*0,6)"))),e.createElement("p",{className:_.formula_explanation},e.createElement("span",{className:_.accent_color},"*")," V is the volume of the water norm in liters per day, M is your body weight, T is the time of active sports, or another type of activity commensurate in terms of loads (in the absence of these, you must set 0)")),e.createElement("div",{className:_.calculation_wrapper},e.createElement("div",null,e.createElement("h3",{className:_.calculation_title},"Calculate your rate:"),e.createElement("div",{className:_.gender_inputs},e.createElement("div",{className:_.gender_input_wrapper},e.createElement("input",{className:`${_.input_gender} ${d.gender&&_.input_error}`,id:"gender-girl",type:"radio",value:"women",...l("gender")}),e.createElement("label",{htmlFor:"gender-girl",className:_.label},"For girl")),e.createElement("div",{className:_.gender_input_wrapper},e.createElement("input",{className:`${_.input_gender} ${d.gender&&_.input_error}`,id:"gender-man",type:"radio",value:"man",...l("gender")}),e.createElement("label",{className:_.label,htmlFor:"gender-man"},"For man")))),d.gender&&e.createElement("p",{className:_.validation_error},d.gender.message),e.createElement("div",{className:_.input_wrapper},e.createElement("label",{htmlFor:"weight",className:_.label},"Your weight in kilograms:"),e.createElement("input",{className:`${_.input} ${d.weight&&_.input_error}`,id:"weight",type:"number",...l("weight")})),d.weight&&e.createElement("p",{className:_.validation_error},d.weight.message),e.createElement("div",{className:_.input_wrapper},e.createElement("label",{htmlFor:"activity",className:_.label},"The time of active participation in sports or other activities with a high physical. load in hours:"),e.createElement("input",{className:`${_.input} ${d.activity&&_.input_error}`,id:"activity",type:"nuber",...l("activity")}),d.activity&&e.createElement("p",{className:_.validation_error},d.activity.message)),e.createElement("div",{className:_.required_water_input_wrapper},e.createElement("label",{htmlFor:"requiredWater",className:_.label},"The required amount of water in liters per day:"),e.createElement("output",{id:"requiredWater",className:_.required_water},`${o||0} L`))),e.createElement("div",null,e.createElement("h3",{className:_.calculation_title},"Write down how much water you will drink:"),e.createElement("input",{className:`${_.input} ${d.waterRate&&_.input_error}`,id:"waterRate",type:"text",...l("waterRate"),onChange:E}),d.waterRate&&e.createElement("p",{className:_.validation_error_waterRate},d.waterRate.message)),e.createElement("div",{className:_.btn_wrapper},e.createElement(se,{type:"submit",className:"blue"},"Save")))))},Os="_section_daily_norma_i0gom_1",Vs="_section_title_i0gom_14",Hs="_daily_norma_i0gom_21",Gs="_btn_edit_i0gom_28",Ys="_bottom_section_wrapper_i0gom_35",J={section_daily_norma:Os,section_title:Vs,daily_norma:Hs,btn_edit:Gs,bottom_section_wrapper:Ys},Ks=()=>{const a=f(Ce),{isOpen:t,toggle:n}=de();return e.createElement("section",{className:J.section_daily_norma},e.createElement("h3",{className:J.section_title},"My daily norma"),e.createElement("div",{className:J.bottom_section_wrapper},e.createElement("p",{className:J.daily_norma},a," L"),e.createElement("button",{className:J.btn_edit,onClick:n},"Edit")),t&&e.createElement(pe,{closeModal:n},e.createElement(As,{closeModal:n})))},Qs="_stats_list_10uo6_1",Js="_date_10uo6_20",Xs="_stat_10uo6_1",Zs="_accent_10uo6_30",I={stats_list:Qs,date:Js,stat:Xs,accent:Zs},eo={firstColumn:[1,6,11,16,21,26,31],secondColumn:[2,7,12,17,22,27],thirdColumn:[3,8,13,18,23,28],fourthColumn:[4,9,14,19,24,29]},to={firstColumn:[1,11,21,31],secondColumn:[2,12,22],thirdColumn:[3,13,23],fourthColumn:[4,14,24]},ao=i.forwardRef(({note:a,index:t},n)=>{const{date:r,waterRate:s,percent:o,consumptionCount:c}=a,l=(u,E)=>Object.keys(E).find(N=>E[N].includes(u)),p=i.useCallback(()=>{const u=window.innerWidth;return u<=767?l(t,eo):u>=768&&u<=1439?l(t,to):null},[t])(),d=u=>{switch(u){case"firstColumn":return{right:"-241px"};case"secondColumn":return{right:"-183px"};case"thirdColumn":return{right:"-125px"};case"fourthColumn":return{right:"-67px"};default:return{}}};return e.createElement("ul",{className:I.stats_list,ref:n,style:d(p)},e.createElement("li",{className:I.date},r),e.createElement("li",{className:I.stat},"Daily norma: ",e.createElement("span",{className:I.accent},s)),e.createElement("li",{className:I.stat},"Fulfillment of the daily norm:"," ",e.createElement("span",{className:I.accent},o)),e.createElement("li",{className:I.stat},"How many servings of water:"," ",e.createElement("span",{className:I.accent},c)))}),no="_calendar_item_1dtmd_1",ro="_date_1dtmd_9",so="_orange_border_1dtmd_25",oo="_percent_1dtmd_29",ae={calendar_item:no,date:ro,orange_border:so,percent:oo},co=({note:a,index:t})=>{const[n,r]=i.useState(!1),s=i.useRef(null),o=m=>{s.current&&!s.current.contains(m.target)&&r(!1)},c=m=>{m.key==="Escape"&&r(!1)};i.useEffect(()=>(n?(document.addEventListener("mousedown",o),document.addEventListener("keydown",c)):(document.removeEventListener("mousedown",o),document.removeEventListener("keydown",c)),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("keydown",c)}),[n]);const l=m=>{s.current&&s.current.contains(m.target)||r(!n)};return e.createElement("li",{className:ae.calendar_item,onClick:l},e.createElement("p",{className:`${ae.date} ${parseInt(a.percent)<100?ae.orange_border:""}`},t+1),e.createElement("p",{className:ae.percent},a.percent),n&&e.createElement(ao,{note:a,index:t+1,ref:s}))},lo="_water_month_section_1xayk_1",io="_section_title_1xayk_19",mo="_title_wrapper_1xayk_32",_o="_calendar_list_1xayk_38",uo="_pagination_1xayk_55",po="_pagination_btn_1xayk_60",go="_pagination_icon_1xayk_73",ho="_date_1xayk_79",R={water_month_section:lo,section_title:io,title_wrapper:mo,calendar_list:_o,pagination:uo,pagination_btn:po,pagination_icon:go,date:ho},wo=()=>{const a=B(),t=f(Yn),n=i.useMemo(()=>new Date().getFullYear(),[]),r=i.useMemo(()=>new Date().getMonth(),[]),[s,o]=i.useState(n),[c,l]=i.useState(V[r]);i.useEffect(()=>{a(Y({year:s,month:c}))},[a,s,c]);const m=i.useCallback(()=>{const u=new Date(s,V.indexOf(c)-1,1);o(u.getFullYear()),l(V[u.getMonth()])},[s,c]),p=i.useCallback(()=>{const u=new Date(s,V.indexOf(c)+1,1);o(u.getFullYear()),l(V[u.getMonth()])},[s,c]),d=i.useMemo(()=>{const u=new Date().getMonth();return s===n&&V.indexOf(c)>=u||s>n},[s,c,n]);return e.createElement("section",{className:R.water_month_section},e.createElement("div",{className:R.title_wrapper},e.createElement("h2",{className:R.section_title},"Month"),e.createElement("div",{className:R.pagination},e.createElement("button",{className:R.pagination_btn,onClick:m},e.createElement(Nt,{className:R.pagination_icon})),e.createElement("p",{className:R.date},`${c.charAt(0).toUpperCase()}${c.slice(1)}`,", ",s),e.createElement("button",{className:R.pagination_btn,onClick:p,disabled:d},!d&&e.createElement(yt,{className:R.pagination_icon})))),e.createElement("ul",{className:R.calendar_list},t.map((u,E)=>e.createElement(co,{key:E,note:u,index:E}))))},Eo=()=>{const a=B();return i.useEffect(()=>{a(Ke())},[a]),e.createElement(ts,null,e.createElement("div",{className:ze.bottle_wrapper},e.createElement(Ks,null),e.createElement(ws,null)),e.createElement("div",{className:ze.today_wrapper},e.createElement(Zr,null),e.createElement(wo,null)))},fo=({children:a})=>{const t=Oe();return f(ue)?a:e.createElement(Ve,{state:{from:t},to:"/signin"})},Fe=({children:a})=>{var r;const t=Oe();return f(ue)?e.createElement(Ve,{to:((r=t.state)==null?void 0:r.from)||"/",replace:!0}):a},_t=oe({name:"loading",initialState:{loading:!1},selectors:{selectIsLoading:a=>a.loading},reducers:{},extraReducers:a=>{a.addMatcher(t=>t.type.endsWith("/pending"),t=>{t.loading=!0}).addMatcher(t=>t.type.endsWith("/rejected")||t.type.endsWith("/fulfilled"),t=>{t.loading=!1})}}),bo=_t.reducer;_t.selectors;const vo="_loaderWrapper_y4qxp_1",No="_loader_y4qxp_1",yo="_spinner_y4qxp_1",ko="_loaderName_y4qxp_30",ve={loaderWrapper:vo,loader:No,spinner:yo,loaderName:ko},Ie=()=>e.createElement("div",{className:ve.loaderWrapper},e.createElement("div",{className:ve.loader},e.createElement("span",{className:ve.loaderName}))),$o=()=>{const a=B(),t=me(),n=f(ha),r=f(ue),s=f(ga);return i.useEffect(()=>{s&&a(re())},[a,s]),i.useEffect(()=>{r&&t("/home")},[r,t]),n?e.createElement(Ie,null):e.createElement(e.Fragment,null,e.createElement(i.Suspense,{fallback:e.createElement(Ie,null)},e.createElement(kt,null,e.createElement(K,{path:"/",element:e.createElement(nn,null)},e.createElement(K,{index:!0,element:e.createElement(bn,null)}),e.createElement(K,{path:"signup",element:e.createElement(Fe,null,e.createElement(On,null))}),e.createElement(K,{path:"signin",element:e.createElement(Fe,null,e.createElement(Vn,null))}),e.createElement(K,{path:"home",element:e.createElement(fo,null,e.createElement(Eo,null))})))))},Co=oe({name:"error",initialState:{error:null},extraReducers:a=>{a.addMatcher(t=>t.type.endsWith("/rejected"),(t,{payload:n})=>{t.error=n?n.message||n:"An error occurred",H.error(t.error)}).addMatcher(t=>t.type.endsWith("/pending"),t=>{t.error=null}).addMatcher(t=>t.type.endsWith("/fulfilled"),t=>{t.error=null})}}),Ro=Co.reducer,Lo={key:"auth",version:1,storage:qt,whitelist:["token"]},ut=$t({reducer:{auth:Ct(Lo,ua),water:Gn,loading:bo,error:Ro},middleware:a=>a({serializableCheck:{ignoredActions:[Rt,Lt,St,Pt,xt,Wt]}}),devTools:!1}),So=Mt(ut);Tt.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(Bt,null,e.createElement(zt,{store:ut},e.createElement(Ft,{loading:null,persistor:So},e.createElement($o,null),e.createElement(It,{autoClose:1500}))))));
//# sourceMappingURL=commonHelpers.js.map
