import{a as ut,c as y,R as e,r as l,b as ce,B as A,d as oe,e as k,f as xe,u as M,g as v,h as le,i as ie,j as be,N as Fe,O as dt,L as Se,o as Ne,k as pt,I as gt,l as re,m as me,C as ye,F as ht,n as Ie,D as wt,p as Et,A as ft,q as vt,G as bt,s as Nt,t as Ue,v as Ae,w as yt,x as H,y as kt,z as $t,E as Ct,H as Rt,P as Lt,J as St,K as Pt,M as qt,Q as Wt,S as Mt,T as jt,U as Tt,V as Bt,W as Dt,X as xt}from"./assets/vendor-4da91298.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const o of c.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();const N=ut.create({baseURL:"https://water-tracker-backend-oo69.onrender.com/api/"}),ke=a=>{N.defaults.headers.common.Authorization=`Bearer ${a}`},Ft=()=>{N.defaults.headers.common.Authorization=""},U=["january","february","march","april","may","june","july","august","september","october","november","december"],Oe=y("addWater",async(a,t)=>{try{const{data:n}=await N.post("water",a);return t.dispatch(z()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ve=y("editWater",async(a,t)=>{const{amount:n,date:r,id:s}=a;try{const{data:c}=await N.patch(`water/${s}`,{amount:n,date:r});return t.dispatch(z()),c}catch(c){return t.rejectWithValue(c.response.data.message)}}),ze=y("deleteWater",async(a,t)=>{try{const{data:n}=await N.delete(`water/${a.id}`);return t.dispatch(z()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ge=y("fetchWaterDataToday",async(a,t)=>{try{const{data:n}=await N.get("water/today");return n}catch(n){return t.rejectWithValue(n.response.data.message)}}),z=y("fetchWaterDataMonth",async({year:a=new Date().getFullYear(),month:t=U[new Date().getMonth()]}={},n)=>{try{const{data:r}=await N.get(`water/${a}/${t}`);return r}catch(r){return n.rejectWithValue(r.response.data.message)}}),He=y("register",async(a,t)=>{try{const{data:n}=await N.post("auth/register",a);return ke(n.token),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ye=y("login",async(a,t)=>{try{const{data:n}=await N.post("auth/login",a);return console.log(n),ke(n.token),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Ke=y("logout",async(a,t)=>{try{const{data:n}=await N.post("auth/logout");return Ft(),n}catch(n){return t.rejectWithValue(n.message)}}),Qe=y("refresh",async(a,t)=>{const n=t.getState().auth.token;if(!n)return t.rejectWithValue("Token is not exist!");try{ke(n);const{data:r}=await N.get("user/current");return r}catch(r){return t.rejectWithValue(r.message)}});y("getWaterRate",async(a,t)=>{try{const{data:n}=await N.get("user/current");return n}catch(n){return t.rejectWithValue(n.message)}});const Je=y("updateUser",async(a,t)=>{try{const{data:n}=await N.patch("user/setting",a);return n}catch(n){return t.rejectWithValue(n.response.data.message)}}),Xe=y("updateAvatar",async(a,t)=>{try{const n=await N.patch("user/avatars",a,{headers:{"Content-Type":"multipart/form-data"}});return console.log(n),n.data}catch(n){return t.rejectWithValue(n.response.data.message)}}),fe=y("updateWaterRate",async(a,t)=>{try{const{data:n}=await N.patch("user/waterRate",a);return t.dispatch(z()),n}catch(n){return t.rejectWithValue(n.response.data.message)}}),It="_overlay_7yssa_1",Ut="_modal_7yssa_25",At="_closeButton_7yssa_49",ge={overlay:It,modal:Ut,closeButton:At},b="/watertracker-frontend/assets/sprite-e5e86550.svg",Ot="_label_1xjhs_1",he={label:Ot},Pe=({name:a,id:t,defaultChecked:n,value:r,label:s,register:c,onChange:o})=>e.createElement("div",{className:he.wrap},e.createElement("input",{id:t,className:he.input,...c(`${a}`),name:a,value:r,onChange:o,type:"radio",defaultChecked:n}),e.createElement("label",{htmlFor:t,className:he.label},s)),Vt="_wrap_s6jbm_1",zt="_label_s6jbm_9",Gt="_input_s6jbm_25",Ht="_error_s6jbm_93",ee={wrap:Vt,label:zt,input:Gt,error:Ht},ve=({name:a,id:t,type:n,value:r,label:s,placeholder:c,register:o,onChange:u,error:_})=>e.createElement("div",{className:ee.wrap},e.createElement("label",{htmlFor:t,className:ee.label},s),e.createElement("input",{id:t,className:ee.input,...o(`${a}`),name:a,type:n,value:r,placeholder:c,onChange:u,autoComplete:"off"}),_&&e.createElement("span",{className:ee.error},_)),Yt="_wrap_aev4a_1",Kt="_label_aev4a_9",Qt="_wrapInput_aev4a_25",Jt="_eye_aev4a_35",Xt="_icon_aev4a_47",Zt="_input_aev4a_59",ea="_error_aev4a_125",j={wrap:Yt,label:Kt,wrapInput:Qt,eye:Jt,icon:Xt,input:Zt,error:ea},Q=({name:a,id:t,value:n,label:r,placeholder:s,register:c,onChange:o,error:u})=>{const[_,d]=l.useState("password");return e.createElement("div",{className:j.wrap},e.createElement("label",{htmlFor:t,className:j.label},r),e.createElement("div",{className:j.wrapInput},e.createElement("div",{className:j.eye,onClick:()=>{d(_==="password"?"text":"password")}},_==="password"?e.createElement("svg",{className:j.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-crossed-eye`})):e.createElement("svg",{className:j.icon,width:"16",height:"16"},e.createElement("use",{xlinkHref:`${b}#icon-eye`}))),e.createElement("input",{id:t,className:j.input,...c(`${a}`),name:a,type:_,value:n,placeholder:s,onChange:o})),u&&e.createElement("span",{className:j.error},u))},ta="_wrap_g7yi5_1",aa="_imageWrap_g7yi5_9",na="_label_g7yi5_21",ra="_imagePreviewContainer_g7yi5_33",sa="_imagePreview_g7yi5_33",ca="_placeholder_g7yi5_61",oa="_input_g7yi5_79",la="_button_g7yi5_87",ia="_icon_g7yi5_113",R={wrap:ta,imageWrap:aa,label:na,imagePreviewContainer:ra,imagePreview:sa,placeholder:ca,input:oa,button:la,icon:ia},ma=({name:a,type:t,label:n,placeholder:r,src:s,register:c,onChange:o})=>{const[u,_]=l.useState(s),d=l.useRef(null),p=w=>{const E=w.target.files[0];if(E){const f=new FileReader;f.onloadend=()=>{_(f.result)},f.readAsDataURL(E)}o&&o(w)},i=()=>{d.current.click()};return e.createElement("div",{className:R.wrap},e.createElement("label",{className:R.label,htmlFor:a},n),e.createElement("div",{className:R.imageWrap},e.createElement("div",{className:R.imagePreviewContainer},u?e.createElement("img",{src:u,alt:"Preview",className:R.imagePreview}):e.createElement("div",{className:R.placeholder},r)),e.createElement("input",{id:a,className:R.input,name:a,type:t,onChange:p,ref:w=>{c(`${a}`),d.current=w}}),e.createElement("button",{type:"button",onClick:i,className:R.button},e.createElement("svg",{width:"16",height:"16",className:R.icon},e.createElement("use",{href:`${b}#icon-arrow-up`}))," ","Upload a photo")))},we={name:"",email:"",password:"",gender:"",waterRate:1.5,avatarURL:"",token:null,isLoggedIn:!1,isRefresh:!1},$e=ce({name:"auth",initialState:we,selectors:{selectName:a=>a.name,selectGender:a=>a.gender,selectEmail:a=>a.email,selectWaterRate:a=>a.waterRate,selectAvatarURL:a=>a.avatarURL,selectIsLoggedIn:a=>a.isLoggedIn,selectToken:a=>a.token,selectIsRefresh:a=>a.isRefresh},reducers:{logout:a=>we,setName:(a,t)=>{a.name=t.payload}},extraReducers:a=>{a.addCase(Qe.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isLoggedIn=!0,t.isRefresh=!1}).addCase(Ke.fulfilled,t=>we).addCase(Xe.fulfilled,(t,{payload:n})=>{t.avatarURL=n.avatarURL,t.isRefresh=!1,A.success("The avatar has been downloaded successfully")}).addCase(Je.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.isRefresh=!1,A.success("Data changed successfully")}).addCase(fe.fulfilled,(t,{payload:n})=>{t.waterRate=n.waterRate,A.success("Daily norma updated successfully")}).addCase(He.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isRefresh=!1,A.success("You have successfully registered")}).addCase(Ye.fulfilled,(t,{payload:n})=>{t.name=n.name,t.email=n.email,t.password=n.password,t.gender=n.gender,t.waterRate=n.waterRate,t.avatarURL=n.avatarURL,t.token=n.token,t.isLoggedIn=!0,t.isRefresh=!1,A.success(`Welcome, ${n.name||n.email}`)})}}),_a=$e.reducer,{selectName:Ze,selectGender:ua,selectEmail:da,selectWaterRate:et,selectAvatarURL:tt,selectIsLoggedIn:Ce,selectToken:hc,selectIsRefresh:pa}=$e.selectors,{logout:ga,setName:wc}=$e.actions;oe().shape({name:k().max(32,"Must be less than 32 symbols"),email:k().required("Email is required").email("Email is not valid"),password:k().notRequired(),newPassword:k().when("password",{is:a=>a&&a.length>0,then:k().required("New Password is required").min(8,"Must be more than 8 symbols").max(64,"Must be less than 64 symbols")}),repeatNewPass:k().oneOf([xe("newPassword"),null],"Passwords must match").when("newPassword",{is:a=>a&&a.length>0,then:k().required("Repeat new password is required")})});const ha="_title_3v6qg_1",wa="_form_3v6qg_19",Ea="_mainWrap_3v6qg_45",fa="_fieldsetGender_3v6qg_69",va="_wrapInfo_3v6qg_85",ba="_fieldset_3v6qg_69",Na="_legend_3v6qg_111",ya="_button_3v6qg_129",L={title:ha,form:wa,mainWrap:Ea,fieldsetGender:fa,wrapInfo:va,fieldset:ba,legend:Na,button:ya},ka=()=>{var f,O,B,G,D;const a=M(),t=v(Ze),n=v(da),r=v(ua),s=v(tt),{register:c,handleSubmit:o,watch:u,setValue:_,setError:d,formState:{errors:p}}=le({defaultValues:{name:t,email:n,gender:r}}),i=u("gender");l.useEffect(()=>{_("name",t),_("email",n),_("gender",r)},[t,n,r,_]);const w=J=>{const{email:X,name:Z,gender:_t,newPassword:x,password:de,repeatNewPass:Le}=J;if(x&&de===x){d("newPassword",{type:"manual",message:"New password cannot be the same as the current password."});return}if(x&&x!==Le){d("repeatNewPass",{type:"manual",message:"New password and repeat password do not match."});return}const pe={email:X,name:Z,gender:_t};de&&x&&x===Le&&(pe.password=de,pe.newPassword=x),a(Je(pe))},E=J=>{J.preventDefault();const X=J.target.files[0];if(X){const Z=new FormData;Z.append("avatarURL",X),a(Xe(Z))}};return e.createElement(e.Fragment,null,e.createElement("h1",{className:L.title},"Setting"),e.createElement("form",{className:L.form,onSubmit:o(w)},e.createElement(ma,{name:"avatar",type:"file",label:"Your photo",placeholder:"Upload a photo",src:s,register:c,onChange:E}),e.createElement("div",{className:L.mainWrap},e.createElement("div",null,e.createElement("fieldset",{className:L.fieldsetGender},e.createElement("legend",{className:L.legend},"Your gender identity"),e.createElement(Pe,{id:"woman",name:"gender",value:"woman",label:"Woman",register:c,onChange:()=>_("gender","woman"),defaultChecked:i==="woman"}),e.createElement(Pe,{id:"man",name:"gender",value:"man",label:"Man",register:c,onChange:()=>_("gender","man"),defaultChecked:i==="man"})),e.createElement("div",{className:L.wrapInfo},e.createElement(ve,{id:"name",name:"name",type:"text",label:"Your name",placeholder:"Enter your name",register:c,error:(f=p.name)==null?void 0:f.message}),e.createElement(ve,{id:"email",name:"email",type:"email",label:"E-mail",placeholder:"Enter your e-mail",register:c,error:(O=p.email)==null?void 0:O.message}))),e.createElement("fieldset",{className:L.fieldset},e.createElement("legend",{className:L.legend},"Password"),e.createElement(Q,{name:"password",label:"Outdated password:",placeholder:"Password",register:c,error:(B=p.password)==null?void 0:B.message}),e.createElement(Q,{name:"newPassword",label:"New Password:",placeholder:"Password",register:c,error:(G=p.newPassword)==null?void 0:G.message}),e.createElement(Q,{name:"repeatNewPass",label:"Repeat new password:",placeholder:"Password",register:c,error:(D=p.repeatNewPass)==null?void 0:D.message}))),e.createElement("button",{className:L.button},"Save")))},$a=document.querySelector("#modal"),Ca=({onClose:a})=>{const t=l.useCallback(r=>{r.key==="Escape"&&a()},[a]);l.useEffect(()=>(document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}),[t]);const n=r=>{r.target===r.currentTarget&&a()};return ie.createPortal(e.createElement("div",{className:ge.overlay,onClick:n},e.createElement("div",{className:ge.modal},e.createElement("button",{className:ge.closeButton,onClick:a},e.createElement("svg",{width:"24",height:"24"},e.createElement("use",{href:`${b}#icon-cross`}))),e.createElement(ka,null))),$a)},Ra="_overlay_16bt3_1",La="_modal_16bt3_23",Sa="_header_16bt3_41",Pa="_title_16bt3_55",qa="_paragraph_16bt3_69",Wa="_closeButton_16bt3_83",Ma="_buttonContainer_16bt3_97",ja="_cancelButton_16bt3_111",Ta="_logoutButton_16bt3_111",S={overlay:Ra,modal:La,header:Sa,title:Pa,paragraph:qa,closeButton:Wa,buttonContainer:Ma,cancelButton:ja,logoutButton:Ta},Ba=document.querySelector("#modal"),Da=({onClose:a})=>{const t=be(),n=M(),r=()=>{n(Ke()),n(ga()),a(),t("/")},s=l.useCallback(o=>{o.key==="Escape"&&a()},[a]);l.useEffect(()=>(document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}),[s]);const c=o=>{o.target===o.currentTarget&&a()};return ie.createPortal(e.createElement("div",{className:S.overlay,onClick:c},e.createElement("div",{className:S.modal},e.createElement("div",{className:S.header},e.createElement("h2",{className:S.title},"Log out"),e.createElement("button",{className:S.closeButton,onClick:a},e.createElement("svg",{width:"24",height:"24"},e.createElement("use",{href:`${b}#icon-cross`})))),e.createElement("p",{className:S.paragraph},"Do you really want to leave?"),e.createElement("div",{className:S.buttonContainer},e.createElement("button",{className:S.cancelButton,onClick:a},"Cancel"),e.createElement("button",{className:S.logoutButton,onClick:r},"Log out")))),Ba)},xa="_modalWrapper_1llu8_1",Fa="_menu_1llu8_23",Ia="_menuItem_1llu8_45",Ua="_icon_1llu8_83",Aa="_modalContent_1llu8_95",F={modalWrapper:xa,menu:Fa,menuItem:Ia,icon:Ua,modalContent:Aa},Oa=document.querySelector("#modal"),Va=({closeModal:a,onSettingsClick:t,onLogoutClick:n})=>{const r=l.useCallback(c=>{c.key==="Escape"&&a()},[a]);l.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[r]);const s=c=>{c.target===c.currentTarget&&a()};return ie.createPortal(e.createElement("div",{onClick:s,className:F.modalWrapper},e.createElement("div",{className:F.modalContent},e.createElement("div",{className:F.menu},e.createElement("button",{className:F.menuItem,onClick:t},e.createElement("svg",{width:"16",height:"16",className:F.icon},e.createElement("use",{href:`${b}#icon-gear`})),"Settings"),e.createElement("button",{className:F.menuItem,onClick:n},e.createElement("svg",{width:"16",height:"16",className:F.icon},e.createElement("use",{href:`${b}#icon-exit`})),"Log out")))),Oa)},za="_header_1y5rm_1",Ga="_logoLink_1y5rm_15",Ha="_userAuthButton_1y5rm_23",Ya="_userLogoButton_1y5rm_43",Ka="_userName_1y5rm_61",Qa="_userAvatar_1y5rm_73",Ja="_iconUser_1y5rm_85",Xa="_iconDown_1y5rm_95",P={header:za,logoLink:Ga,userAuthButton:Ha,userLogoButton:Ya,userName:Ka,userAvatar:Qa,iconUser:Ja,iconDown:Xa},Za="/watertracker-frontend/assets/logo-694fc291.png",en=()=>{const[a,t]=l.useState(!1),[n,r]=l.useState(!1),[s,c]=l.useState(!1),o=v(Ce),u=v(Ze),_=v(tt),d=be(),p=()=>{t(!0),c(!1)},i=()=>t(!1),w=()=>{r(!0),c(!1)},E=()=>r(!1),f=()=>c(!s),O=()=>{d(o?"/home":"/")},B=()=>{E()};return e.createElement("header",null,e.createElement("nav",{className:P.header},e.createElement("div",{className:P.logoLink,onClick:O},e.createElement("img",{src:Za,alt:"Logo",className:"logo"})),!o&&e.createElement(Fe,{to:"/signin",className:P.userAuthButton},"Sign In",e.createElement("svg",{width:"28",height:"28",className:P.iconUser},e.createElement("use",{href:`${b}#icon-user`}))),o&&e.createElement(e.Fragment,null,e.createElement("button",{className:P.userLogoButton,onClick:f},e.createElement("span",{className:P.userName},u),_?e.createElement("img",{src:_,alt:"User Avatar",className:P.userAvatar}):e.createElement("svg",{width:"28",height:"28",className:P.iconUser},e.createElement("use",{href:`${b}#icon-user`})),e.createElement("svg",{width:"28",height:"28",className:P.iconDown},e.createElement("use",{href:`${b}#icon-down`}))),s&&e.createElement(Va,{closeModal:f,onSettingsClick:p,onLogoutClick:w}))),a&&e.createElement(Ca,{onClose:i}),n&&e.createElement(Da,{onClose:E,onLogout:B}))},tn=()=>e.createElement("div",null,e.createElement(en,null),e.createElement(dt,null)),an="_welcomePageBackground_17bow_1",nn="_container_17bow_17",qe={welcomePageBackground:an,container:nn},rn=({children:a})=>e.createElement("section",{className:qe.welcomePageBackground},e.createElement("div",{className:qe.container},a)),sn="_welcomePageContainer_jvzfb_1",cn="_title_jvzfb_9",on="_buttonContainer_jvzfb_19",ln="_subtitle_jvzfb_33",mn="_listButtonTitle_jvzfb_47",_n="_listButton_jvzfb_47",un="_itemListButton_jvzfb_79",dn="_button_jvzfb_19",pn="_listTitle_jvzfb_151",gn="_list_jvzfb_47",hn="_itemList_jvzfb_79",wn="_welcomePageSection_jvzfb_229",g={welcomePageContainer:sn,title:cn,buttonContainer:on,subtitle:ln,listButtonTitle:mn,listButton:_n,itemListButton:un,button:dn,listTitle:pn,list:gn,itemList:hn,welcomePageSection:wn},En=()=>e.createElement(rn,null,e.createElement("div",{className:g.welcomePageSection},e.createElement("h1",{className:g.title},"Water consumption tracker"),e.createElement("div",{className:g.welcomePageContainer},e.createElement("div",{className:g.buttonContainer},e.createElement("h2",{className:g.subtitle},"Record daily water intake and track"),e.createElement("div",null,e.createElement("span",{className:g.listButtonTitle},"Tracker Benefits"),e.createElement("ul",{className:g.listButton},e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${b}#icon-calendar`})),"Habit drive"),e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${b}#icon-analytics`})),"View statistics"),e.createElement("li",{className:g.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${b}#icon-screw`})),"Personal rate setting"))),e.createElement(Fe,{to:"/signup",className:g.button},"Try tracker")),e.createElement("div",{className:g.listContainer},e.createElement("ul",{className:g.list},e.createElement("span",{className:g.listTitle},"Why drink water"),e.createElement("li",{className:g.itemList},"Supply of nutrients to all organs"),e.createElement("li",{className:g.itemList},"Providing oxygen to the lungs"),e.createElement("li",{className:g.itemList},"Maintaining the work of the heart"),e.createElement("li",{className:g.itemList},"Release of processed substances"),e.createElement("li",{className:g.itemList},"Ensuring the stability of the internal environment"),e.createElement("li",{className:g.itemList},"Maintaining within the normal temperature"),e.createElement("li",{className:g.itemList},"Maintaining an immune system capable of resisting disease")))))),fn="_mainWrap_13j02_1",vn="_title_13j02_13",bn="_form_13j02_29",Nn="_wrap_13j02_37",yn="_label_13j02_45",kn="_input_13j02_61",$n="_error_13j02_109",Cn="_button_13j02_119",Rn="_link_13j02_175",V={mainWrap:fn,title:vn,form:bn,wrap:Nn,label:yn,input:kn,error:$n,button:Cn,link:Rn},at=({formType:a,onSubmit:t,schema:n})=>{var _,d,p;const{register:r,handleSubmit:s,formState:{errors:c}}=le({resolver:Ne(n)}),o=be(),u=i=>{const{repeatPassword:w,...E}=i;t(E).then(f=>{f.error||o(a==="register"?"/signin":"/home")}).catch(f=>{A.error("Submission error:",f)})};return e.createElement("div",{className:V.mainWrap},e.createElement("h1",{className:V.title},a==="register"?"Sign Up":"Sign In"),e.createElement("form",{className:V.form,onSubmit:s(u)},e.createElement(ve,{id:"email",name:"email",type:"email",label:"Enter your email",placeholder:"E-mail",register:r,error:(_=c.email)==null?void 0:_.message}),e.createElement(Q,{id:"password",name:"password",label:"Enter your password",placeholder:"Password",register:r,error:(d=c.password)==null?void 0:d.message}),a==="register"&&e.createElement(Q,{id:"repeatPassword",name:"repeatPassword",label:"Repeat password",placeholder:"Repeat password",register:r,error:(p=c.repeatPassword)==null?void 0:p.message}),e.createElement("button",{className:V.button},a==="register"?"Sign Up":"Sign In"),a==="register"?e.createElement(Se,{to:"/signin",className:V.link},"Sign in"):e.createElement(Se,{to:"/signup",className:V.link},"Sign up")))},Ln="_section_1v9ih_1",Sn="_container_1v9ih_19",We={section:Ln,container:Sn},nt=({children:a})=>e.createElement("section",{className:We.section},e.createElement("div",{className:We.container},a)),rt=oe({email:k().required().email("Email is not valid"),password:k().required().min(8,"Must be more then 8 symbols").max(64,"Must be less then 64 symbols"),repeatPassword:k().oneOf([xe("password"),null],"Passwords must match")}).required(),Pn=()=>{const a=M(),t=async n=>{try{return{error:null,response:await a(He(n)).unwrap()}}catch(r){return{error:r}}};return e.createElement(nt,null,e.createElement(at,{onSubmit:t,formType:"register",schema:rt}))},qn=()=>{const a=M(),t=async n=>{try{return{error:null,response:await a(Ye(n)).unwrap()}}catch(r){return{error:r}}};return e.createElement(nt,null,e.createElement(at,{onSubmit:t,formType:"login",schema:rt}))},Wn={percent:0,notes:[],notesPerMonth:[]},st=ce({name:"water",initialState:Wn,selectors:{selectNotes:a=>a.notes,selectPercent:a=>a.percent,selectNotesPerMonth:a=>a.notesPerMonth},extraReducers:a=>{a.addCase(Oe.fulfilled,(t,{payload:n})=>{t.notes.push(n)}).addCase(Ve.fulfilled,(t,{payload:n})=>{const r=t.notes.findIndex(s=>s._id===n._id);t.notes.splice(r,1,n)}).addCase(ze.fulfilled,(t,{payload:n})=>{t.notes=t.notes.filter(r=>r._id!==n._id)}).addCase(Ge.fulfilled,(t,{payload:n})=>{t.notes=n.result,t.percent=n.percent}).addCase(z.fulfilled,(t,{payload:n})=>{t.notesPerMonth=n})}}),Mn=st.reducer,{selectNotes:ct,selectPercent:Ec,selectNotesPerMonth:jn}=st.selectors,_e=()=>{const[a,t]=l.useState(!1);return{isOpen:a,close:()=>t(!1),open:()=>t(!0),toggle:()=>t(c=>!c)}},ot=a=>pt(new Date(a)).format("HH:mm A"),Tn="_backdrop_z2yoo_1",Bn="_modal_z2yoo_21",Dn="_btn_close_z2yoo_55",xn="_icon_close_z2yoo_75",te={backdrop:Tn,modal:Bn,btn_close:Dn,icon_close:xn},Fn=document.querySelector("#modal"),ue=({closeModal:a,children:t})=>{const n=l.useCallback(s=>{s.key==="Escape"&&a()},[a]);l.useEffect(()=>(document.body.style.overflow="hidden",document.addEventListener("keydown",n),()=>{document.body.style.overflow="",document.removeEventListener("keydown",n)}),[a,n]);const r=s=>{s.target===s.currentTarget&&a()};return ie.createPortal(e.createElement("div",{onClick:r,className:te.backdrop},e.createElement("div",{className:te.modal},e.createElement("button",{onClick:a,className:te.btn_close},e.createElement(gt,{className:te.icon_close})),t)),Fn)},In=oe().shape({amount:re().required("Amount is required").min(1,"Minimum amount is 1").max(5e3,"Maximum amount is 5000").typeError("Please enter a valid number"),date:k().required("Date is required")}),Un="_btn_n355i_1",An="_blue_n355i_55",On="_red_n355i_63",Vn="_cancel_n355i_71",zn="_add_n355i_103",Me={btn:Un,blue:An,red:On,cancel:Vn,add:zn},se=({children:a,type:t,className:n,onClick:r})=>e.createElement("button",{type:t,className:`${Me.btn} ${Me[n]}`,onClick:r},a),Gn="_amount_1xa4y_1",Hn={amount:Gn},Yn=()=>{const{watch:a}=me(),t=a("amount");return e.createElement("p",{className:Hn.amount},t||0,"ml")},Kn="_wrapper_1mims_1",Qn="_label_1mims_13",Jn="_input_wrapper_1mims_23",Xn="_input_container_1mims_35",Zn="_input_1mims_23",er="_btn_1mims_83",tr="_icon_1mims_109",q={wrapper:Kn,label:Qn,input_wrapper:Jn,input_container:Xn,input:Zn,btn:er,icon:tr},ar=()=>{const{control:a}=me();return e.createElement(ye,{name:"amount",control:a,render:({field:t})=>e.createElement("div",{className:q.wrapper},e.createElement("label",{htmlFor:"amount-water",className:q.label},"Amount of water:"),e.createElement("div",{className:q.input_wrapper},e.createElement("button",{className:q.btn,type:"button",onClick:()=>t.onChange(Math.max(t.value-50,0))},e.createElement(ht,{className:q.icon})),e.createElement("div",{className:q.input_container},e.createElement("div",{className:q.input,id:"amount-water"},t.value||0,"ml")),e.createElement("button",{className:q.btn,type:"button",onClick:()=>t.onChange(Math.min(t.value+50,5e3))},e.createElement(Ie,{className:q.icon}))))})},nr="_wrapper_5rkp3_1",rr="_label_5rkp3_13",sr="_datepicker_5rkp3_23",cr="_wrapper_datepicker_5rkp3_43",or="_error_5rkp3_51",Y={wrapper:nr,label:rr,datepicker:sr,wrapper_datepicker:cr,error:or};const lr=({className:a})=>{const{control:t}=me();return e.createElement(ye,{name:"date",control:t,render:({field:n})=>e.createElement("div",{className:Y.wrapper},e.createElement("label",{htmlFor:"time",className:Y.label},"Recording time:"),e.createElement(wt,{id:"time",selected:n.value,onChange:r=>{n.onChange(r)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:5,timeCaption:"Time",dateFormat:"H:mm aa",className:`${Y.datepicker} ${Y[a]}`,wrapperClassName:Y.wrapper_datepicker}))})},ir="_wrapper_8l261_1",mr="_label_8l261_13",_r="_input_8l261_27",ur="_error_8l261_47",ae={wrapper:ir,label:mr,input:_r,error:ur},dr=({className:a})=>{const{control:t}=me();return e.createElement(ye,{name:"amount",control:t,render:({field:n})=>e.createElement("div",{className:ae.wrapper},e.createElement("label",{htmlFor:"water-value",className:ae.label},"Enter the value of the water used:"),e.createElement("input",{className:`${ae.input} ${ae[a]}`,id:"water-value",type:"number",value:n.value,onChange:r=>{const s=r.target.value;s<=5e3&&s>=0&&n.onChange(s)},min:0,max:5e3}))})},lt="/watertracker-frontend/assets/glass-ee1b4d71.svg",pr="_form_title_1eq5j_1",gr="_text_under_title_1eq5j_17",hr="_inputs_wrapper_1eq5j_33",wr="_btn_wrapper_1eq5j_45",Er="_error_message_1eq5j_73",fr="_ml_1eq5j_85",vr="_time_1eq5j_97",br="_edit_data_1eq5j_109",$={form_title:pr,text_under_title:gr,inputs_wrapper:hr,btn_wrapper:wr,error_message:Er,ml:fr,time:vr,edit_data:br},Re=({type:a,amount:t,date:n,id:r,closeModal:s})=>{const c=M(),o=le({defaultValues:{amount:t,date:n},resolver:Ne(In)}),{formState:{errors:u}}=o,_=i=>{switch(i.date=i.date.toString(),a){case"edit":c(Ve({...i,id:r}));break;case"add":c(Oe(i));break;case"delete":c(ze({...i,id:r}));break}s()},d=i=>{switch(i){case"edit":return"Edit the entered amount of water";case"add":return"Add water";case"delete":return"Delete entry"}},p=i=>{switch(i){case"edit":return"Correct entered data:";case"add":return"Choose a value:";case"delete":return"Are you sure you want to delete the entry?"}};return e.createElement(Et,{...o},e.createElement("form",{onSubmit:o.handleSubmit(_)},e.createElement("h2",{className:$.form_title},d(a)),a==="edit"&&e.createElement("div",{className:$.edit_data},e.createElement("img",{src:lt,alt:"glass"}),e.createElement("p",{className:$.ml},t,"ml"),e.createElement("p",{className:$.time},ot(n))),e.createElement("p",{className:$.text_under_title},p(a)),a!=="delete"&&e.createElement("div",{className:$.inputs_wrapper},e.createElement(ar,null),u.amount&&e.createElement("p",{className:$.error_message},u.amount.message),e.createElement(lr,{className:u.date?"error":""}),u.date&&e.createElement("p",{className:$.error_message},u.date.message),e.createElement(dr,{className:u.amount?"error":""}),u.amount&&e.createElement("p",{className:$.error_message},u.amount.message)),e.createElement("div",{className:$.btn_wrapper},a!=="delete"&&e.createElement(Yn,null),a==="delete"&&e.createElement(se,{type:"button",className:"cancel",onClick:s},"Cancel"),e.createElement(se,{type:"submit",className:a==="delete"?"red":"blue"},a==="delete"?"Delete":"Save"))))},Nr="_list_item_h1qsp_1",yr="_wrapper_align_left_h1qsp_15",kr="_wrapper_align_right_h1qsp_29",$r="_ml_h1qsp_43",Cr="_time_h1qsp_55",Rr="_icon_pen_wrapper_h1qsp_67",Lr="_icon_trash_wrapper_h1qsp_91",Sr="_icon_pen_h1qsp_67",Pr="_icon_trash_h1qsp_91",W={list_item:Nr,wrapper_align_left:yr,wrapper_align_right:kr,ml:$r,time:Cr,icon_pen_wrapper:Rr,icon_trash_wrapper:Lr,icon_pen:Sr,icon_trash:Pr},qr=({note:a})=>{const{isOpen:t,toggle:n}=_e(),{amount:r,date:s,_id:c}=a,[o,u]=l.useState(null),_=d=>{u(d),n()};return e.createElement("li",{className:W.list_item},e.createElement("div",{className:W.wrapper_align_left},e.createElement("img",{src:lt,alt:"glass"}),e.createElement("p",{className:W.ml},r," ml"),e.createElement("p",{className:W.time},ot(s))),e.createElement("div",{className:W.wrapper_align_right},e.createElement("button",{className:W.icon_pen_wrapper,onClick:()=>_("edit")},e.createElement("svg",{className:W.icon_pen},e.createElement("use",{xlinkHref:`${b}#icon-pen`}))),e.createElement("button",{className:W.icon_trash_wrapper,onClick:()=>_("delete")},e.createElement("svg",{className:W.icon_trash},e.createElement("use",{xlinkHref:`${b}#icon-trash`})))),t&&e.createElement(ue,{closeModal:n},e.createElement(Re,{type:o,id:c,amount:r,date:new Date(s),closeModal:n})))},Wr="_today_section_1i4pq_1",Mr="_section_title_1i4pq_33",jr="_list_1i4pq_59",Tr="_custom_scroll_container_1i4pq_87",Br="_icon_plus_1i4pq_135",Dr="_add_btn_1i4pq_163",xr="_rcs_inner_handle_1i4pq_207",Fr="_scroll_track_1i4pq_225",I={today_section:Wr,section_title:Mr,list:jr,custom_scroll_container:Tr,icon_plus:Br,add_btn:Dr,rcs_inner_handle:xr,scroll_track:Fr},Ir=()=>{const{isOpen:a,toggle:t}=_e(),n=v(ct);return e.createElement("section",{className:I.today_section},e.createElement("h2",{className:I.section_title},"Today"),e.createElement("div",{className:I.custom_scroll_container},e.createElement(ft,{heightRelativeToParent:"100%",handleClass:I.rcs_inner_handle},n.length>0&&e.createElement("ul",{className:I.list},n.map(r=>e.createElement(qr,{key:r._id,note:r}))))),e.createElement("button",{className:I.add_btn,onClick:t},e.createElement(Ie,{className:I.icon_plus}),"Add water"),a&&e.createElement(ue,{closeModal:t},e.createElement(Re,{type:"add",amount:0,date:new Date,closeModal:t})))},Ur="_section_jkrja_1",Ar="_container_jkrja_19",je={section:Ur,container:Ar},Or=({children:a})=>e.createElement("section",{className:je.section},e.createElement("div",{className:je.container},a)),Vr="_water_ratio_section_wg7qh_1",zr="_section_title_wg7qh_37",Gr="_top_section_wrapper_wg7qh_51",Hr="_progress_bar_wrapper_wg7qh_71",Yr="_progress_bar_wg7qh_71",Kr="_progress_wg7qh_71",Qr="_circle_wg7qh_139",Jr="_marks_wrapper_wg7qh_163",Xr="_marks_label_wrapper_wg7qh_193",Zr="_mark_label_wg7qh_207",es="_active_wg7qh_221",ts="_mark_wg7qh_163",as="_icon_ellipse_wg7qh_245",ns="_icon_plus_circle_wg7qh_255",rs="_btn_name_wg7qh_273",h={water_ratio_section:Vr,section_title:zr,top_section_wrapper:Gr,progress_bar_wrapper:Hr,progress_bar:Yr,progress:Kr,circle:Qr,marks_wrapper:Jr,marks_label_wrapper:Xr,mark_label:Zr,active:es,mark:ts,icon_ellipse:as,icon_plus_circle:ns,btn_name:rs},ss=()=>{const a=v(et),t=v(ct),n=l.useMemo(()=>t.reduce((o,u)=>o+u.amount,0),[t]),r=l.useMemo(()=>Math.round(n/(a*1e3)*100),[n,a]),{isOpen:s,toggle:c}=_e();return e.createElement("section",{className:h.water_ratio_section},e.createElement("div",{className:h.top_section_wrapper},e.createElement("h3",{className:h.section_title},"Today"),e.createElement("div",{className:h.progress_bar_wrapper},e.createElement("div",{className:h.progress_bar},e.createElement("div",{className:h.progress,style:{width:`${r}%`}})),e.createElement("div",{className:h.circle,style:{left:`${Math.min(r,98)}%`}})),e.createElement("div",{className:h.marks_wrapper},e.createElement("div",{className:h.mark}),e.createElement("div",{className:h.mark}),e.createElement("div",{className:h.mark})),e.createElement("div",{className:h.marks_label_wrapper},e.createElement("div",{className:`${h.mark_label} ${r>=0&&r<50?h.active:""}`},"0%"),e.createElement("div",{className:`${h.mark_label} ${r>=50&&r<100?h.active:""}`},"50%"),e.createElement("div",{className:`${h.mark_label} ${r>=100?h.active:""}`},"100%"))),e.createElement("div",{className:h.bottom_section_wrapper},e.createElement(se,{type:"button",className:"add",onClick:c},e.createElement(vt,{className:h.icon_plus_circle}),e.createElement("p",{className:h.btn_name},"Add Water"))),s&&e.createElement(ue,{closeModal:c},e.createElement(Re,{type:"add",amount:0,date:new Date,closeModal:c})))},cs="_today_wrapper_18e80_1",os="_bottle_wrapper_18e80_45",Te={today_wrapper:cs,bottle_wrapper:os},ls=oe().shape({gender:k().required("Gender is required"),weight:re().required("Weight is required").positive("Weight must be positive").typeError("Weight must be a number"),activity:re().required("Activity time is required").min(0,"Activity time cannot be negative").typeError("Activity hours must be a number"),waterRate:re().min(0,"Planned water daily norma must be positive").typeError("Planned water daily norma must be a number").optional()}),is="_form_1cvcc_1",ms="_form_title_1cvcc_13",_s="_formula_wrapper_1cvcc_27",us="_formula_1cvcc_27",ds="_formula_explanation_1cvcc_59",ps="_calculation_wrapper_1cvcc_77",gs="_calculation_title_1cvcc_89",hs="_gender_inputs_1cvcc_105",ws="_gender_input_wrapper_1cvcc_115",Es="_input_wrapper_1cvcc_127",fs="_input_gender_1cvcc_139",vs="_label_1cvcc_169",bs="_input_1cvcc_127",Ns="_required_water_input_wrapper_1cvcc_195",ys="_required_water_1cvcc_195",ks="_btn_wrapper_1cvcc_243",$s="_accent_color_1cvcc_257",Cs="_validation_error_1cvcc_265",Rs="_input_error_1cvcc_279",Ls="_validation_error_waterRate_1cvcc_289",m={form:is,form_title:ms,formula_wrapper:_s,formula:us,formula_explanation:ds,calculation_wrapper:ps,calculation_title:gs,gender_inputs:hs,gender_input_wrapper:ws,input_wrapper:Es,input_gender:fs,label:vs,input:bs,required_water_input_wrapper:Ns,required_water:ys,btn_wrapper:ks,accent_color:$s,validation_error:Cs,input_error:Rs,validation_error_waterRate:Ls},Ss=({closeModal:a})=>{const t=M(),[n,r]=l.useState(0),[s,c]=l.useState(0),{register:o,handleSubmit:u,watch:_,formState:{errors:d}}=le({resolver:Ne(ls),defaultValues:{weight:0,activity:0,waterRate:0}}),p=l.useCallback(f=>{const{gender:O,weight:B,activity:G}=f;let D;return O==="women"?D=B*.03+G*.4:D=B*.04+G*.6,c(D.toFixed(1)),D.toFixed(1)},[]),i=f=>{r(f.target.value)},w=()=>{n>0?t(fe({waterRate:n})):t(fe({waterRate:s})),a()},E=_();return l.useEffect(()=>{E.gender&&E.weight>0&&E.activity>=0&&p(E)},[E]),e.createElement("form",{onSubmit:u(w),className:m.form},e.createElement("h2",{className:m.form_title},"My daily norma"),e.createElement("div",{className:m.formula_wrapper},e.createElement("div",{className:m.formula},e.createElement("p",null,"For girl:"," ",e.createElement("span",{className:m.accent_color},"V=(M*0,03) + (T*0,4)")),e.createElement("p",null,"For man:"," ",e.createElement("span",{className:m.accent_color},"V=(M*0,04) + (T*0,6)"))),e.createElement("p",{className:m.formula_explanation},e.createElement("span",{className:m.accent_color},"*")," V is the volume of the water norm in liters per day, M is your body weight, T is the time of active sports, or another type of activity commensurate in terms of loads (in the absence of these, you must set 0)")),e.createElement("div",{className:m.calculation_wrapper},e.createElement("div",null,e.createElement("h3",{className:m.calculation_title},"Calculate your rate:"),e.createElement("div",{className:m.gender_inputs},e.createElement("div",{className:m.gender_input_wrapper},e.createElement("input",{className:`${m.input_gender} ${d.gender&&m.input_error}`,id:"gender-girl",type:"radio",value:"women",...o("gender")}),e.createElement("label",{htmlFor:"gender-girl",className:m.label},"For girl")),e.createElement("div",{className:m.gender_input_wrapper},e.createElement("input",{className:`${m.input_gender} ${d.gender&&m.input_error}`,id:"gender-man",type:"radio",value:"man",...o("gender")}),e.createElement("label",{className:m.label,htmlFor:"gender-man"},"For man")))),d.gender&&e.createElement("p",{className:m.validation_error},d.gender.message),e.createElement("div",{className:m.input_wrapper},e.createElement("label",{htmlFor:"weight",className:m.label},"Your weight in kilograms:"),e.createElement("input",{className:`${m.input} ${d.weight&&m.input_error}`,id:"weight",type:"number",...o("weight")})),d.weight&&e.createElement("p",{className:m.validation_error},d.weight.message),e.createElement("div",{className:m.input_wrapper},e.createElement("label",{htmlFor:"activity",className:m.label},"The time of active participation in sports or other activities with a high physical. load in hours:"),e.createElement("input",{className:`${m.input} ${d.activity&&m.input_error}`,id:"activity",type:"nuber",...o("activity")}),d.activity&&e.createElement("p",{className:m.validation_error},d.activity.message)),e.createElement("div",{className:m.required_water_input_wrapper},e.createElement("label",{htmlFor:"requiredWater",className:m.label},"The required amount of water in liters per day:"),e.createElement("output",{id:"requiredWater",className:m.required_water},`${s||1.5} L`))),e.createElement("div",null,e.createElement("h3",{className:m.calculation_title},"Write down how much water you will drink:"),e.createElement("input",{className:`${m.input} ${d.waterRate&&m.input_error}`,id:"waterRate",type:"text",...o("waterRate"),onChange:i}),d.waterRate&&e.createElement("p",{className:m.validation_error_waterRate},d.waterRate.message)),e.createElement("div",{className:m.btn_wrapper},e.createElement(se,{type:"submit",className:"blue"},"Save")))},Ps="_section_daily_norma_j3219_1",qs="_section_title_j3219_27",Ws="_daily_norma_j3219_41",Ms="_btn_edit_j3219_55",js="_bottom_section_wrapper_j3219_69",K={section_daily_norma:Ps,section_title:qs,daily_norma:Ws,btn_edit:Ms,bottom_section_wrapper:js},Ts=()=>{const a=v(et),{isOpen:t,toggle:n}=_e();return e.createElement("section",{className:K.section_daily_norma},e.createElement("h3",{className:K.section_title},"My daily norma"),e.createElement("div",{className:K.bottom_section_wrapper},e.createElement("p",{className:K.daily_norma},a," L"),e.createElement("button",{className:K.btn_edit,onClick:n},"Edit")),t&&e.createElement(ue,{closeModal:n},e.createElement(Ss,{closeModal:n})))},Bs="_stats_list_fckd3_1",Ds="_date_fckd3_39",xs="_stat_fckd3_1",Fs="_accent_fckd3_59",T={stats_list:Bs,date:Ds,stat:xs,accent:Fs},Is={firstColumn:[1,6,11,16,21,26,31],secondColumn:[2,7,12,17,22,27],thirdColumn:[3,8,13,18,23,28],fourthColumn:[4,9,14,19,24,29]},Us={firstColumn:[1,11,21,31],secondColumn:[2,12,22],thirdColumn:[3,13,23],fourthColumn:[4,14,24]},As=l.forwardRef(({note:a,index:t},n)=>{const{date:r,waterRate:s,percent:c,consumptionCount:o}=a,u=(i,w)=>Object.keys(w).find(E=>w[E].includes(i)),d=l.useCallback(()=>{const i=window.innerWidth;return i<=767?u(t,Is):i>=768&&i<=1439?u(t,Us):null},[t])(),p=i=>{switch(i){case"firstColumn":return{right:"-241px"};case"secondColumn":return{right:"-183px"};case"thirdColumn":return{right:"-125px"};case"fourthColumn":return{right:"-67px"};default:return{}}};return e.createElement("ul",{className:T.stats_list,ref:n,style:p(d)},e.createElement("li",{className:T.date},r),e.createElement("li",{className:T.stat},"Daily norma: ",e.createElement("span",{className:T.accent},s)),e.createElement("li",{className:T.stat},"Fulfillment of the daily norm:"," ",e.createElement("span",{className:T.accent},c)),e.createElement("li",{className:T.stat},"How many servings of water:"," ",e.createElement("span",{className:T.accent},o)))}),Os="_calendar_item_1inpm_1",Vs="_date_1inpm_17",zs="_orange_border_1inpm_49",Gs="_percent_1inpm_57",ne={calendar_item:Os,date:Vs,orange_border:zs,percent:Gs},Hs=({note:a,index:t})=>{const[n,r]=l.useState(!1),s=l.useRef(null),c=_=>{s.current&&!s.current.contains(_.target)&&r(!1)},o=_=>{_.key==="Escape"&&r(!1)};l.useEffect(()=>(n?(document.addEventListener("mousedown",c),document.addEventListener("keydown",o)):(document.removeEventListener("mousedown",c),document.removeEventListener("keydown",o)),()=>{document.removeEventListener("mousedown",c),document.removeEventListener("keydown",o)}),[n]);const u=_=>{s.current&&s.current.contains(_.target)||r(!n)};return e.createElement("li",{className:ne.calendar_item,onClick:u},e.createElement("p",{className:`${ne.date} ${parseInt(a.percent)<100?ne.orange_border:""}`},t+1),e.createElement("p",{className:ne.percent},a.percent),n&&e.createElement(As,{note:a,index:t+1,ref:s}))},Ys="_water_month_section_11wa2_1",Ks="_section_title_11wa2_37",Qs="_title_wrapper_11wa2_63",Js="_calendar_list_11wa2_75",Xs="_pagination_11wa2_109",Zs="_pagination_btn_11wa2_119",ec="_pagination_icon_11wa2_145",tc="_date_11wa2_157",C={water_month_section:Ys,section_title:Ks,title_wrapper:Qs,calendar_list:Js,pagination:Xs,pagination_btn:Zs,pagination_icon:ec,date:tc},ac=()=>{const a=M(),t=v(jn),n=l.useMemo(()=>new Date().getFullYear(),[]),r=l.useMemo(()=>new Date().getMonth(),[]),[s,c]=l.useState(n),[o,u]=l.useState(U[r]);l.useEffect(()=>{a(z({year:s,month:o}))},[a,s,o]);const _=l.useCallback(()=>{const i=new Date(s,U.indexOf(o)-1,1);c(i.getFullYear()),u(U[i.getMonth()])},[s,o]),d=l.useCallback(()=>{const i=new Date(s,U.indexOf(o)+1,1);c(i.getFullYear()),u(U[i.getMonth()])},[s,o]),p=l.useMemo(()=>{const i=new Date().getMonth();return s===n&&U.indexOf(o)>=i||s>n},[s,o,n]);return e.createElement("section",{className:C.water_month_section},e.createElement("div",{className:C.title_wrapper},e.createElement("h2",{className:C.section_title},"Month"),e.createElement("div",{className:C.pagination},e.createElement("button",{className:C.pagination_btn,onClick:_},e.createElement(bt,{className:C.pagination_icon})),e.createElement("p",{className:C.date},`${o.charAt(0).toUpperCase()}${o.slice(1)}`,", ",s),e.createElement("button",{className:C.pagination_btn,onClick:d,disabled:p},!p&&e.createElement(Nt,{className:C.pagination_icon})))),e.createElement("ul",{className:C.calendar_list},t.map((i,w)=>e.createElement(Hs,{key:w,note:i,index:w}))))},nc=()=>{const a=M();return l.useEffect(()=>{a(Ge())},[a]),e.createElement(Or,null,e.createElement("div",{className:Te.bottle_wrapper},e.createElement(Ts,null),e.createElement(ss,null)),e.createElement("div",{className:Te.today_wrapper},e.createElement(Ir,null),e.createElement(ac,null)))},rc=({children:a})=>{const t=Ue();return v(Ce)?a:e.createElement(Ae,{state:{from:t},to:"/signin"})},Be=({children:a})=>{var r;const t=Ue();return v(Ce)?e.createElement(Ae,{to:((r=t.state)==null?void 0:r.from)||"/",replace:!0}):a},it=ce({name:"loading",initialState:{loading:!1},selectors:{selectIsLoading:a=>a.loading},reducers:{},extraReducers:a=>{a.addMatcher(t=>t.type.endsWith("/pending"),t=>{t.loading=!0}).addMatcher(t=>t.type.endsWith("/rejected")||t.type.endsWith("/fulfilled"),t=>{t.loading=!1})}}),sc=it.reducer;it.selectors;const cc="_loaderWrapper_8mu9a_1",oc="_loader_8mu9a_1",lc="_spinner_8mu9a_1",ic="_loaderName_8mu9a_59",Ee={loaderWrapper:cc,loader:oc,spinner:lc,loaderName:ic},De=()=>e.createElement("div",{className:Ee.loaderWrapper},e.createElement("div",{className:Ee.loader},e.createElement("span",{className:Ee.loaderName}))),mc=()=>{const a=M(),t=v(pa);return l.useEffect(()=>{a(Qe())},[a]),t?e.createElement(De,null):e.createElement(e.Fragment,null,e.createElement(l.Suspense,{fallback:e.createElement(De,null)},e.createElement(yt,null,e.createElement(H,{path:"/",element:e.createElement(tn,null)},e.createElement(H,{index:!0,element:e.createElement(En,null)}),e.createElement(H,{path:"signup",element:e.createElement(Be,null,e.createElement(Pn,null))}),e.createElement(H,{path:"signin",element:e.createElement(Be,null,e.createElement(qn,null))}),e.createElement(H,{path:"home",element:e.createElement(rc,null,e.createElement(nc,null))})))))},_c=ce({name:"error",initialState:{error:null},extraReducers:a=>{a.addMatcher(t=>t.type.endsWith("/rejected"),(t,{payload:n})=>{t.error=n?n.message||n:"An error occurred",A.error(t.error)}).addMatcher(t=>t.type.endsWith("/pending"),t=>{t.error=null}).addMatcher(t=>t.type.endsWith("/fulfilled"),t=>{t.error=null})}}),uc=_c.reducer,dc={key:"auth",version:1,storage:Mt,whitelist:["token"]},mt=kt({reducer:{auth:$t(dc,_a),water:Mn,loading:sc,error:uc},middleware:a=>a({serializableCheck:{ignoredActions:[Ct,Rt,Lt,St,Pt,qt]}}),devTools:!1}),pc=Wt(mt);jt.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(Tt,null,e.createElement(Bt,{store:mt},e.createElement(Dt,{loading:null,persistor:pc},e.createElement(mc,null),e.createElement(xt,{autoClose:1500}))))));
//# sourceMappingURL=commonHelpers.js.map
