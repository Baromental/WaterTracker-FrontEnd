import{r as u,R as U,a as e,b as Ce,c as b,d as ue,B as j,i as G,u as R,N as X,O as Te,e as Z,f as Be,L as se,g as B,h as de,j as pe,I as Pe,k as O,l as ge,m as x,n as he,o as je,C as ee,F as We,p as we,D as Me,q as Ee,s as xe,A as Fe,t as Ie,v as Ae,w as S,x as De,y as Ue,z as Oe,E as ze,P as Ve,G as He,H as Ge,J as Ke,K as Qe,M as Ye,Q as Je,S as Xe,T as Ze,U as et,V as tt}from"./assets/vendor-9b65d58c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function a(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(s){if(s.ep)return;s.ep=!0;const c=a(s);fetch(s.href,c)}})();const at="_overlay_1v3sk_1",nt="_modal_1v3sk_25",rt="_closeButton_1v3sk_43",K={overlay:at,modal:nt,closeButton:rt},E="/watertracker-frontend/assets/sprite-e5e86550.svg",st=document.querySelector("#modal"),ct=({onClose:n})=>{const t=u.useCallback(r=>{r.key==="Escape"&&n()},[n]);u.useEffect(()=>(document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}),[t]);const a=r=>{r.target===r.currentTarget&&n()};return U.createPortal(e.createElement("div",{className:K.overlay,onClick:a},e.createElement("div",{className:K.modal},e.createElement("button",{className:K.closeButton,onClick:n},e.createElement("svg",{width:"24",height:"24"},e.createElement("use",{href:`${E}#icon-cross`}))),e.createElement("h2",null,"Settings"))),st)},ot="_overlay_wo8ht_1",lt="_modal_wo8ht_25",it="_closeButton_wo8ht_43",mt="_buttonContainer_wo8ht_63",_t="_cancelButton_wo8ht_75",ut="_logoutButton_wo8ht_75",q={overlay:ot,modal:lt,closeButton:it,buttonContainer:mt,cancelButton:_t,logoutButton:ut},dt=document.querySelector("#modal"),pt=({onClose:n,onLogout:t})=>{const a=u.useCallback(s=>{s.key==="Escape"&&n()},[n]);u.useEffect(()=>(document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}),[a]);const r=s=>{s.target===s.currentTarget&&n()};return U.createPortal(e.createElement("div",{className:q.overlay,onClick:r},e.createElement("div",{className:q.modal},e.createElement("button",{className:q.closeButton,onClick:n},e.createElement("svg",{width:"24",height:"24"},e.createElement("use",{href:`${E}#icon-cross`}))),e.createElement("h2",null,"Log out"),e.createElement("p",null,"Do you really want to leave?"),e.createElement("div",{className:q.buttonContainer},e.createElement("button",{className:q.cancelButton,onClick:n},"Cancel"),e.createElement("button",{className:q.logoutButton,onClick:t},"Log out")))),dt)},gt="_menu_1ryr3_1",ht="_menuItem_1ryr3_25",wt="_icon_1ryr3_53",y={menu:gt,menuItem:ht,icon:wt},Et=document.querySelector("#modal"),bt=({closeModal:n,onSettingsClick:t,onLogoutClick:a})=>{const r=u.useCallback(c=>{c.key==="Escape"&&n()},[n]);u.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[r]);const s=c=>{c.target===c.currentTarget&&n()};return U.createPortal(e.createElement("div",{onClick:s,className:y.modalWrapper},e.createElement("div",{className:y.modalContent},e.createElement("div",{className:y.menu},e.createElement("button",{className:y.menuItem,onClick:t},e.createElement("svg",{width:"16",height:"16",className:y.icon},e.createElement("use",{href:`${E}#icon-gear`})),"Settings"),e.createElement("button",{className:y.menuItem,onClick:a},e.createElement("svg",{width:"16",height:"16",className:y.icon},e.createElement("use",{href:`${E}#icon-exit`})),"Log out")))),Et)},ft="_header_owws6_1",vt="_userAuthButton_owws6_15",Nt="_iconUser_owws6_37",kt="_iconDown_owws6_47",L={header:ft,userAuthButton:vt,iconUser:Nt,iconDown:kt},yt="/watertracker-frontend/assets/logo-694fc291.png",g=Ce.create({baseURL:"https://water-tracker-backend-oo69.onrender.com/api/"}),te=n=>{g.defaults.headers.common.Authorization=`Bearer ${n}`},$t=()=>{g.defaults.headers.common.Authorization=""},F=b("register",async(n,t)=>{try{const{data:a}=await g.post("auth/register",n);return te(a.token),a}catch(a){return t.rejectWithValue(a.response.data.message)}}),I=b("login",async(n,t)=>{try{const{data:a}=await g.post("auth/login",n);return console.log(a),te(a.token),a}catch(a){return t.rejectWithValue(a.response.data.message)}}),qt=b("logout",async(n,t)=>{try{const{data:a}=await g.delete("auth/logout");return $t(),a}catch(a){return t.rejectWithValue(a.message)}}),A=b("refresh",async(n,t)=>{const a=t.getState().auth.token;if(!a)return t.rejectWithValue("Token is not exist!");try{te(a);const{data:r}=await g.get("user/current");return r}catch(r){return t.rejectWithValue(r.message)}});b("getWaterRate",async(n,t)=>{try{const{data:a}=await g.get("user/current");return a}catch(a){return t.rejectWithValue(a.message)}});const Q=b("updateUser",async(n,t)=>{try{const{data:a}=await g.patch("user/setting",n);return a}catch(a){return t.rejectWithValue(a.response.data.message)}}),Y=b("updateAvatar",async(n,t)=>{try{const a=await g.patch("user/avatars",n,{headers:{"Content-Type":"multipart/form-data"}});return console.log(a),a.data}catch(a){return t.rejectWithValue(a.response.data.message)}}),J={name:"nata",email:"asdfghgfd@bnm.jh",password:"",gender:"woman",waterRate:1.5,avatarURL:"https://cdn.pixabay.com/photo/2022/02/04/03/06/woman-6991826_1280.png",token:null,loading:!1,error:null,isLoggedIn:!1,isRefresh:!1},ae=ue({name:"auth",initialState:J,selectors:{selectName:n=>n.name,selectGender:n=>n.gender,selectEmail:n=>n.email,selectWaterRate:n=>n.waterRate,selectAvatarURL:n=>n.avatarURL,selectIsLoggedIn:n=>n.isLoggedIn,selectToken:n=>n.token,selectIsRefresh:n=>n.isRefresh,selectIsLoading:n=>n.loading},reducers:{logout:n=>J,setName:(n,t)=>{n.name=t.payload}},extraReducers:n=>{n.addCase(A.fulfilled,(t,{payload:a})=>{t.name=a.name,t.email=a.email,t.password=a.password,t.gender=a.gender,t.waterRate=a.waterRate,t.avatarURL=a.avatarURL,t.token=a.token,t.loading=!1,t.isLoggedIn=!0,t.loading=!1,t.isRefresh=!1}).addCase(qt.fulfilled,t=>J).addCase(Y.fulfilled,(t,{payload:a})=>{t.avatarURL=a.avatarURL,t.loading=!1,t.isRefresh=!1,j.success("Data changed successfully")}).addCase(Q.fulfilled,(t,{payload:a})=>{t.name=a.name,t.email=a.email,t.password=a.password,t.gender=a.gender,t.loading=!1,t.isRefresh=!1,j.success("The avatar has been downloaded successfully")}).addMatcher(G(F.fulfilled,I.fulfilled),(t,{payload:a})=>{t.name=a.name,t.email=a.email,t.password=a.password,t.gender=a.gender,t.waterRate=a.waterRate,t.avatarURL=a.avatarURL,t.token=a.token,t.loading=!1,t.isLoggedIn=!0,t.loading=!1,t.isRefresh=!1,j.success(`Welcome, ${a.name||a.email}`)}).addMatcher(G(F.pending,I.pending,A.pending,Q.pending,Y.pending),t=>{t.loading=!0,t.error=null,t.isRefresh=!0}).addMatcher(G(F.rejected,I.rejected,A.rejected,Q.rejected,Y.rejected),(t,{payload:a})=>{t.error=a,t.loading=!1,t.isRefresh=!1,console.log(a),j.error(a)})}}),Lt=ae.reducer,{selectName:dr,selectGender:pr,selectEmail:gr,selectWaterRate:Rt,selectAvatarURL:hr,selectIsLoggedIn:ne,selectToken:wr,selectIsRefresh:Er,selectIsLoading:br}=ae.selectors;ae.actions;const St=()=>{const[n,t]=u.useState(!1),[a,r]=u.useState(!1),[s,c]=u.useState(!1),m=R(ne),_=()=>{t(!0),c(!1)},h=()=>t(!1),w=()=>{r(!0),c(!1)},f=()=>r(!1),d=()=>c(!s),P=()=>{f()};return e.createElement("header",null,e.createElement("nav",{className:L.header},e.createElement(X,{to:"/",className:L.logoLink},e.createElement("img",{src:yt,alt:"Logo",className:"logo"})),!m&&e.createElement(e.Fragment,null,e.createElement(X,{to:"/signin",className:L.userAuthButton},"Sign In",e.createElement("svg",{width:"28",height:"28",className:L.iconUser},e.createElement("use",{href:`${E}#icon-user`})))),m&&e.createElement(e.Fragment,null,e.createElement("button",{className:L.userLogoButton,onClick:d},e.createElement("svg",{width:"28",height:"28",className:L.iconDown},e.createElement("use",{href:`${E}#icon-down`}))),s&&e.createElement(bt,{onSettingsClick:_,onLogoutClick:w}))),n&&e.createElement(ct,{onClose:h}),a&&e.createElement(pt,{onClose:f,onLogout:P}))},Ct=()=>e.createElement("div",null,e.createElement(St,null),e.createElement(Te,null)),Tt="_welcomePageBackground_17bow_1",Bt="_container_17bow_17",ce={welcomePageBackground:Tt,container:Bt},Pt=({children:n})=>e.createElement("section",{className:ce.welcomePageBackground},e.createElement("div",{className:ce.container},n)),jt="_welcomePageContainer_jvzfb_1",Wt="_title_jvzfb_9",Mt="_buttonContainer_jvzfb_19",xt="_subtitle_jvzfb_33",Ft="_listButtonTitle_jvzfb_47",It="_listButton_jvzfb_47",At="_itemListButton_jvzfb_79",Dt="_button_jvzfb_19",Ut="_listTitle_jvzfb_151",Ot="_list_jvzfb_47",zt="_itemList_jvzfb_79",Vt="_welcomePageSection_jvzfb_229",l={welcomePageContainer:jt,title:Wt,buttonContainer:Mt,subtitle:xt,listButtonTitle:Ft,listButton:It,itemListButton:At,button:Dt,listTitle:Ut,list:Ot,itemList:zt,welcomePageSection:Vt},Ht=()=>e.createElement(Pt,null,e.createElement("div",{className:l.welcomePageSection},e.createElement("h1",{className:l.title},"Water consumption tracker"),e.createElement("div",{className:l.welcomePageContainer},e.createElement("div",{className:l.buttonContainer},e.createElement("h2",{className:l.subtitle},"Record daily water intake and track"),e.createElement("div",null,e.createElement("span",{className:l.listButtonTitle},"Tracker Benefits"),e.createElement("ul",{className:l.listButton},e.createElement("li",{className:l.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${E}#icon-calendar`})),"Habit drive"),e.createElement("li",{className:l.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${E}#icon-analytics`})),"View statistics"),e.createElement("li",{className:l.itemListButton},e.createElement("svg",{width:"40",height:"40"},e.createElement("use",{href:`${E}#icon-screw`})),"Personal rate setting"))),e.createElement(X,{to:"/signup",className:l.button},"Try tracker")),e.createElement("div",{className:l.listContainer},e.createElement("ul",{className:l.list},e.createElement("span",{className:l.listTitle},"Why drink water"),e.createElement("li",{className:l.itemList},"Supply of nutrients to all organs"),e.createElement("li",{className:l.itemList},"Providing oxygen to the lungs"),e.createElement("li",{className:l.itemList},"Maintaining the work of the heart"),e.createElement("li",{className:l.itemList},"Release of processed substances"),e.createElement("li",{className:l.itemList},"Ensuring the stability of the internal environment"),e.createElement("li",{className:l.itemList},"Maintaining within the normal temperature"),e.createElement("li",{className:l.itemList},"Maintaining an immune system capable of resisting disease")))))),Gt="_title_hp6eb_1",Kt="_form_hp6eb_17",Qt="_wrap_hp6eb_27",Yt="_label_hp6eb_35",Jt="_input_hp6eb_51",Xt="_button_hp6eb_95",Zt="_link_hp6eb_137",p={title:Gt,form:Kt,wrap:Qt,label:Yt,input:Jt,button:Xt,link:Zt},be=({formType:n,onSubmit:t})=>{const{register:a,handleSubmit:r,reset:s,formState:{errors:c}}=Z(),m=Be(),_=h=>{const{repeatPassword:w,...f}=h;console.log(h),t(f),console.log(h),s(),m(n==="register"?"/signin":"/")};return e.createElement(e.Fragment,null,e.createElement("h1",{className:p.title},n==="register"?"Sign Up":"Sign In"),e.createElement("form",{className:p.form,onSubmit:r(_)},e.createElement("div",{className:p.wrap},e.createElement("label",{htmlFor:"email",className:p.label},"Enter your email"),e.createElement("input",{id:"email",className:p.input,...a("email",{required:{value:!0,message:"Field is required"}}),name:"email",placeholder:"E-mail"})),e.createElement("div",{className:p.wrap},e.createElement("label",{htmlFor:"password",className:p.label},"Enter your password"),e.createElement("input",{id:"password",className:p.input,...a("password",{required:{value:!0,message:"Field is required"}}),name:"password",placeholder:"Password"})),n==="register"&&e.createElement("div",{className:p.wrap},e.createElement("label",{htmlFor:"repeatPassword",className:p.label},"Repeat password"),e.createElement("input",{id:"repeatPassword",className:p.input,...a("repeatPassword",{required:{value:!0,message:"Field is required"}}),name:"repeatPassword",placeholder:"Repeat password"})),e.createElement("button",{className:p.button},n==="register"?"Sign Up":"Sign In"),n==="register"?e.createElement(se,{to:"/signin",className:p.link},"Sign in"):e.createElement(se,{to:"/signup",className:p.link},"Sign up")))},ea="_section_1wkz1_1",ta="_container_1wkz1_21",oe={section:ea,container:ta},fe=({children:n})=>e.createElement("section",{className:oe.section},e.createElement("div",{className:oe.container},n)),aa=()=>{const n=B();console.log("ok");const t=a=>{console.log(a),n(F(a))};return e.createElement(fe,null,e.createElement(be,{onSubmit:t,formType:"register"}))},na=()=>{const n=B(),t=a=>{console.log(a),n(I(a))};return e.createElement(fe,null,e.createElement(be,{onSubmit:t,formType:"login"}))},ra=({children:n})=>{const t=de();return R(ne)?n:e.createElement(pe,{state:{from:t},to:"/signin"})},le=({children:n})=>{var r;const t=de();return R(ne)?e.createElement(pe,{to:((r=t.state)==null?void 0:r.from)||"/",replace:!0}):n},z=()=>{const[n,t]=u.useState(!1);return{isOpen:n,close:()=>t(!1),open:()=>t(!0),toggle:()=>t(c=>!c)}},ve="/watertracker-frontend/assets/glass-ee1b4d71.svg",sa="_list_item_h1qsp_1",ca="_wrapper_align_left_h1qsp_15",oa="_wrapper_align_right_h1qsp_29",la="_ml_h1qsp_43",ia="_time_h1qsp_55",ma="_icon_pen_wrapper_h1qsp_67",_a="_icon_trash_wrapper_h1qsp_91",ua="_icon_pen_h1qsp_67",da="_icon_trash_h1qsp_91",N={list_item:sa,wrapper_align_left:ca,wrapper_align_right:oa,ml:la,time:ia,icon_pen_wrapper:ma,icon_trash_wrapper:_a,icon_pen:ua,icon_trash:da},pa="_backdrop_zb8yx_1",ga="_modal_zb8yx_21",ha="_btn_close_zb8yx_55",wa="_icon_close_zb8yx_75",W={backdrop:pa,modal:ga,btn_close:ha,icon_close:wa},Ea=document.querySelector("#modal"),V=({closeModal:n,children:t})=>{const a=u.useCallback(s=>{s.key==="Escape"&&n()},[n]);u.useEffect(()=>(document.body.style.overflow="hidden",document.addEventListener("keydown",a),()=>{document.body.style.overflow="",document.removeEventListener("keydown",a)}),[n,a]);const r=s=>{s.target===s.currentTarget&&n()};return U.createPortal(e.createElement("div",{onClick:r,className:W.backdrop},e.createElement("div",{className:W.modal},e.createElement("button",{onClick:n,className:W.btn_close},e.createElement(Pe,{className:W.icon_close})),t)),Ea)},ba="_amount_1xa4y_1",fa={amount:ba},va=()=>{const{watch:n}=O(),t=n("amount");return e.createElement("p",{className:fa.amount},t||0,"ml")},Na="_form_title_1eq5j_1",ka="_text_under_title_1eq5j_17",ya="_inputs_wrapper_1eq5j_33",$a="_btn_wrapper_1eq5j_45",qa="_error_message_1eq5j_73",La="_ml_1eq5j_85",Ra="_time_1eq5j_97",Sa="_edit_data_1eq5j_109",v={form_title:Na,text_under_title:ka,inputs_wrapper:ya,btn_wrapper:$a,error_message:qa,ml:La,time:Ra,edit_data:Sa},Ca=ge().shape({amount:x().required("Amount is required").min(1,"Minimum amount is 1").max(5e3,"Maximum amount is 5000").typeError("Please enter a valid number"),date:he().required("Date is required")}),Ne=n=>je(new Date(n)).format("HH:mm A"),ke=b("addWater",async(n,t)=>{try{const{data:a}=await g.post("water",n);return a}catch(a){return t.rejectWithValue(a.response.data.message)}}),ye=b("editWater",async(n,t)=>{const{amount:a,date:r,id:s}=n;try{const{data:c}=await g.patch(`water/${s}`,{amount:a,date:r});return c}catch(c){return t.rejectWithValue(c.response.data.message)}}),$e=b("deleteWater",async(n,t)=>{try{const{data:a}=await g.delete(`water/${n.id}`);return a}catch(a){return t.rejectWithValue(a.response.data.message)}}),qe=b("fetchWaterDataToday",async(n,t)=>{try{const{data:a}=await g.get("water/today");return a}catch(a){return t.rejectWithValue(a.response.data.message)}}),Ta="_btn_n355i_1",Ba="_blue_n355i_55",Pa="_red_n355i_63",ja="_cancel_n355i_71",Wa="_add_n355i_103",ie={btn:Ta,blue:Ba,red:Pa,cancel:ja,add:Wa},D=({children:n,type:t,className:a,onClick:r})=>e.createElement("button",{type:t,className:`${ie.btn} ${ie[a]}`,onClick:r},n),Ma="_wrapper_1mims_1",xa="_label_1mims_13",Fa="_input_wrapper_1mims_23",Ia="_input_container_1mims_35",Aa="_input_1mims_23",Da="_btn_1mims_83",Ua="_icon_1mims_109",k={wrapper:Ma,label:xa,input_wrapper:Fa,input_container:Ia,input:Aa,btn:Da,icon:Ua},Oa=()=>{const{control:n}=O();return e.createElement(ee,{name:"amount",control:n,render:({field:t})=>e.createElement("div",{className:k.wrapper},e.createElement("label",{htmlFor:"amount-water",className:k.label},"Amount of water:"),e.createElement("div",{className:k.input_wrapper},e.createElement("button",{className:k.btn,type:"button",onClick:()=>t.onChange(Math.max(t.value-50,0))},e.createElement(We,{className:k.icon})),e.createElement("div",{className:k.input_container},e.createElement("div",{className:k.input,id:"amount-water"},t.value||0,"ml")),e.createElement("button",{className:k.btn,type:"button",onClick:()=>t.onChange(Math.min(t.value+50,5e3))},e.createElement(we,{className:k.icon}))))})},za="_wrapper_5rkp3_1",Va="_label_5rkp3_13",Ha="_datepicker_5rkp3_23",Ga="_wrapper_datepicker_5rkp3_43",Ka="_error_5rkp3_51",C={wrapper:za,label:Va,datepicker:Ha,wrapper_datepicker:Ga,error:Ka};const Qa=({className:n})=>{const{control:t}=O();return e.createElement(ee,{name:"date",control:t,render:({field:a})=>e.createElement("div",{className:C.wrapper},e.createElement("label",{htmlFor:"time",className:C.label},"Recording time:"),e.createElement(Me,{id:"time",selected:a.value,onChange:r=>{a.onChange(r)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:5,timeCaption:"Time",dateFormat:"H:mm aa",className:`${C.datepicker} ${C[n]}`,wrapperClassName:C.wrapper_datepicker}))})},Ya="_wrapper_8l261_1",Ja="_label_8l261_13",Xa="_input_8l261_27",Za="_error_8l261_47",M={wrapper:Ya,label:Ja,input:Xa,error:Za},en=({className:n})=>{const{control:t}=O();return e.createElement(ee,{name:"amount",control:t,render:({field:a})=>e.createElement("div",{className:M.wrapper},e.createElement("label",{htmlFor:"water-value",className:M.label},"Enter the value of the water used:"),e.createElement("input",{className:`${M.input} ${M[n]}`,id:"water-value",type:"number",value:a.value,onChange:r=>{const s=r.target.value;s<=5e3&&s>=0&&a.onChange(s)},min:0,max:5e3}))})},re=({type:n,amount:t,date:a,id:r,closeModal:s})=>{const c=B(),m=Z({defaultValues:{amount:t,date:a},resolver:Ee(Ca)}),{formState:{errors:_}}=m,h=d=>{switch(console.log(d),d.date=d.date.toString(),n){case"edit":c(ye({...d,id:r}));break;case"add":c(ke(d));break;case"delete":c($e({...d,id:r}));break}s()},w=d=>{switch(d){case"edit":return"Edit the entered amount of water";case"add":return"Add water";case"delete":return"Delete entry"}},f=d=>{switch(d){case"edit":return"Correct entered data:";case"add":return"Choose a value:";case"delete":return"Are you sure you want to delete the entry?"}};return e.createElement(xe,{...m},e.createElement("form",{onSubmit:m.handleSubmit(h)},e.createElement("h2",{className:v.form_title},w(n)),n==="edit"&&e.createElement("div",{className:v.edit_data},e.createElement("img",{src:ve,alt:"glass"}),e.createElement("p",{className:v.ml},t,"ml"),e.createElement("p",{className:v.time},Ne(a))),e.createElement("p",{className:v.text_under_title},f(n)),n!=="delete"&&e.createElement("div",{className:v.inputs_wrapper},e.createElement(Oa,null),_.amount&&e.createElement("p",{className:v.error_message},_.amount.message),e.createElement(Qa,{className:_.date?"error":""}),_.date&&e.createElement("p",{className:v.error_message},_.date.message),e.createElement(en,{className:_.amount?"error":""}),_.amount&&e.createElement("p",{className:v.error_message},_.amount.message)),e.createElement("div",{className:v.btn_wrapper},n!=="delete"&&e.createElement(va,null),n==="delete"&&e.createElement(D,{type:"button",className:"cancel",onClick:s},"Cancel"),e.createElement(D,{type:"submit",className:n==="delete"?"red":"blue"},n==="delete"?"Delete":"Save"))))},tn=({note:n})=>{const{isOpen:t,toggle:a}=z(),{amount:r,date:s,_id:c}=n,[m,_]=u.useState(null),h=w=>{_(w),a()};return e.createElement("li",{className:N.list_item},e.createElement("div",{className:N.wrapper_align_left},e.createElement("img",{src:ve,alt:"glass"}),e.createElement("p",{className:N.ml},r," ml"),e.createElement("p",{className:N.time},Ne(s))),e.createElement("div",{className:N.wrapper_align_right},e.createElement("button",{className:N.icon_pen_wrapper,onClick:()=>h("edit")},e.createElement("svg",{className:N.icon_pen},e.createElement("use",{xlinkHref:`${E}#icon-pen`}))),e.createElement("button",{className:N.icon_trash_wrapper,onClick:()=>h("delete")},e.createElement("svg",{className:N.icon_trash},e.createElement("use",{xlinkHref:`${E}#icon-trash`})))),t&&e.createElement(V,{closeModal:a},e.createElement(re,{type:m,id:c,amount:r,date:new Date(s),closeModal:a})))},an="_today_section_1i4pq_1",nn="_section_title_1i4pq_33",rn="_list_1i4pq_59",sn="_custom_scroll_container_1i4pq_87",cn="_icon_plus_1i4pq_135",on="_add_btn_1i4pq_163",ln="_rcs_inner_handle_1i4pq_207",mn="_scroll_track_1i4pq_225",$={today_section:an,section_title:nn,list:rn,custom_scroll_container:sn,icon_plus:cn,add_btn:on,rcs_inner_handle:ln,scroll_track:mn},_n={percent:0,notes:[]},Le=ue({name:"water",initialState:_n,selectors:{selectNotes:n=>n.notes,selectPercent:n=>n.percent},extraReducers:n=>{n.addCase(ke.fulfilled,(t,{payload:a})=>{t.notes.push(a)}).addCase(ye.fulfilled,(t,{payload:a})=>{const r=t.notes.findIndex(s=>s._id===a._id);t.notes.splice(r,1,a)}).addCase($e.fulfilled,(t,{payload:a})=>{t.notes=t.notes.filter(r=>r._id!==a._id)}).addCase(qe.fulfilled,(t,{payload:a})=>{t.notes=a.result,t.percent=a.percent})}}),un=Le.reducer,{selectNotes:Re,selectPercent:fr}=Le.selectors,dn=()=>{const{isOpen:n,toggle:t}=z(),a=R(Re);return e.createElement("section",{className:$.today_section},e.createElement("h2",{className:$.section_title},"Today"),e.createElement("div",{className:$.custom_scroll_container},e.createElement(Fe,{heightRelativeToParent:"100%",handleClass:$.rcs_inner_handle},a.length>0&&e.createElement("ul",{className:$.list},a.map(r=>e.createElement(tn,{key:r._id,note:r}))))),e.createElement("button",{className:$.add_btn,onClick:t},e.createElement(we,{className:$.icon_plus}),"Add water"),n&&e.createElement(V,{closeModal:t},e.createElement(re,{type:"add",amount:0,date:new Date,closeModal:t})))},pn="_section_1qmkx_1",gn="_container_1qmkx_21",me={section:pn,container:gn},hn=({children:n})=>e.createElement("section",{className:me.section},e.createElement("div",{className:me.container},n)),wn="_water_ratio_section_wg7qh_1",En="_section_title_wg7qh_37",bn="_top_section_wrapper_wg7qh_51",fn="_progress_bar_wrapper_wg7qh_71",vn="_progress_bar_wg7qh_71",Nn="_progress_wg7qh_71",kn="_circle_wg7qh_139",yn="_marks_wrapper_wg7qh_163",$n="_marks_label_wrapper_wg7qh_193",qn="_mark_label_wg7qh_207",Ln="_active_wg7qh_221",Rn="_mark_wg7qh_163",Sn="_icon_ellipse_wg7qh_245",Cn="_icon_plus_circle_wg7qh_255",Tn="_btn_name_wg7qh_273",i={water_ratio_section:wn,section_title:En,top_section_wrapper:bn,progress_bar_wrapper:fn,progress_bar:vn,progress:Nn,circle:kn,marks_wrapper:yn,marks_label_wrapper:$n,mark_label:qn,active:Ln,mark:Rn,icon_ellipse:Sn,icon_plus_circle:Cn,btn_name:Tn},Bn=()=>{const n=R(Rt),a=R(Re).reduce((m,_)=>m+_.amount,0),r=Math.round(a/(n*1e3)*100),{isOpen:s,toggle:c}=z();return e.createElement("section",{className:i.water_ratio_section},e.createElement("div",{className:i.top_section_wrapper},e.createElement("h3",{className:i.section_title},"Today"),e.createElement("div",{className:i.progress_bar_wrapper},e.createElement("div",{className:i.progress_bar},e.createElement("div",{className:i.progress,style:{width:`${r}%`}})),e.createElement("div",{className:i.circle,style:{left:`${r}%`}})),e.createElement("div",{className:i.marks_wrapper},e.createElement("div",{className:i.mark}),e.createElement("div",{className:i.mark}),e.createElement("div",{className:i.mark})),e.createElement("div",{className:i.marks_label_wrapper},e.createElement("div",{className:`${i.mark_label} ${r>=0&&r<50?i.active:""}`},"0%"),e.createElement("div",{className:`${i.mark_label} ${r>=50&&r<100?i.active:""}`},"50%"),e.createElement("div",{className:`${i.mark_label} ${r>=100?i.active:""}`},"100%"))),e.createElement("div",{className:i.bottom_section_wrapper},e.createElement(D,{type:"button",className:"add",onClick:c},e.createElement(Ie,{className:i.icon_plus_circle}),e.createElement("p",{className:i.btn_name},"Add Water"))),s&&e.createElement(V,{closeModal:c},e.createElement(re,{type:"add",amount:0,date:new Date,closeModal:c})))},Pn="_today_wrapper_1sr5w_1",jn="_bottle_wrapper_1sr5w_35",_e={today_wrapper:Pn,bottle_wrapper:jn},Wn="_section_daily_norma_j3219_1",Mn="_section_title_j3219_27",xn="_daily_norma_j3219_41",Fn="_btn_edit_j3219_55",In="_bottom_section_wrapper_j3219_69",T={section_daily_norma:Wn,section_title:Mn,daily_norma:xn,btn_edit:Fn,bottom_section_wrapper:In},An=ge().shape({gender:he().required("Gender is required"),weight:x().required("Weight is required").positive("Weight must be positive").typeError("Weight must be a number"),activity:x().required("Activity time is required").min(0,"Activity time cannot be negative").typeError("Activity hours must be a number"),waterRate:x().min(0,"Planned water daily norma must be positive").optional()}),Dn="_form_cq5bs_1",Un="_form_title_cq5bs_13",On="_formula_wrapper_cq5bs_27",zn="_formula_cq5bs_27",Vn="_formula_explanation_cq5bs_59",Hn="_calculation_wrapper_cq5bs_77",Gn="_calculation_title_cq5bs_89",Kn="_gender_inputs_cq5bs_105",Qn="_gender_input_wrapper_cq5bs_115",Yn="_input_wrapper_cq5bs_127",Jn="_input_gender_cq5bs_139",Xn="_label_cq5bs_169",Zn="_input_cq5bs_127",er="_required_water_input_wrapper_cq5bs_195",tr="_required_water_cq5bs_195",ar="_btn_wrapper_cq5bs_243",nr="_accent_color_cq5bs_257",rr="_validation_error_cq5bs_265",sr="_input_error_cq5bs_279",o={form:Dn,form_title:Un,formula_wrapper:On,formula:zn,formula_explanation:Vn,calculation_wrapper:Hn,calculation_title:Gn,gender_inputs:Kn,gender_input_wrapper:Qn,input_wrapper:Yn,input_gender:Jn,label:Xn,input:Zn,required_water_input_wrapper:er,required_water:tr,btn_wrapper:ar,accent_color:nr,validation_error:rr,input_error:sr},cr=()=>{const[n,t]=u.useState(0),{register:a,handleSubmit:r,watch:s,formState:{errors:c}}=Z({resolver:Ee(An),defaultValues:{weight:0,activity:0,waterRate:0}}),m=w=>{const{gender:f,weight:d,activity:P}=w;let H;return f==="women"?H=d*.03+P*.4:H=d*.04+P*.6,H.toFixed(1)},_=w=>{t(w.target.value)},h=w=>{if(n>0)console.log(n);else{const f=m(w);console.log(f)}};return e.createElement("form",{onSubmit:r(h),className:o.form},e.createElement("h2",{className:o.form_title},"My daily norma"),e.createElement("div",{className:o.formula_wrapper},e.createElement("div",{className:o.formula},e.createElement("p",null,"For girl:"," ",e.createElement("span",{className:o.accent_color},"V=(M*0,03) + (T*0,4)")),e.createElement("p",null,"For man:"," ",e.createElement("span",{className:o.accent_color},"V=(M*0,04) + (T*0,6)"))),e.createElement("p",{className:o.formula_explanation},e.createElement("span",{className:o.accent_color},"*")," V is the volume of the water norm in liters per day, M is your body weight, T is the time of active sports, or another type of activity commensurate in terms of loads (in the absence of these, you must set 0)")),e.createElement("div",{className:o.calculation_wrapper},e.createElement("div",null,e.createElement("h3",{className:o.calculation_title},"Calculate your rate:"),e.createElement("div",{className:o.gender_inputs},e.createElement("div",{className:o.gender_input_wrapper},e.createElement("input",{className:`${o.input_gender} ${c.gender&&o.input_error}`,id:"gender-girl",type:"radio",value:"women",...a("gender")}),e.createElement("label",{htmlFor:"gender-girl",className:o.label},"For girl")),e.createElement("div",{className:o.gender_input_wrapper},e.createElement("input",{className:`${o.input_gender} ${c.gender&&o.input_error}`,id:"gender-man",type:"radio",value:"man",...a("gender")}),e.createElement("label",{className:o.label,htmlFor:"gender-man"},"For man")))),c.gender&&e.createElement("p",{className:o.validation_error},c.gender.message),e.createElement("div",{className:o.input_wrapper},e.createElement("label",{htmlFor:"weight",className:o.label},"Your weight in kilograms:"),e.createElement("input",{className:`${o.input} ${c.weight&&o.input_error}`,id:"weight",type:"number",...a("weight")})),c.weight&&e.createElement("p",{className:o.validation_error},c.weight.message),e.createElement("div",{className:o.input_wrapper},e.createElement("label",{htmlFor:"activity",className:o.label},"The time of active participation in sports or other activities with a high physical. load in hours:"),e.createElement("input",{className:`${o.input} ${c.activity&&o.input_error}`,id:"activity",type:"nuber",...a("activity")}),c.activity&&e.createElement("p",{className:o.validation_error},c.activity.message)),e.createElement("div",{className:o.required_water_input_wrapper},e.createElement("label",{htmlFor:"requiredWater",className:o.label},"The required amount of water in liters per day:"),e.createElement("output",{id:"requiredWater",className:o.required_water},m(s())+" L"))),e.createElement("div",null,e.createElement("h3",{className:o.calculation_title},"Write down how much water you will drink:"),e.createElement("input",{className:`${o.input} ${c.waterRate&&o.input_error}`,id:"waterRate",type:"text",...a("waterRate"),onChange:_}),c.waterRate&&e.createElement("p",{className:o.validation_error},c.waterRate.message)),e.createElement("div",{className:o.btn_wrapper},e.createElement(D,{type:"submit",className:"blue"},"Save")))},or=()=>{const{isOpen:n,toggle:t}=z();return e.createElement("section",{className:T.section_daily_norma},e.createElement("h3",{className:T.section_title},"My daily norma"),e.createElement("div",{className:T.bottom_section_wrapper},e.createElement("p",{className:T.daily_norma},"1.5 L"),e.createElement("button",{className:T.btn_edit,onClick:t},"Edit")),n&&e.createElement(V,{closeModal:t},e.createElement(cr,null)))},lr=()=>{const n=B();return u.useEffect(()=>{n(qe())},[n]),e.createElement(hn,null,e.createElement("div",{className:_e.bottle_wrapper},e.createElement(or,null),e.createElement(Bn,null)),e.createElement("div",{className:_e.today_wrapper},e.createElement(dn,null)))},ir=()=>{const n=B();return u.useEffect(()=>{n(A())},[n]),e.createElement("div",null,e.createElement(Ae,null,e.createElement(S,{path:"/",element:e.createElement(Ct,null)},e.createElement(S,{index:!0,element:e.createElement(Ht,null)}),e.createElement(S,{path:"signup",element:e.createElement(le,null," ",e.createElement(aa,null)," ")}),e.createElement(S,{path:"signin",element:e.createElement(le,null," ",e.createElement(na,null)," ")}),e.createElement(S,{path:"water-tracker",element:e.createElement(ra,null," ",e.createElement(lr,null)," ")}))))},mr={key:"auth",version:1,storage:Ye,whitelist:["token"]},Se=De({reducer:{auth:Ue(mr,Lt),water:un},middleware:n=>n({serializableCheck:{ignoredActions:[Oe,ze,Ve,He,Ge,Ke]}}),devTools:!1}),_r=Qe(Se);Je.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(Xe,{basename:"/watertracker-frontend"},e.createElement(Ze,{store:Se},e.createElement(et,{loading:null,persistor:_r},e.createElement(ir,null),e.createElement(tt,{autoClose:1500}))))));
//# sourceMappingURL=commonHelpers.js.map
